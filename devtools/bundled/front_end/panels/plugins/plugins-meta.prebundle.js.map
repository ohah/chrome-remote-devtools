{"version":3,"file":"plugins-meta.prebundle.js","sourceRoot":"","sources":["plugins-meta.prebundle.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,8CAA8C;AAC9C,2FAA2F;AAE3F,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAEhD,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,EAAE,MAAM,2BAA2B,CAAC;AAEhD,MAAM,SAAS,GAAG;IAChB;;OAEG;IACH,WAAW,EAAE,UAAU;IACvB;;OAEG;IACH,eAAe,EAAE,YAAY;CACrB,CAAC;AAEX,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,gCAAgC,EAAE,SAAS,CAAC,CAAC;AACtF,MAAM,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAkBxF;;;GAGG;AACH,MAAM,kBAAmB,SAAQ,EAAE,CAAC,KAAK,CAAC,KAAK;IACpC,OAAO,CAAoB;IAEpC,YAAY,MAAyB;QACnC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QACjB,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,2CAA2C;QAC3C,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;QAChD,MAAM,QAAQ,GAAoC,UAAU;YAC1D,CAAC,CAAC,GAAG,UAAU,CAAC,IAAI,kBAAkB,MAAM,CAAC,QAAQ,EAAqC;YAC1F,CAAC,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,mBAAmB,MAAM,CAAC,QAAQ,EAAqC,CAAC;QAE/J,4BAA4B;QAC5B,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,QAAQ,CAAC;QAC5B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACnC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACnC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAChD,CAAC;IAEQ,QAAQ;QACf,KAAK,CAAC,QAAQ,EAAE,CAAC;IACnB,CAAC;IAEQ,QAAQ;QACf,KAAK,CAAC,QAAQ,EAAE,CAAC;IACnB,CAAC;CACF;AAED;;GAEG;AACH,MAAM,aAAa,GAAwB;IACzC,8CAA8C;IAC9C;QACE,EAAE,EAAE,cAAc;QAClB,KAAK,EAAE,cAAc,CAAC,SAAS,CAAC,WAAW,CAAC;QAC5C,aAAa,EAAE,cAAc,CAAC,SAAS,CAAC,eAAe,CAAC;QACxD,QAAQ,EAAE,yBAAyB;QACnC,KAAK,EAAE,IAAI;KACZ;CACF,CAAC;AAEF;;GAEG;AACH,KAAK,MAAM,MAAM,IAAI,aAAa,EAAE,CAAC;IACnC,EAAE,CAAC,WAAW,CAAC,qBAAqB,CAAC;QACnC,QAAQ,uDAAyC;QACjD,EAAE,EAAE,MAAM,CAAC,EAAuB;QAClC,KAAK,EAAE,MAAM,CAAC,KAAK;QACnB,aAAa,EAAE,MAAM,CAAC,aAAa;QACnC,KAAK,EAAE,MAAM,CAAC,KAAK,IAAI,IAAI;QAC3B,WAAW,4DAA0C;QACrD,KAAK,CAAC,QAAQ;YACZ,OAAO,IAAI,kBAAkB,CAAC,MAAM,CAAC,CAAC;QACxC,CAAC;KACF,CAAC,CAAC;AACL,CAAC","sourcesContent":["// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n// Dynamic plugin panel loader / ë™ì  í”ŒëŸ¬ê·¸ì¸ íŒ¨ë„ ë¡œë”\n// Registers plugin panels from panels/plugins directory / panels/plugins ë””ë ‰í† ë¦¬ì—ì„œ í”ŒëŸ¬ê·¸ì¸ íŒ¨ë„ ë“±ë¡\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nconst UIStrings = {\n  /**\n   * @description Title of the Redux DevTools plugin panel / Redux DevTools í”ŒëŸ¬ê·¸ì¸ íŒ¨ë„ ì œëª©\n   */\n  reduxPlugin: 'ğŸ§© Redux',\n  /**\n   * @description Command for showing the Redux DevTools plugin panel / Redux DevTools í”ŒëŸ¬ê·¸ì¸ íŒ¨ë„ í‘œì‹œ ëª…ë ¹\n   */\n  showReduxPlugin: 'Show Redux',\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('panels/plugins/plugins-meta.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\n/**\n * Plugin panel configuration / í”ŒëŸ¬ê·¸ì¸ íŒ¨ë„ ì„¤ì •\n */\ninterface PluginPanelConfig {\n  /** Panel ID / íŒ¨ë„ ID */\n  id: string;\n  /** Panel title getter / íŒ¨ë„ ì œëª© getter */\n  title: () => Platform.UIString.LocalizedString;\n  /** Command prompt getter / ëª…ë ¹ í”„ë¡¬í”„íŠ¸ getter */\n  commandPrompt: () => Platform.UIString.LocalizedString;\n  /** HTML file path relative to plugin directory / í”ŒëŸ¬ê·¸ì¸ ë””ë ‰í† ë¦¬ ê¸°ì¤€ HTML íŒŒì¼ ê²½ë¡œ */\n  htmlFile: string;\n  /** Panel order / íŒ¨ë„ ìˆœì„œ */\n  order?: number;\n}\n\n/**\n * Dynamic iframe panel class / ë™ì  iframe íŒ¨ë„ í´ë˜ìŠ¤\n * Loads plugin HTML in iframe / í”ŒëŸ¬ê·¸ì¸ HTMLì„ iframeì— ë¡œë“œ\n */\nclass DynamicPluginPanel extends UI.Panel.Panel {\n  readonly #iframe: HTMLIFrameElement;\n\n  constructor(config: PluginPanelConfig) {\n    super(config.id);\n    this.setHideOnDetach();\n\n    // Build URL for HTML file / HTML íŒŒì¼ URL êµ¬ì„±\n    const remoteBase = Root.Runtime.getRemoteBase();\n    const panelUrl: Platform.DevToolsPath.UrlString = remoteBase\n      ? `${remoteBase.base}panels/plugins/${config.htmlFile}` as Platform.DevToolsPath.UrlString\n      : `${window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/'))}/panels/plugins/${config.htmlFile}` as Platform.DevToolsPath.UrlString;\n\n    // Create iframe / iframe ìƒì„±\n    this.#iframe = document.createElement('iframe');\n    this.#iframe.src = panelUrl;\n    this.#iframe.style.width = '100%';\n    this.#iframe.style.height = '100%';\n    this.#iframe.style.border = 'none';\n    this.contentElement.appendChild(this.#iframe);\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n  }\n\n  override willHide(): void {\n    super.willHide();\n  }\n}\n\n/**\n * Plugin panel configurations / í”ŒëŸ¬ê·¸ì¸ íŒ¨ë„ ì„¤ì •\n */\nconst PLUGIN_PANELS: PluginPanelConfig[] = [\n  // Redux DevTools plugin / Redux DevTools í”ŒëŸ¬ê·¸ì¸\n  {\n    id: 'redux-plugin',\n    title: i18nLazyString(UIStrings.reduxPlugin),\n    commandPrompt: i18nLazyString(UIStrings.showReduxPlugin),\n    htmlFile: 'redux-plugin/index.html',\n    order: 2001,\n  },\n];\n\n/**\n * Register all plugin panels / ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ íŒ¨ë„ ë“±ë¡\n */\nfor (const config of PLUGIN_PANELS) {\n  UI.ViewManager.registerViewExtension({\n    location: UI.ViewManager.ViewLocationValues.PANEL,\n    id: config.id as Lowercase<string>,\n    title: config.title,\n    commandPrompt: config.commandPrompt,\n    order: config.order ?? 2000,\n    persistence: UI.ViewManager.ViewPersistence.CLOSEABLE,\n    async loadView(): Promise<UI.Panel.Panel> {\n      return new DynamicPluginPanel(config);\n    },\n  });\n}\n"]}
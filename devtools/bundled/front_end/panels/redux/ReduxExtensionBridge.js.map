{"version":3,"file":"ReduxExtensionBridge.js","sourceRoot":"","sources":["../../../../../../front_end/panels/redux/ReduxExtensionBridge.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as ProtocolClient from '../../core/protocol_client/protocol_client.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\n/**\n * Redux DevTools Extension message format / Redux DevTools Extension 메시지 형식\n * Matches the format used by Redux DevTools Extension exactly / Redux DevTools Extension에서 사용하는 형식과 정확히 일치\n *\n * Extension expects either:\n * - {name: \"INIT_INSTANCE\", instanceId: number} for INIT_INSTANCE\n * - {name: \"RELAY\", message: {...}} for other messages\n * Extension은 다음 중 하나를 기대함:\n * - {name: \"INIT_INSTANCE\", instanceId: number} (INIT_INSTANCE의 경우)\n * - {name: \"RELAY\", message: {...}} (다른 메시지의 경우)\n */\ntype ReduxExtensionMessage =\n  | {\n      name: 'INIT_INSTANCE';\n      instanceId: number;\n    }\n  | {\n      name: 'RELAY';\n      message: {\n        type: Protocol.Redux.MessageType;\n        instanceId: number;\n        source: string;\n        payload?: string;\n        action?: string;\n        name?: string;\n        maxAge?: number;\n        nextActionId?: number;\n        timestamp?: number;\n      };\n    };\n\n// Global singleton instance / 전역 싱글톤 인스턴스\nlet globalBridgeInstance: ReduxExtensionBridge | null = null;\nlet bridgeInitialized: boolean = false;\n\n/**\n * Get global ReduxExtensionBridge instance / 전역 ReduxExtensionBridge 인스턴스 가져오기\n * Creates instance if not exists / 인스턴스가 없으면 생성\n */\nexport function getReduxExtensionBridge(): ReduxExtensionBridge {\n  if (!globalBridgeInstance) {\n    globalBridgeInstance = new ReduxExtensionBridge();\n  }\n  return globalBridgeInstance;\n}\n\n/**\n * Initialize Redux bridge with TargetManager / TargetManager로 Redux bridge 초기화\n * Should be called once when DevTools starts / DevTools 시작 시 한 번 호출해야 함\n */\nexport function initializeReduxBridge(): void {\n  if (bridgeInitialized) {\n    return;\n  }\n  bridgeInitialized = true;\n\n  const bridge = getReduxExtensionBridge();\n  const targetManager = SDK.TargetManager.TargetManager.instance();\n\n  // Try to attach to existing primary target / 기존 primary target에 연결 시도\n  const primaryTarget = targetManager.primaryPageTarget();\n  if (primaryTarget) {\n    bridge.attachToTargetIfNeeded(primaryTarget);\n  }\n\n  // Listen for new targets / 새 target 감지\n  targetManager.addEventListener(\n    SDK.TargetManager.Events.AVAILABLE_TARGETS_CHANGED,\n    () => {\n      const newTarget = targetManager.primaryPageTarget();\n      if (newTarget) {\n        bridge.attachToTargetIfNeeded(newTarget);\n      }\n    }\n  );\n\n  console.log('[ReduxExtensionBridge] Global bridge initialized, listening for targets');\n}\n\n/**\n * Redux DevTools Extension과의 통신 브릿지 / Redux DevTools Extension과의 통신 브릿지\n * Extension의 chrome.runtime API를 시뮬레이션하고 CDP 메시지를 Extension 형식으로 변환 / Extension의 chrome.runtime API를 시뮬레이션하고 CDP 메시지를 Extension 형식으로 변환\n */\nexport class ReduxExtensionBridge {\n  private iframeWindow: Window | null = null;\n  private target: SDK.Target.Target | null = null;\n  private observer: ProtocolClient.CDPConnection.CDPConnectionObserver | null = null;\n  private messagePort: MessagePort | null = null;\n  private messageListeners: Array<(message: unknown) => void> = [];\n  private connectCalled: boolean = false; // Track if connect was called / connect 호출 여부 추적\n  private startSent: boolean = false; // Track if START message was sent / START 메시지 전송 여부 추적\n  private messageBuffer: ReduxExtensionMessage[] = []; // Buffer for messages before panel is ready / 패널 준비 전 메시지 버퍼\n  private panelReady: boolean = false; // Track if panel (iframe) is ready / 패널(iframe) 준비 여부\n\n  /**\n   * Initialize bridge with iframe window / iframe window로 브릿지 초기화\n   */\n  initialize(iframeWindow: Window): void {\n    console.log('[ReduxExtensionBridge] Initializing bridge with iframe window');\n    this.iframeWindow = iframeWindow;\n    this.injectExtensionAPI();\n\n    // Mark panel as ready / 패널 준비 완료 표시\n    this.panelReady = true;\n    console.log('[ReduxExtensionBridge] Panel marked as ready, flushing buffered messages');\n\n    // Flush buffered messages to extension / 버퍼된 메시지를 extension으로 전송\n    this.flushMessageBuffer();\n\n    // Wait for Extension to load and call chrome.runtime.connect / Extension이 로드되고 chrome.runtime.connect를 호출할 때까지 대기\n    // If connect is not called within a reasonable time, send START anyway / 합리적인 시간 내에 connect가 호출되지 않으면 START를 보냄\n    setTimeout(() => {\n      if (!this.connectCalled && this.target && !this.startSent) {\n        // Extension didn't call connect, send START anyway / Extension이 connect를 호출하지 않았으므로 START를 보냄\n        console.log('[ReduxExtensionBridge] Extension did not call connect, sending START anyway');\n        this.sendStartMessageToPage();\n      }\n    }, 2000);\n  }\n\n  /**\n   * Flush buffered messages to extension / 버퍼된 메시지를 extension으로 전송\n   * Messages are sent but buffer is preserved for re-flush on new connections / 메시지는 전송되지만 버퍼는 새 연결 시 재플러싱을 위해 보존됨\n   */\n  flushMessageBuffer(): void {\n    if (!this.panelReady || !this.iframeWindow || !this.messagePort) {\n      console.log('[ReduxExtensionBridge] Cannot flush buffer - panelReady:', this.panelReady, 'iframeWindow:', !!this.iframeWindow, 'messagePort:', !!this.messagePort);\n      return;\n    }\n\n    console.log(`[ReduxExtensionBridge] Flushing ${this.messageBuffer.length} buffered messages`);\n\n    // Send all messages but keep buffer intact for re-flush on new connections / 모든 메시지를 전송하지만 새 연결 시 재플러싱을 위해 버퍼는 유지\n    for (const message of this.messageBuffer) {\n      console.log('[ReduxExtensionBridge] Flushing message:', message);\n      this.sendToExtensionDirect(message);\n    }\n\n    console.log('[ReduxExtensionBridge] Buffer flush complete, buffer preserved with', this.messageBuffer.length, 'messages');\n  }\n\n  /**\n   * Inject chrome.runtime API into iframe / iframe에 chrome.runtime API 주입\n   */\n  private injectExtensionAPI(): void {\n    if (!this.iframeWindow) {return;}\n\n    // MessageChannel을 사용하여 가상의 MessagePort 생성 / MessageChannel을 사용하여 가상의 MessagePort 생성\n    const channel = new MessageChannel();\n    this.messagePort = channel.port1;\n\n    // MessagePort로 메시지 수신 / MessagePort로 메시지 수신\n    this.messagePort.onmessage = event => {\n      this.handleExtensionMessage(event.data);\n    };\n\n    // Redux DevTools Extension이 사용하는 chrome.runtime API 시뮬레이션 / Redux DevTools Extension이 사용하는 chrome.runtime API 시뮬레이션\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this.iframeWindow as any).chrome = {\n      runtime: {\n        // Connect to background script / background script에 연결\n        connect: (_options?: { name?: string }) => {\n          // Mark that connect was called / connect가 호출되었음을 표시\n          this.connectCalled = true;\n\n          // MessagePort를 반환하여 Extension이 통신할 수 있도록 함 / MessagePort를 반환하여 Extension이 통신할 수 있도록 함\n          const port = this.messagePort;\n\n          // When Extension connects, send START message / Extension이 연결되면 START 메시지 전송\n          // This matches the original Redux DevTools Extension behavior / 이것은 원래 Redux DevTools Extension 동작과 일치\n          // Original Extension sends START when panel connects (apiMiddleware.ts:588) / 원래 Extension은 panel이 연결될 때 START를 보냄\n          if (port && this.target) {\n            // Wait a bit for Extension to fully initialize / Extension이 완전히 초기화될 시간 대기\n            setTimeout(() => {\n              this.sendStartMessageToPage();\n            }, 100);\n          }\n\n          return port;\n        },\n        // Send message to background script / background script로 메시지 전송\n\n        sendMessage: (message: unknown, callback?: (response: { success: boolean }) => void) => {\n          this.handleExtensionMessage(message);\n          if (callback) {\n            callback({ success: true });\n          }\n        },\n        // Listen to messages from background script / background script로부터 메시지 수신\n        onMessage: {\n\n          addListener: (callback: (message: unknown) => void) => {\n            this.messageListeners.push(callback);\n          },\n\n          removeListener: (callback: (message: unknown) => void) => {\n            const index = this.messageListeners.indexOf(callback);\n            if (index > -1) {\n              this.messageListeners.splice(index, 1);\n            }\n          },\n        },\n        // Get URL for extension resource / extension 리소스 URL 가져오기\n        getURL: (path: string) => {\n          return `devtools://devtools/bundled/panels/redux/extension/${path}`;\n        },\n      },\n      devtools: {\n        inspectedWindow: {\n          // Evaluate script in inspected page / inspected page에서 스크립트 실행\n\n          eval: (expression: string, callback?: (result: unknown, exceptionInfo?: { isException: boolean, value: string }) => void) => {\n            this.evaluateInInspectedPage(expression, callback);\n          },\n          // Get resources from inspected page / inspected page의 리소스 가져오기\n          getResources: (callback?: (resources: Array<{url: string}>) => void) => {\n            this.getPageResources(callback);\n          },\n          // Tab ID (not used in this context) / Tab ID (이 컨텍스트에서 사용되지 않음)\n          get tabId() {\n            return undefined;\n          },\n        },\n      },\n    };\n  }\n\n  /**\n   * Handle messages from Redux DevTools Extension / Redux DevTools Extension으로부터 메시지 처리\n   */\n  private handleExtensionMessage(message: unknown): void {\n    // Handle messages from Extension to page / Extension에서 페이지로의 메시지 처리\n    const extMessage = message as { type?: string; [key: string]: unknown };\n\n    // Forward message to page via Runtime.evaluate / Runtime.evaluate를 통해 페이지로 메시지 전달\n    // This matches the original Redux DevTools Extension behavior / 이것은 원래 Redux DevTools Extension 동작과 일치\n    if (this.target && extMessage.type && (extMessage.type === 'START' || extMessage.type === 'UPDATE' || extMessage.type === 'DISPATCH' || extMessage.type === 'ACTION' || extMessage.type === 'IMPORT' || extMessage.type === 'EXPORT')) {\n      this.sendMessageToPage({ type: extMessage.type, ...extMessage });\n    }\n  }\n\n  /**\n   * Send START message to page to request initial state / 초기 상태를 요청하기 위해 페이지에 START 메시지 전송\n   * This matches the original Redux DevTools Extension behavior / 이것은 원래 Redux DevTools Extension 동작과 일치\n   */\n  private sendStartMessageToPage(): void {\n    if (!this.target || this.startSent) {\n      return;\n    }\n\n    // Mark that START was sent / START가 전송되었음을 표시\n    this.startSent = true;\n\n    // Send START message to page / 페이지에 START 메시지 전송\n    this.sendMessageToPage({ type: 'START' });\n  }\n\n  /**\n   * Send START message to page if not already sent / 아직 전송되지 않았다면 페이지에 START 메시지 전송\n   */\n  sendStartMessageToPageIfNeeded(): void {\n    if (this.target && !this.startSent) {\n      this.sendStartMessageToPage();\n    }\n  }\n\n  /**\n   * Send message to page via Runtime.evaluate / Runtime.evaluate를 통해 페이지로 메시지 전송\n   * This simulates the original Redux DevTools Extension message passing / 이것은 원래 Redux DevTools Extension 메시지 전달을 시뮬레이션\n   */\n  private sendMessageToPage(message: { type: string; [key: string]: unknown }): void {\n    if (!this.target) {\n      return;\n    }\n\n    // Convert message to string for evaluation / 평가를 위해 메시지를 문자열로 변환\n    const messageStr = JSON.stringify(message);\n\n    // Send message to page via postMessage simulation / postMessage 시뮬레이션을 통해 페이지로 메시지 전송\n    // The page's subscribe listener will receive this / 페이지의 subscribe 리스너가 이를 받음\n    this.target.runtimeAgent().invoke_evaluate({\n      expression: `\n        (function() {\n          if (window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION_LISTENERS__) {\n            const message = ${messageStr};\n            // Trigger message listeners / 메시지 리스너 트리거\n            window.__REDUX_DEVTOOLS_EXTENSION_LISTENERS__.forEach(listener => {\n              try {\n                listener(message);\n              } catch (e) {\n                console.warn('[ReduxDevTools] Error in message listener:', e);\n              }\n            });\n          }\n        })();\n      `,\n      returnByValue: false,\n    }).catch((error: Error) => {\n      console.warn('[ReduxExtensionBridge] Failed to send message to page:', error);\n    });\n  }\n\n  /**\n   * Send message to Redux DevTools Extension iframe / Redux DevTools Extension iframe으로 메시지 전송\n   * If panel is not ready, buffer the message / 패널이 준비되지 않았으면 메시지 버퍼링\n   */\n  private sendToExtension(message: ReduxExtensionMessage): void {\n    // If panel is not ready, buffer the message / 패널이 준비되지 않았으면 메시지 버퍼링\n    if (!this.panelReady || !this.iframeWindow || !this.messagePort) {\n      const messageType = message.name === 'INIT_INSTANCE' ? 'INIT_INSTANCE' : message.message.type;\n      console.log(`[ReduxExtensionBridge] Buffering message (panelReady: ${this.panelReady}):`, messageType);\n      this.messageBuffer.push(message);\n      return;\n    }\n\n    this.sendToExtensionDirect(message);\n  }\n\n  /**\n   * Send message directly to Redux DevTools Extension iframe / Redux DevTools Extension iframe으로 메시지 직접 전송\n   */\n  private sendToExtensionDirect(message: ReduxExtensionMessage): void {\n    if (!this.iframeWindow || !this.messagePort) {\n      console.warn('[ReduxExtensionBridge] Cannot send message - iframeWindow or messagePort not available');\n      return;\n    }\n\n    console.log('[ReduxExtensionBridge] Sending message to extension:', message);\n\n    // MessagePort로 메시지 전송 / MessagePort로 메시지 전송\n    this.messagePort.postMessage(message);\n\n    // 또는 postMessage로 직접 전송 / 또는 postMessage로 직접 전송\n    this.iframeWindow.postMessage(message, '*');\n    console.log('[ReduxExtensionBridge] Message sent via postMessage');\n  }\n\n  /**\n   * Attach to target if not already attached / 아직 연결되지 않았으면 타겟에 연결\n   * Used by global initializer / 전역 초기화에서 사용\n   */\n  attachToTargetIfNeeded(target: SDK.Target.Target): void {\n    // Skip if already attached to this target / 이미 이 타겟에 연결되어 있으면 건너뜀\n    if (this.target === target) {\n      return;\n    }\n\n    const router = target.router();\n    if (!router?.connection) {\n      return;\n    }\n\n    console.log('[ReduxExtensionBridge] Attaching to target:', target.name());\n    this.attachToTarget(target, router.connection);\n  }\n\n  /**\n   * Attach to target and listen for Redux CDP events / 타겟에 연결하고 Redux CDP 이벤트 리스닝\n   */\n  attachToTarget(target: SDK.Target.Target, connection: ProtocolClient.CDPConnection.CDPConnection): void {\n    // Cleanup previous observer if exists / 이전 observer가 있으면 정리\n    if (this.observer && this.target) {\n      const oldRouter = this.target.router();\n      if (oldRouter?.connection) {\n        oldRouter.connection.unobserve(this.observer);\n      }\n    }\n\n    this.target = target;\n\n    this.observer = {\n      onEvent: (\n        event: ProtocolClient.CDPConnection.CDPEvent<ProtocolClient.CDPConnection.Event>\n      ): void => {\n        // Redux CDP 이벤트를 Redux DevTools Extension 형식으로 변환 / Redux CDP 이벤트를 Redux DevTools Extension 형식으로 변환\n        const method = event.method as string;\n        if (method === 'Redux.message') {\n          this.convertCDPToExtensionMessage(event);\n        }\n      },\n      onDisconnect: (_reason: string): void => {\n        this.observer = null;\n      },\n    };\n\n    connection.observe(this.observer);\n\n    // After observer is registered, request re-send of cached stores from server\n    // 서버에서 캐시된 store를 다시 보내달라고 요청\n    // We do this by sending START message to the page, which will trigger the app to send INIT again\n    // 페이지에 START 메시지를 보내서 앱이 다시 INIT을 보내도록 함\n    console.log('[ReduxExtensionBridge] Observer registered, requesting re-initialization from page');\n    this.requestReduxReInitialization();\n  }\n\n  /**\n   * Request Redux stores to re-initialize / Redux store들에게 재초기화 요청\n   * This sends a message to the page that triggers the app to send INIT messages again\n   * 페이지에 메시지를 보내서 앱이 다시 INIT 메시지를 보내도록 함\n   */\n  private requestReduxReInitialization(): void {\n    if (!this.target) {\n      return;\n    }\n\n    // Send a special message to trigger re-initialization\n    // __REDUX_DEVTOOLS_EXTENSION__의 send 메서드를 호출하여 현재 상태를 다시 보내도록 함\n    this.target.runtimeAgent().invoke_evaluate({\n      expression: `\n        (function() {\n          // Trigger all connected Redux stores to re-send their state\n          // 연결된 모든 Redux store들이 상태를 다시 보내도록 트리거\n          if (window.__REDUX_DEVTOOLS_EXTENSION__ && typeof window.__REDUX_DEVTOOLS_EXTENSION__.notifyExtensionReady === 'function') {\n            window.__REDUX_DEVTOOLS_EXTENSION__.notifyExtensionReady();\n            return 'notifyExtensionReady called';\n          } else if (window.__REDUX_DEVTOOLS_EXTENSION__) {\n            // Fallback: trigger re-initialization by dispatching a synthetic message\n            // 폴백: 합성 메시지를 디스패치하여 재초기화 트리거\n            return '__REDUX_DEVTOOLS_EXTENSION__ exists but no notifyExtensionReady';\n          }\n          return 'no __REDUX_DEVTOOLS_EXTENSION__';\n        })();\n      `,\n      returnByValue: true,\n    }).then((response) => {\n      console.log('[ReduxExtensionBridge] Re-initialization request result:', response.result?.value);\n    }).catch((error: Error) => {\n      console.warn('[ReduxExtensionBridge] Failed to request re-initialization:', error);\n    });\n  }\n\n  /**\n   * Convert CDP message to Extension message format / CDP 메시지를 Extension 메시지 형식으로 변환\n   * Matches Redux DevTools Extension message format exactly / Redux DevTools Extension 메시지 형식과 정확히 일치\n   *\n   * Extension expects:\n   * - {name: \"INIT_INSTANCE\", instanceId: number} for INIT_INSTANCE type\n   * - {name: \"RELAY\", message: {...}} for other message types\n   * Extension은 다음을 기대함:\n   * - {name: \"INIT_INSTANCE\", instanceId: number} (INIT_INSTANCE 타입의 경우)\n   * - {name: \"RELAY\", message: {...}} (다른 메시지 타입의 경우)\n   */\n  private convertCDPToExtensionMessage(event: ProtocolClient.CDPConnection.CDPEvent<ProtocolClient.CDPConnection.Event>): void {\n    const params = event.params as Protocol.Redux.MessageEvent;\n\n    // Redux.message 이벤트는 params에 직접 메시지 정보가 있음 / Redux.message event has message info directly in params\n    // Redux DevTools Extension이 기대하는 메시지 형식으로 변환 / Redux DevTools Extension이 기대하는 메시지 형식으로 변환\n    let extensionMessage: ReduxExtensionMessage;\n\n    if (params.type === 'INIT_INSTANCE') {\n      // INIT_INSTANCE는 특별한 형식 / INIT_INSTANCE has special format\n      extensionMessage = {\n        name: 'INIT_INSTANCE',\n        instanceId: params.instanceId,\n      };\n    } else {\n      // 다른 메시지는 RELAY 형식으로 래핑 / Other messages are wrapped in RELAY format\n      extensionMessage = {\n        name: 'RELAY',\n        message: {\n          type: params.type,\n          instanceId: params.instanceId,\n          source: params.source,\n          payload: params.payload,\n          action: params.action,\n          name: params.name,\n          maxAge: params.maxAge,\n          nextActionId: params.nextActionId,\n          timestamp: params.timestamp,\n        },\n      };\n    }\n\n    // Send to extension via MessagePort (simulating chrome.runtime.Port) / MessagePort를 통해 extension으로 전송 (chrome.runtime.Port 시뮬레이션)\n    // Redux DevTools Extension expects messages via chrome.runtime.Port.postMessage / Redux DevTools Extension은 chrome.runtime.Port.postMessage를 통해 메시지를 기대함\n    this.sendToExtension(extensionMessage);\n  }\n\n  /**\n   * Evaluate script in inspected page / inspected page에서 스크립트 실행\n   */\n  private evaluateInInspectedPage(\n    expression: string,\n    callback?: (result: unknown, exceptionInfo?: { isException: boolean, value: string }) => void\n  ): void {\n    if (!this.target) {\n      if (callback) {callback(null, { isException: true, value: 'No target available' });}\n      return;\n    }\n\n    const runtimeModel = this.target.model(SDK.RuntimeModel.RuntimeModel);\n    if (!runtimeModel) {\n      if (callback) {callback(null, { isException: true, value: 'No runtime model available' });}\n      return;\n    }\n\n    // Use Runtime API directly / Runtime API 직접 사용\n    this.target.runtimeAgent().invoke_evaluate({\n      expression,\n      returnByValue: true,\n    }).then((response: Protocol.Runtime.EvaluateResponse) => {\n      if (callback) {\n        if (response.exceptionDetails) {\n          callback(null, {\n            isException: true,\n            value: response.exceptionDetails.text || 'Unknown error',\n          });\n        } else {\n          callback(response.result?.value, undefined);\n        }\n      }\n    }).catch((error: Error) => {\n      if (callback) {callback(null, { isException: true, value: error.message });}\n    });\n  }\n\n  /**\n   * Get page resources / 페이지 리소스 가져오기\n   */\n  private getPageResources(callback?: (resources: Array<{url: string}>) => void): void {\n    // Always return at least the current page URL / 항상 최소한 현재 페이지 URL 반환\n    const resources: Array<{url: string}> = [];\n\n    if (!this.target) {\n      // Fallback: use about:blank if no target / 타겟이 없으면 about:blank 사용\n      if (callback) {\n        callback([{url: 'about:blank'}]);\n      }\n      return;\n    }\n\n    // Get inspected URL (current page URL) / inspected URL 가져오기 (현재 페이지 URL)\n    const inspectedUrl = this.target.inspectedURL();\n    if (inspectedUrl) {\n      resources.push({url: inspectedUrl});\n    }\n\n    const resourceTreeModel = this.target.model(SDK.ResourceTreeModel.ResourceTreeModel);\n    if (resourceTreeModel?.mainFrame) {\n      // Get main frame URL if different from inspected URL / inspected URL과 다르면 메인 프레임 URL 가져오기\n      const mainFrameUrl = resourceTreeModel.mainFrame.url;\n      if (mainFrameUrl && mainFrameUrl !== inspectedUrl && !resources.some(r => r.url === mainFrameUrl)) {\n        resources.push({url: mainFrameUrl});\n      }\n\n      // Get all resources from the main frame / 메인 프레임의 모든 리소스 가져오기\n      resourceTreeModel.mainFrame.resources().forEach(resource => {\n        const url = resource.url;\n        if (url && !resources.some(r => r.url === url)) {\n          resources.push({url});\n        }\n      });\n    }\n\n    // Ensure at least one resource is returned / 최소한 하나의 리소스는 반환\n    if (resources.length === 0) {\n      resources.push({url: inspectedUrl || 'about:blank'});\n    }\n\n    if (callback) {\n      callback(resources);\n    }\n  }\n\n  /**\n   * Cleanup / 정리\n   */\n  cleanup(): void {\n    if (this.observer && this.target) {\n      const router = this.target.router();\n      if (router?.connection) {\n        router.connection.unobserve(this.observer);\n      }\n      this.observer = null;\n    }\n    this.messageListeners = [];\n  }\n}\n\n"]}
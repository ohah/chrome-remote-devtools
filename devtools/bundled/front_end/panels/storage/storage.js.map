{
  "version": 3,
  "sources": ["../../../../../../front_end/panels/storage/StoragePanel.ts", "../../../../../../front_end/panels/application/AsyncStorageStorageItemsView.ts", "../../../../../../front_end/panels/application/KeyValueStorageItemsView.ts", "../../../../../../front_end/panels/application/StorageItemsToolbar.ts", "../../../../../../front_end/panels/application/AsyncStorageStorageModel.ts", "../../../../../../front_end/panels/application/MMKVStorageItemsView.ts", "../../../../../../front_end/panels/application/MMKVStorageModel.ts"],
  "sourcesContent": ["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\nimport * as Common from '../../core/common/common.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport {createIcon} from '../../ui/kit/kit.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport {AsyncStorageStorageItemsView} from '../application/AsyncStorageStorageItemsView.js';\nimport {AsyncStorageStorageModel, type AsyncStorageStorage, Events as AsyncStorageStorageModelEvents} from '../application/AsyncStorageStorageModel.js';\nimport {MMKVStorageItemsView} from '../application/MMKVStorageItemsView.js';\nimport {MMKVStorageModel, type MMKVStorage, Events as MMKVStorageModelEvents} from '../application/MMKVStorageModel.js';\n\nlet storagePanelInstance: StoragePanel;\n\nexport class StoragePanel extends UI.Panel.PanelWithSidebar {\n  visibleView: UI.Widget.Widget|null;\n  private pendingViewPromise: Promise<UI.Widget.Widget>|null;\n  storageViews: HTMLElement;\n  private readonly storageViewToolbar: UI.Toolbar.Toolbar;\n  private mmkvStorageView: MMKVStorageItemsView|null;\n  private asyncStorageStorageView: AsyncStorageStorageItemsView|null;\n  private readonly sidebar: StoragePanelSidebar;\n\n  private constructor() {\n    super('storage');\n\n    this.visibleView = null;\n    this.pendingViewPromise = null;\n\n    const mainContainer = new UI.Widget.VBox();\n    mainContainer.setMinimumSize(100, 0);\n    this.storageViews = mainContainer.element.createChild('div', 'vbox flex-auto');\n    this.storageViewToolbar = mainContainer.element.createChild('devtools-toolbar', 'resources-toolbar');\n    this.splitWidget().setMainWidget(mainContainer);\n\n    this.mmkvStorageView = null;\n    this.asyncStorageStorageView = null;\n\n    this.sidebar = new StoragePanelSidebar(this);\n    this.sidebar.show(this.panelSidebarElement());\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): StoragePanel {\n    const {forceNew} = opts;\n    if (!storagePanelInstance || forceNew) {\n      storagePanelInstance = new StoragePanel();\n    }\n\n    return storagePanelInstance;\n  }\n\n  override focus(): void {\n    this.sidebar.focus();\n  }\n\n  resetView(): void {\n    if (this.visibleView) {\n      this.showView(null);\n    }\n  }\n\n  showView(view: UI.Widget.Widget|null): void {\n    this.pendingViewPromise = null;\n    if (this.visibleView === view) {\n      return;\n    }\n\n    if (this.visibleView) {\n      this.visibleView.detach();\n    }\n\n    if (view) {\n      view.show(this.storageViews);\n    }\n    this.visibleView = view;\n\n    this.storageViewToolbar.removeToolbarItems();\n    this.storageViewToolbar.classList.toggle('hidden', true);\n    if (view instanceof UI.View.SimpleView) {\n      void view.toolbarItems().then(items => {\n        items.map(item => this.storageViewToolbar.appendToolbarItem(item));\n        this.storageViewToolbar.classList.toggle('hidden', !items.length);\n      });\n    }\n  }\n\n  async scheduleShowView(viewPromise: Promise<UI.Widget.Widget>): Promise<UI.Widget.Widget|null> {\n    this.pendingViewPromise = viewPromise;\n    const view = await viewPromise;\n    if (this.pendingViewPromise !== viewPromise) {\n      return null;\n    }\n    this.showView(view);\n    return view;\n  }\n\n  showMMKVStorage(mmkvStorage: MMKVStorage): void {\n    if (!mmkvStorage) {\n      return;\n    }\n\n    if (!this.mmkvStorageView) {\n      this.mmkvStorageView = new MMKVStorageItemsView(mmkvStorage);\n    } else {\n      this.mmkvStorageView.setStorage(mmkvStorage);\n    }\n    this.showView(this.mmkvStorageView);\n  }\n\n  showAsyncStorageStorage(asyncStorageStorage: AsyncStorageStorage): void {\n    if (!asyncStorageStorage) {\n      return;\n    }\n\n    if (!this.asyncStorageStorageView) {\n      this.asyncStorageStorageView = new AsyncStorageStorageItemsView(asyncStorageStorage);\n    } else {\n      this.asyncStorageStorageView.setStorage(asyncStorageStorage);\n    }\n    this.showView(this.asyncStorageStorageView);\n  }\n\n  showCategoryView(\n      categoryName: string, categoryHeadline: string, categoryDescription: string,\n      _categoryLink: Platform.DevToolsPath.UrlString|null): void {\n    // Create a simple category view / 간단한 카테고리 뷰 생성\n    const categoryView = new UI.Widget.VBox();\n    categoryView.element.classList.add('storage-category-view');\n    const headline = categoryView.element.createChild('div', 'storage-category-headline');\n    headline.textContent = categoryHeadline;\n    const description = categoryView.element.createChild('div', 'storage-category-description');\n    description.textContent = categoryDescription;\n    this.showView(categoryView);\n  }\n}\n\n// Storage Panel Sidebar / Storage 패널 사이드바\nexport class StoragePanelSidebar extends UI.Widget.VBox {\n  private readonly panel: StoragePanel;\n  private readonly sidebarTree: UI.TreeOutline.TreeOutlineInShadow;\n  mmkvListTreeElement: ExpandableStoragePanelTreeElement;\n  asyncStorageListTreeElement: ExpandableStoragePanelTreeElement;\n  private mmkvStorageTreeElements: Map<MMKVStorage, MMKVStorageTreeElement>;\n  private asyncStorageStorageTreeElements: Map<AsyncStorageStorage, AsyncStorageStorageTreeElement>;\n\n  constructor(panel: StoragePanel) {\n    super();\n    this.panel = panel;\n    this.element.classList.add('storage-panel-sidebar');\n    this.sidebarTree = new UI.TreeOutline.TreeOutlineInShadow();\n    this.sidebarTree.element.classList.add('storage-panel-sidebar-tree');\n    this.sidebarTree.setFocusable(true);\n    this.element.appendChild(this.sidebarTree.element);\n\n    this.mmkvStorageTreeElements = new Map();\n    this.asyncStorageStorageTreeElements = new Map();\n\n    // Create MMKV section / MMKV 섹션 생성\n    this.mmkvListTreeElement = new ExpandableStoragePanelTreeElement(\n        this.panel, 'MMKV', 'No MMKV storage detected',\n        'On this page you can view, add, edit, and delete MMKV storage key-value pairs.', 'mmkv-storage');\n    const mmkvIcon = createIcon('table');\n    this.mmkvListTreeElement.setLeadingIcons([mmkvIcon]);\n    this.sidebarTree.appendChild(this.mmkvListTreeElement);\n\n    // Create AsyncStorage section / AsyncStorage 섹션 생성\n    this.asyncStorageListTreeElement = new ExpandableStoragePanelTreeElement(\n        this.panel, 'AsyncStorage', 'No AsyncStorage detected',\n        'On this page you can view, add, edit, and delete AsyncStorage key-value pairs.', 'async-storage');\n    const asyncStorageIcon = createIcon('table');\n    this.asyncStorageListTreeElement.setLeadingIcons([asyncStorageIcon]);\n    this.sidebarTree.appendChild(this.asyncStorageListTreeElement);\n\n    // Listen to model changes / 모델 변경 감지\n    SDK.TargetManager.TargetManager.instance().observeModels(\n        MMKVStorageModel, {\n          modelAdded: (model: MMKVStorageModel) => this.mmkvStorageModelAdded(model),\n          modelRemoved: (model: MMKVStorageModel) => this.mmkvStorageModelRemoved(model),\n        },\n        {scoped: true});\n    SDK.TargetManager.TargetManager.instance().observeModels(\n        AsyncStorageStorageModel, {\n          modelAdded: (model: AsyncStorageStorageModel) => this.asyncStorageStorageModelAdded(model),\n          modelRemoved: (model: AsyncStorageStorageModel) => this.asyncStorageStorageModelRemoved(model),\n        },\n        {scoped: true});\n  }\n\n  override focus(): void {\n    this.sidebarTree.focus();\n  }\n\n  private mmkvStorageModelAdded(model: MMKVStorageModel): void {\n    model.addEventListener(MMKVStorageModelEvents.MMKV_STORAGE_ADDED, this.mmkvStorageAdded, this);\n    model.addEventListener(MMKVStorageModelEvents.MMKV_STORAGE_REMOVED, this.mmkvStorageRemoved, this);\n    model.enable();\n    for (const storage of model.storages()) {\n      this.addMMKVStorage(storage);\n    }\n  }\n\n  private mmkvStorageModelRemoved(model: MMKVStorageModel): void {\n    model.removeEventListener(MMKVStorageModelEvents.MMKV_STORAGE_ADDED, this.mmkvStorageAdded, this);\n    model.removeEventListener(MMKVStorageModelEvents.MMKV_STORAGE_REMOVED, this.mmkvStorageRemoved, this);\n    for (const storage of model.storages()) {\n      this.removeMMKVStorage(storage);\n    }\n  }\n\n  private mmkvStorageAdded = (event: Common.EventTarget.EventTargetEvent<MMKVStorage>): void => {\n    const mmkvStorage = event.data;\n    this.addMMKVStorage(mmkvStorage);\n  };\n\n  private addMMKVStorage(mmkvStorage: MMKVStorage): void {\n    // Check if already added / 이미 추가되었는지 확인\n    if (this.mmkvStorageTreeElements.has(mmkvStorage)) {\n      return;\n    }\n\n    const mmkvStorageTreeElement = new MMKVStorageTreeElement(this.panel, mmkvStorage);\n    this.mmkvStorageTreeElements.set(mmkvStorage, mmkvStorageTreeElement);\n\n    function comparator(a: UI.TreeOutline.TreeElement, b: UI.TreeOutline.TreeElement): number {\n      const aTitle = a.titleAsText().toLocaleLowerCase();\n      const bTitle = b.titleAsText().toLocaleLowerCase();\n      return aTitle.localeCompare(bTitle);\n    }\n\n    this.mmkvListTreeElement.appendChild(mmkvStorageTreeElement, comparator);\n  }\n\n  private mmkvStorageRemoved = (event: Common.EventTarget.EventTargetEvent<MMKVStorage>): void => {\n    const mmkvStorage = event.data;\n    this.removeMMKVStorage(mmkvStorage);\n  };\n\n  private removeMMKVStorage(mmkvStorage: MMKVStorage): void {\n    const treeElement = this.mmkvStorageTreeElements.get(mmkvStorage);\n    if (!treeElement) {\n      return;\n    }\n    const wasSelected = treeElement.selected;\n    this.mmkvListTreeElement.removeChild(treeElement);\n    this.mmkvStorageTreeElements.delete(mmkvStorage);\n    if (wasSelected && this.mmkvListTreeElement.childCount() > 0) {\n      const firstChild = this.mmkvListTreeElement.childAt(0);\n      if (firstChild) {\n        firstChild.select();\n      }\n    }\n  }\n\n  private asyncStorageStorageModelAdded(model: AsyncStorageStorageModel): void {\n    model.addEventListener(AsyncStorageStorageModelEvents.ASYNC_STORAGE_ADDED, this.asyncStorageStorageAdded, this);\n    model.addEventListener(AsyncStorageStorageModelEvents.ASYNC_STORAGE_REMOVED, this.asyncStorageStorageRemoved, this);\n    model.enable();\n    for (const storage of model.storages()) {\n      this.addAsyncStorageStorage(storage);\n    }\n  }\n\n  private asyncStorageStorageModelRemoved(model: AsyncStorageStorageModel): void {\n    model.removeEventListener(AsyncStorageStorageModelEvents.ASYNC_STORAGE_ADDED, this.asyncStorageStorageAdded, this);\n    model.removeEventListener(AsyncStorageStorageModelEvents.ASYNC_STORAGE_REMOVED, this.asyncStorageStorageRemoved, this);\n    for (const storage of model.storages()) {\n      this.removeAsyncStorageStorage(storage);\n    }\n  }\n\n  private asyncStorageStorageAdded = (event: Common.EventTarget.EventTargetEvent<AsyncStorageStorage>): void => {\n    const asyncStorageStorage = event.data;\n    this.addAsyncStorageStorage(asyncStorageStorage);\n  };\n\n  private addAsyncStorageStorage(asyncStorageStorage: AsyncStorageStorage): void {\n    // Check if already added / 이미 추가되었는지 확인\n    if (this.asyncStorageStorageTreeElements.has(asyncStorageStorage)) {\n      return;\n    }\n\n    // AsyncStorage is single instance, so show directly without expandable category / AsyncStorage는 단일 인스턴스이므로 확장 가능한 카테고리 없이 직접 표시\n    // If this is the first AsyncStorage, replace the expandable element with direct tree element / 첫 번째 AsyncStorage인 경우 확장 가능한 엘리먼트를 직접 트리 엘리먼트로 교체\n    if (this.asyncStorageStorageTreeElements.size === 0) {\n      // Remove the expandable element / 확장 가능한 엘리먼트 제거\n      this.sidebarTree.removeChild(this.asyncStorageListTreeElement);\n\n      // Create direct tree element / 직접 트리 엘리먼트 생성\n      const asyncStorageStorageTreeElement = new AsyncStorageStorageTreeElement(this.panel, asyncStorageStorage);\n      this.asyncStorageStorageTreeElements.set(asyncStorageStorage, asyncStorageStorageTreeElement);\n      this.sidebarTree.appendChild(asyncStorageStorageTreeElement);\n\n      // Auto-select the first AsyncStorage / 첫 번째 AsyncStorage 자동 선택\n      asyncStorageStorageTreeElement.select();\n    } else {\n      // If multiple AsyncStorage instances exist, use expandable category / 여러 AsyncStorage 인스턴스가 있는 경우 확장 가능한 카테고리 사용\n      const asyncStorageStorageTreeElement = new AsyncStorageStorageTreeElement(this.panel, asyncStorageStorage);\n      this.asyncStorageStorageTreeElements.set(asyncStorageStorage, asyncStorageStorageTreeElement);\n\n      function comparator(a: UI.TreeOutline.TreeElement, b: UI.TreeOutline.TreeElement): number {\n        const aTitle = a.titleAsText().toLocaleLowerCase();\n        const bTitle = b.titleAsText().toLocaleLowerCase();\n        return aTitle.localeCompare(bTitle);\n      }\n\n      this.asyncStorageListTreeElement.appendChild(asyncStorageStorageTreeElement, comparator);\n    }\n  }\n\n  private asyncStorageStorageRemoved = (event: Common.EventTarget.EventTargetEvent<AsyncStorageStorage>): void => {\n    const asyncStorageStorage = event.data;\n    this.removeAsyncStorageStorage(asyncStorageStorage);\n  };\n\n  private removeAsyncStorageStorage(asyncStorageStorage: AsyncStorageStorage): void {\n    const treeElement = this.asyncStorageStorageTreeElements.get(asyncStorageStorage);\n    if (!treeElement) {\n      return;\n    }\n    const wasSelected = treeElement.selected;\n\n    // Check if we're using direct tree element or expandable category / 직접 트리 엘리먼트를 사용하는지 확장 가능한 카테고리를 사용하는지 확인\n    if (this.asyncStorageStorageTreeElements.size === 1) {\n      // Last one, remove direct element and restore expandable category / 마지막 하나, 직접 엘리먼트 제거하고 확장 가능한 카테고리 복원\n      this.sidebarTree.removeChild(treeElement);\n      this.asyncStorageStorageTreeElements.delete(asyncStorageStorage);\n\n      // Restore expandable element / 확장 가능한 엘리먼트 복원\n      const asyncStorageIcon = createIcon('table');\n      this.asyncStorageListTreeElement.setLeadingIcons([asyncStorageIcon]);\n      this.sidebarTree.appendChild(this.asyncStorageListTreeElement);\n    } else {\n      // Multiple instances, remove from expandable category / 여러 인스턴스, 확장 가능한 카테고리에서 제거\n      this.asyncStorageListTreeElement.removeChild(treeElement);\n      this.asyncStorageStorageTreeElements.delete(asyncStorageStorage);\n      if (wasSelected && this.asyncStorageListTreeElement.childCount() > 0) {\n        const firstChild = this.asyncStorageListTreeElement.childAt(0);\n        if (firstChild) {\n          firstChild.select();\n        }\n      }\n    }\n  }\n}\n\n// Storage Panel Tree Element / Storage 패널 트리 엘리먼트\nclass StoragePanelTreeElement extends UI.TreeOutline.TreeElement {\n  protected readonly storagePanel: StoragePanel;\n\n  constructor(storagePanel: StoragePanel, title: string, expandable: boolean, jslogContext: string) {\n    super(title, expandable, jslogContext);\n    this.storagePanel = storagePanel;\n    UI.ARIAUtils.setLabel(this.listItemElement, title);\n    this.listItemElement.tabIndex = -1;\n  }\n\n  override deselect(): void {\n    super.deselect();\n    this.listItemElement.tabIndex = -1;\n  }\n\n  get itemURL(): Platform.DevToolsPath.UrlString {\n    throw new Error('Unimplemented Method');\n  }\n\n  override onselect(_selectedByUser: boolean|undefined): boolean {\n    return false;\n  }\n\n  showView(view: UI.Widget.Widget|null): void {\n    this.storagePanel.showView(view);\n  }\n}\n\n// Expandable Storage Panel Tree Element / 확장 가능한 Storage 패널 트리 엘리먼트\nclass ExpandableStoragePanelTreeElement extends StoragePanelTreeElement {\n  protected readonly expandedSetting: Common.Settings.Setting<boolean>;\n  protected readonly categoryName: string;\n  protected categoryLink: Platform.DevToolsPath.UrlString|null;\n  protected emptyCategoryHeadline: string;\n  protected categoryDescription: string;\n\n  constructor(\n      storagePanel: StoragePanel, categoryName: string, emptyCategoryHeadline: string, categoryDescription: string,\n      settingsKey: string, settingsDefault = false) {\n    super(storagePanel, categoryName, false, settingsKey);\n    this.expandedSetting =\n        Common.Settings.Settings.instance().createSetting('storage-' + settingsKey + '-expanded', settingsDefault);\n    this.categoryName = categoryName;\n    this.categoryLink = null;\n    this.emptyCategoryHeadline = emptyCategoryHeadline;\n    this.categoryDescription = categoryDescription;\n  }\n\n  override get itemURL(): Platform.DevToolsPath.UrlString {\n    return 'category://' + this.categoryName as Platform.DevToolsPath.UrlString;\n  }\n\n  override onselect(selectedByUser?: boolean): boolean {\n    super.onselect(selectedByUser);\n    this.storagePanel.showCategoryView(\n        this.categoryName, this.emptyCategoryHeadline, this.categoryDescription, this.categoryLink);\n    return false;\n  }\n\n  override onexpand(): void {\n    this.expandedSetting.set(true);\n  }\n\n  override oncollapse(): void {\n    this.expandedSetting.set(false);\n  }\n\n  override onattach(): void {\n    super.onattach();\n    if (this.expandedSetting.get()) {\n      this.expand();\n    }\n  }\n}\n\n// MMKV Storage Tree Element / MMKV 스토리지 트리 엘리먼트\nclass MMKVStorageTreeElement extends StoragePanelTreeElement {\n  private readonly mmkvStorage: MMKVStorage;\n  constructor(storagePanel: StoragePanel, mmkvStorage: MMKVStorage) {\n    super(\n        storagePanel,\n        mmkvStorage.instanceId === 'default' ? 'MMKV (default)' : `MMKV (${mmkvStorage.instanceId})`,\n        false, 'mmkv-storage-for-instance');\n    this.mmkvStorage = mmkvStorage;\n    const icon = createIcon('table');\n    this.setLeadingIcons([icon]);\n    this.listItemElement.setAttribute('jslog', `${VisualLogging.treeItem('mmkv-storage-instance')}`);\n  }\n\n  override get itemURL(): Platform.DevToolsPath.UrlString {\n    return 'mmkv-storage://' + this.mmkvStorage.instanceId as Platform.DevToolsPath.UrlString;\n  }\n\n  override onselect(_selectedByUser?: boolean): boolean {\n    super.onselect(_selectedByUser);\n    this.storagePanel.showMMKVStorage(this.mmkvStorage);\n    return false;\n  }\n\n  override onattach(): void {\n    super.onattach();\n    this.listItemElement.addEventListener('contextmenu', this.handleContextMenuEvent.bind(this), true);\n  }\n\n  private handleContextMenuEvent(event: MouseEvent): void {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.defaultSection().appendItem(\n        'Clear', () => this.mmkvStorage.clear(), {jslogContext: 'clear'});\n    void contextMenu.show();\n  }\n}\n\n// AsyncStorage Storage Tree Element / AsyncStorage 스토리지 트리 엘리먼트\nclass AsyncStorageStorageTreeElement extends StoragePanelTreeElement {\n  private readonly asyncStorageStorage: AsyncStorageStorage;\n  constructor(storagePanel: StoragePanel, asyncStorageStorage: AsyncStorageStorage) {\n    super(\n        storagePanel,\n        'AsyncStorage',\n        false, 'async-storage-storage-for-instance');\n    this.asyncStorageStorage = asyncStorageStorage;\n    const icon = createIcon('table');\n    this.setLeadingIcons([icon]);\n    this.listItemElement.setAttribute('jslog', `${VisualLogging.treeItem('async-storage-storage-instance')}`);\n  }\n\n  override get itemURL(): Platform.DevToolsPath.UrlString {\n    return 'async-storage-storage://' + this.asyncStorageStorage.instanceId as Platform.DevToolsPath.UrlString;\n  }\n\n  override onselect(_selectedByUser?: boolean): boolean {\n    super.onselect(_selectedByUser);\n    this.storagePanel.showAsyncStorageStorage(this.asyncStorageStorage);\n    return false;\n  }\n\n  override onattach(): void {\n    super.onattach();\n    this.listItemElement.addEventListener('contextmenu', this.handleContextMenuEvent.bind(this), true);\n  }\n\n  private handleContextMenuEvent(event: MouseEvent): void {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.defaultSection().appendItem(\n        'Clear', () => this.asyncStorageStorage.clear(), {jslogContext: 'clear'});\n    void contextMenu.show();\n  }\n}\n", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\n/*\n * Copyright (C) 2008 Nokia Inc.  All rights reserved.\n * Copyright (C) 2013 Samsung Electronics. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport * as ApplicationComponents from './components/components.js';\nimport {KeyValueStorageItemsView} from './KeyValueStorageItemsView.js';\nimport {AsyncStorageStorage} from './AsyncStorageStorageModel.js';\n\nconst UIStrings = {\n  /**\n   * @description Name for the \"AsyncStorage Storage Items\" table that shows the content of the AsyncStorage Storage.\n   */\n  asyncStorageStorageItems: 'AsyncStorage Storage Items',\n  /**\n   * @description Text for announcing that the \"AsyncStorage Storage Items\" table was cleared, that is, all\n   * entries were deleted.\n   */\n  asyncStorageStorageItemsCleared: 'AsyncStorage Storage Items cleared',\n  /**\n   * @description Text for announcing a AsyncStorage Storage key/value item has been deleted\n   */\n  asyncStorageStorageItemDeleted: 'The storage item was deleted.',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/application/AsyncStorageStorageItemsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AsyncStorageStorageItemsView extends KeyValueStorageItemsView {\n  private asyncStorageStorage: AsyncStorageStorage;\n  private eventListeners: Common.EventTarget.EventDescriptor[];\n\n  get storage(): AsyncStorageStorage {\n    return this.asyncStorageStorage;\n  }\n\n  constructor(asyncStorageStorage: AsyncStorageStorage) {\n    // Create custom metadata view that shows only instanceId / instanceId만 표시하는 커스텀 metadata view 생성\n    const metadataView = new ApplicationComponents.StorageMetadataView.StorageMetadataView();\n    // Override getTitle to return only instanceId / getTitle을 오버라이드하여 instanceId만 반환\n    metadataView.getTitle = () => asyncStorageStorage.instanceId;\n\n    super(i18nString(UIStrings.asyncStorageStorageItems), 'async-storage-storage', true, undefined, metadataView);\n\n    this.asyncStorageStorage = asyncStorageStorage;\n    this.element.classList.add('storage-view', 'table');\n\n    this.showPreview(null, null);\n\n    this.eventListeners = [];\n    this.setStorage(asyncStorageStorage);\n  }\n\n  protected createPreview(key: string, value: string): Promise<UI.Widget.Widget|null> {\n    const url = `async-storage://${this.asyncStorageStorage.instanceId}/${key}` as Platform.DevToolsPath.UrlString;\n    const provider = TextUtils.StaticContentProvider.StaticContentProvider.fromString(\n        url,\n        Common.ResourceType.resourceTypes.XHR,\n        value,\n    );\n    return SourceFrame.PreviewFactory.PreviewFactory.createPreview(\n        provider,\n        'text/plain',\n    );\n  }\n\n  setStorage(asyncStorageStorage: AsyncStorageStorage): void {\n    Common.EventTarget.removeEventListeners(this.eventListeners);\n    this.asyncStorageStorage = asyncStorageStorage;\n    this.element.setAttribute('jslog', `${VisualLogging.pane().context('async-storage-storage-data')}`);\n    this.eventListeners = [\n      this.asyncStorageStorage.addEventListener(AsyncStorageStorage.Events.ASYNC_STORAGE_ITEMS_CLEARED, this.asyncStorageStorageItemsCleared, this),\n      this.asyncStorageStorage.addEventListener(AsyncStorageStorage.Events.ASYNC_STORAGE_ITEM_REMOVED, this.asyncStorageStorageItemRemoved, this),\n      this.asyncStorageStorage.addEventListener(AsyncStorageStorage.Events.ASYNC_STORAGE_ITEM_ADDED, this.asyncStorageStorageItemAdded, this),\n      this.asyncStorageStorage.addEventListener(AsyncStorageStorage.Events.ASYNC_STORAGE_ITEM_UPDATED, this.asyncStorageStorageItemUpdated, this),\n    ];\n    this.refreshItems();\n  }\n\n  private asyncStorageStorageItemsCleared(): void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    this.itemsCleared();\n  }\n\n  override itemsCleared(): void {\n    super.itemsCleared();\n    UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.asyncStorageStorageItemsCleared));\n  }\n\n  private asyncStorageStorageItemRemoved(event: Common.EventTarget.EventTargetEvent<AsyncStorageStorage.AsyncStorageItemRemovedEvent>):\n      void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    this.itemRemoved(event.data.key);\n  }\n\n  override itemRemoved(key: string): void {\n    super.itemRemoved(key);\n    UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.asyncStorageStorageItemDeleted));\n  }\n\n  private asyncStorageStorageItemAdded(event: Common.EventTarget.EventTargetEvent<AsyncStorageStorage.AsyncStorageItemAddedEvent>): void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    this.itemAdded(event.data.key, event.data.value);\n  }\n\n  private asyncStorageStorageItemUpdated(event: Common.EventTarget.EventTargetEvent<AsyncStorageStorage.AsyncStorageItemUpdatedEvent>):\n      void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    this.itemUpdated(event.data.key, event.data.value);\n  }\n\n  override refreshItems(): void {\n    void this.#refreshItems();\n  }\n\n  async #refreshItems(): Promise<void> {\n    const items = await this.asyncStorageStorage.getItems();\n    if (!items || !this.toolbar) {\n      return;\n    }\n    const {filterRegex} = this.toolbar;\n    const filteredItems = items.map(item => ({key: item[0], value: item[1]}))\n                              .filter(item => filterRegex?.test(`${item.key} ${item.value}`) ?? true);\n    this.showItems(filteredItems);\n  }\n\n  override deleteAllItems(): void {\n    this.asyncStorageStorage.clear();\n    // explicitly clear the view because the event won't be fired when it has no items\n    this.asyncStorageStorageItemsCleared();\n  }\n\n  protected removeItem(key: string): void {\n    this.asyncStorageStorage?.removeItem(key);\n  }\n\n  protected setItem(key: string, value: string): void {\n    this.asyncStorageStorage?.setItem(key, value);\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2008 Nokia Inc.  All rights reserved.\n * Copyright (C) 2013 Samsung Electronics. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n/* eslint no-return-assign: \"off\" */\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Geometry from '../../models/geometry/geometry.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport type {WidgetOptions} from '../../ui/legacy/Widget.js';\nimport {Directives as LitDirectives, html, nothing, render} from '../../ui/lit/lit.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport * as ApplicationComponents from './components/components.js';\nimport {StorageItemsToolbar} from './StorageItemsToolbar.js';\n\nconst {ARIAUtils} = UI;\nconst {EmptyWidget} = UI.EmptyWidget;\nconst {VBox, widgetConfig} = UI.Widget;\nconst {Size} = Geometry;\nconst {repeat} = LitDirectives;\n\ntype Widget = UI.Widget.Widget;\ntype VBox = UI.Widget.VBox;\n\nconst UIStrings = {\n  /**\n   * @description Text that shows in the Application Panel if no value is selected for preview\n   */\n  noPreviewSelected: 'No value selected',\n  /**\n   * @description Preview text when viewing storage in Application panel\n   */\n  selectAValueToPreview: 'Select a value to preview',\n  /**\n   * @description Text for announcing number of entries after filtering\n   * @example {5} PH1\n   */\n  numberEntries: 'Number of entries shown in table: {PH1}',\n  /**\n   * @description Text in DOMStorage Items View of the Application panel\n   */\n  key: 'Key',\n  /**\n   * @description Text for the value of something\n   */\n  value: 'Value',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/application/KeyValueStorageItemsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport interface ViewInput {\n  items: Array<{key: string, value: string}>;\n  selectedKey: string|null;\n  editable: boolean;\n  preview: Widget;\n  onSelect: (item: {key: string, value: string}|null) => void;\n  onSort: (ascending: boolean) => void;\n  onCreate: (key: string, value: string) => void;\n  onReferesh: () => void;\n  onEdit: (key: string, value: string, columnId: string, valueBeforeEditing: string, newText: string) => void;\n  onDelete: (key: string) => void;\n}\n\ninterface ViewOutput {\n  toolbar: StorageItemsToolbar;\n}\n\nconst MAX_VALUE_LENGTH = 4096;\n\nexport type View = (input: ViewInput, output: ViewOutput, target: HTMLElement) => void;\n/**\n * A helper typically used in the Application panel. Renders a split view\n * between a DataGrid displaying key-value pairs and a preview Widget.\n */\nexport abstract class KeyValueStorageItemsView extends UI.Widget.VBox {\n  #preview: Widget;\n  #previewValue: string|null;\n\n  #items: Array<{key: string, value: string}> = [];\n  #selectedKey: string|null = null;\n  #view: View;\n  #isSortOrderAscending = true;\n  #editable: boolean;\n  #toolbar: StorageItemsToolbar|undefined;\n  readonly metadataView: ApplicationComponents.StorageMetadataView.StorageMetadataView;\n\n  constructor(\n      title: string, id: string, editable: boolean, view?: View,\n      metadataView?: ApplicationComponents.StorageMetadataView.StorageMetadataView, opts?: WidgetOptions) {\n    metadataView ??= new ApplicationComponents.StorageMetadataView.StorageMetadataView();\n    if (!view) {\n      view = (input: ViewInput, output: ViewOutput, target: HTMLElement) => {\n        // clang-format off\n        render(html `\n            <devtools-widget\n              .widgetConfig=${widgetConfig(StorageItemsToolbar, {metadataView})}\n              class=flex-none\n              ${UI.Widget.widgetRef(StorageItemsToolbar, view => {output.toolbar = view;})}\n            ></devtools-widget>\n            <devtools-split-view sidebar-position=\"second\" name=\"${id}-split-view-state\">\n               <devtools-widget\n                  slot=\"main\"\n                  .widgetConfig=${widgetConfig(VBox, {minimumSize: new Size(0, 50)})}>\n                <devtools-data-grid\n                  .name=${`${id}-datagrid-with-preview`}\n                  striped\n                  style=\"flex: auto\"\n                  @sort=${(e: CustomEvent<{columnId: string, ascending: boolean}>) => input.onSort(e.detail.ascending)}\n                  @refresh=${input.onReferesh}\n                  @create=${(e: CustomEvent<{key: string, value: string}>) => input.onCreate(e.detail.key, e.detail.value)}\n                  @deselect=${() => input.onSelect(null)}\n                >\n                  <table>\n                    <tr>\n                      <th id=\"key\" sortable ?editable=${input.editable}>\n                        ${i18nString(UIStrings.key)}\n                      </th>\n                      <th id=\"value\" ?editable=${input.editable}>\n                        ${i18nString(UIStrings.value)}\n                      </th>\n                    </tr>\n                    ${repeat(input.items, item => item.key, item => html`\n                      <tr data-key=${item.key} data-value=${item.value}\n                          @select=${() => input.onSelect(item)}\n                          @edit=${(e: CustomEvent<{columnId: string, valueBeforeEditing: string, newText: string}>) =>\n                            input.onEdit(item.key, item.value, e.detail.columnId, e.detail.valueBeforeEditing, e.detail.newText)}\n                          @delete=${() => input.onDelete(item.key)}\n                          selected=${(input.selectedKey === item.key) || nothing}>\n                        <td>${item.key}</td>\n                        <td>${item.value.substr(0, MAX_VALUE_LENGTH)}</td>\n                      </tr>`)}\n                      <tr placeholder></tr>\n                  </table>\n                </devtools-data-grid>\n              </devtools-widget>\n              <devtools-widget\n                  slot=\"sidebar\"\n                  .widgetConfig=${widgetConfig(VBox, {minimumSize: new Size(0, 50)})}\n                  jslog=${VisualLogging.pane('preview').track({resize: true})}>\n               ${input.preview?.element}\n              </devtools-widget>\n            </devtools-split-view>`,\n            // clang-format on\n            target);\n      };\n    }\n    super(opts);\n    this.metadataView = metadataView;\n    this.#editable = editable;\n    this.#view = view;\n    this.performUpdate();\n\n    this.#preview =\n        new EmptyWidget(i18nString(UIStrings.noPreviewSelected), i18nString(UIStrings.selectAValueToPreview));\n    this.#previewValue = null;\n\n    this.showPreview(null, null);\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.refreshItems();\n  }\n\n  override performUpdate(): void {\n    const that = this;\n    const viewOutput = {\n      set toolbar(toolbar: StorageItemsToolbar) {\n        that.#toolbar?.removeEventListener(StorageItemsToolbar.Events.DELETE_SELECTED, that.deleteSelectedItem, that);\n        that.#toolbar?.removeEventListener(StorageItemsToolbar.Events.DELETE_ALL, that.deleteAllItems, that);\n        that.#toolbar?.removeEventListener(StorageItemsToolbar.Events.REFRESH, that.refreshItems, that);\n        that.#toolbar = toolbar;\n        that.#toolbar.addEventListener(StorageItemsToolbar.Events.DELETE_SELECTED, that.deleteSelectedItem, that);\n        that.#toolbar.addEventListener(StorageItemsToolbar.Events.DELETE_ALL, that.deleteAllItems, that);\n        that.#toolbar.addEventListener(StorageItemsToolbar.Events.REFRESH, that.refreshItems, that);\n      }\n    };\n    const viewInput = {\n      items: this.#items,\n      selectedKey: this.#selectedKey,\n      editable: this.#editable,\n      preview: this.#preview,\n      onSelect: (item: {key: string, value: string}|null) => {\n        this.#toolbar?.setCanDeleteSelected(Boolean(item));\n        if (!item) {\n          void this.#previewEntry(null);\n        } else {\n          void this.#previewEntry(item);\n        }\n      },\n      onSort: (ascending: boolean) => {\n        this.#isSortOrderAscending = ascending;\n      },\n      onCreate: (key: string, value: string) => {\n        this.#createCallback(key, value);\n      },\n      onEdit: (key: string, value: string, columnId: string, valueBeforeEditing: string, newText: string) => {\n        this.#editingCallback(key, value, columnId, valueBeforeEditing, newText);\n      },\n      onDelete: (key: string) => {\n        this.#deleteCallback(key);\n      },\n      onReferesh: () => {\n        this.refreshItems();\n      },\n    };\n    this.#view(viewInput, viewOutput, this.contentElement);\n  }\n\n  protected get toolbar(): StorageItemsToolbar|undefined {\n    return this.#toolbar;\n  }\n\n  refreshItems(): void {\n  }\n\n  deleteAllItems(): void {\n  }\n\n  itemsCleared(): void {\n    this.#items = [];\n    this.performUpdate();\n    this.#toolbar?.setCanDeleteSelected(false);\n  }\n\n  itemRemoved(key: string): void {\n    const index = this.#items.findIndex(item => item.key === key);\n    if (index === -1) {\n      return;\n    }\n    this.#items.splice(index, 1);\n    this.performUpdate();\n    this.#toolbar?.setCanDeleteSelected(this.#items.length > 1);\n  }\n\n  itemAdded(key: string, value: string): void {\n    if (this.#items.some(item => item.key === key)) {\n      return;\n    }\n    this.#items.push({key, value});\n    this.performUpdate();\n  }\n\n  itemUpdated(key: string, value: string): void {\n    const item = this.#items.find(item => item.key === key);\n    if (!item) {\n      return;\n    }\n    if (item.value === value) {\n      return;\n    }\n    item.value = value;\n    this.performUpdate();\n    if (this.#selectedKey !== key) {\n      return;\n    }\n    if (this.#previewValue !== value) {\n      void this.#previewEntry({key, value});\n    }\n    this.#toolbar?.setCanDeleteSelected(true);\n  }\n\n  showItems(items: Array<{key: string, value: string}>): void {\n    const sortDirection = this.#isSortOrderAscending ? 1 : -1;\n    this.#items = [...items].sort((item1, item2) => sortDirection * (item1.key > item2.key ? 1 : -1));\n    const selectedItem = this.#items.find(item => item.key === this.#selectedKey);\n    if (!selectedItem) {\n      this.#selectedKey = null;\n    } else {\n      void this.#previewEntry(selectedItem);\n    }\n    this.performUpdate();\n    this.#toolbar?.setCanDeleteSelected(Boolean(this.#selectedKey));\n    ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.numberEntries, {PH1: this.#items.length}));\n  }\n\n  deleteSelectedItem(): void {\n    if (!this.#selectedKey) {\n      return;\n    }\n\n    this.#deleteCallback(this.#selectedKey);\n  }\n\n  #createCallback(key: string, value: string): void {\n    this.setItem(key, value);\n    this.#removeDupes(key, value);\n    void this.#previewEntry({key, value});\n  }\n\n  protected isEditAllowed(_columnIdentifier: string, _oldText: string, _newText: string): boolean {\n    return true;\n  }\n\n  #editingCallback(key: string, value: string, columnIdentifier: string, oldText: string, newText: string): void {\n    if (!this.isEditAllowed(columnIdentifier, oldText, newText)) {\n      return;\n    }\n    if (columnIdentifier === 'key') {\n      if (typeof oldText === 'string') {\n        this.removeItem(oldText);\n      }\n      this.setItem(newText, value);\n      this.#removeDupes(newText, value);\n      void this.#previewEntry({key: newText, value});\n    } else {\n      this.setItem(key, newText);\n      void this.#previewEntry({key, value: newText});\n    }\n  }\n\n  #removeDupes(key: string, value: string): void {\n    for (let i = this.#items.length - 1; i >= 0; --i) {\n      const child = this.#items[i];\n      if ((child.key === key) && (value !== child.value)) {\n        this.#items.splice(i, 1);\n      }\n    }\n  }\n\n  #deleteCallback(key: string): void {\n    this.removeItem(key);\n  }\n\n  showPreview(preview: Widget|null, value: string|null): void {\n    if (this.#preview && this.#previewValue === value) {\n      return;\n    }\n    if (this.#preview) {\n      this.#preview.detach();\n    }\n    if (!preview) {\n      preview = new EmptyWidget(i18nString(UIStrings.noPreviewSelected), i18nString(UIStrings.selectAValueToPreview));\n    }\n    this.#previewValue = value;\n    this.#preview = preview;\n    this.performUpdate();\n  }\n\n  async #previewEntry(entry: {key: string, value: string}|null): Promise<void> {\n    if (entry?.value) {\n      this.#selectedKey = entry.key;\n      const preview = await this.createPreview(entry.key, entry.value);\n      // Selection could've changed while the preview was loaded\n      if (this.#selectedKey === entry.key) {\n        this.showPreview(preview, entry.value);\n      }\n    } else {\n      this.#selectedKey = null;\n      this.showPreview(null, null);\n    }\n  }\n\n  set editable(editable: boolean) {\n    this.#editable = editable;\n    this.performUpdate();\n  }\n\n  protected keys(): string[] {\n    return this.#items.map(item => item.key);\n  }\n\n  protected abstract setItem(key: string, value: string): void;\n  protected abstract removeItem(key: string): void;\n  protected abstract createPreview(key: string, value: string): Promise<Widget|null>;\n}\n", "// Copyright 2017 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport '../../ui/legacy/legacy.js';\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Lit from '../../ui/lit/lit.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport * as ApplicationComponents from './components/components.js';\n\nconst UIStrings = {\n  /**\n   * @description Text to refresh the page\n   */\n  refresh: 'Refresh',\n  /**\n   * @description Text to clear everything\n   */\n  clearAll: 'Clear All',\n  /**\n   * @description Tooltip text that appears when hovering over the largeicon delete button in the Service Worker Cache Views of the Application panel\n   */\n  deleteSelected: 'Delete Selected',\n  /**\n   * @description Text that informs screen reader users that the storage table has been refreshed\n   */\n  refreshedStatus: 'Table refreshed',\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('panels/application/StorageItemsToolbar.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst {html, render} = Lit;\n\ninterface ViewInput {\n  onRefresh: () => void;\n  onDeleteAll: () => void;\n  onDeleteSelected: () => void;\n  metadataView: ApplicationComponents.StorageMetadataView.StorageMetadataView;\n  onFilterChanged: (ev: CustomEvent<string|null>) => void;\n  deleteAllButtonEnabled: boolean;\n  deleteSelectedButtonDisabled: boolean;\n  filterItemEnabled: boolean;\n  deleteAllButtonIconName: string;\n  deleteAllButtonTitle: string;\n  mainToolbarItems: UI.Toolbar.ToolbarItem[];\n}\n\nexport const DEFAULT_VIEW = (input: ViewInput, _output: object, target: HTMLElement): void => {\n  render(\n      // clang-format off\n      html`\n      <devtools-toolbar class=\"top-resources-toolbar\"\n                        jslog=${VisualLogging.toolbar()}>\n        <devtools-button title=${i18nString(UIStrings.refresh)}\n                         jslog=${VisualLogging.action('storage-items-view.refresh').track({\n        click: true\n      })}\n                         @click=${input.onRefresh}\n                         .iconName=${'refresh'}\n                         .variant=${Buttons.Button.Variant.TOOLBAR}></devtools-button>\n        <devtools-toolbar-input type=\"filter\"\n                                ?disabled=${!input.filterItemEnabled}\n                                @change=${input.onFilterChanged}\n                                style=\"flex-grow:0.4\"></devtools-toolbar-input>\n        ${new UI.Toolbar.ToolbarSeparator().element}\n        <devtools-button title=${input.deleteAllButtonTitle}\n                         @click=${input.onDeleteAll}\n                         id=storage-items-delete-all\n                         ?disabled=${!input.deleteAllButtonEnabled}\n                         jslog=${VisualLogging.action('storage-items-view.clear-all').track({\n        click: true\n      })}\n                         .iconName=${input.deleteAllButtonIconName}\n                         .variant=${Buttons.Button.Variant.TOOLBAR}></devtools-button>\n        <devtools-button title=${i18nString(UIStrings.deleteSelected)}\n                         @click=${input.onDeleteSelected}\n                         ?disabled=${!input.deleteSelectedButtonDisabled}\n                         jslog=${VisualLogging.action('storage-items-view.delete-selected').track({\n        click: true\n      })}\n                         .iconName=${'cross'}\n                         .variant=${Buttons.Button.Variant.TOOLBAR}></devtools-button>\n        ${input.mainToolbarItems.map(item => item.element)}\n      </devtools-toolbar>\n      ${input.metadataView}`,\n      // clang-format on\n      target);\n};\n\nexport type View = (input: ViewInput, output: object, target: HTMLElement) => void;\n\nexport class StorageItemsToolbar extends\n    Common.ObjectWrapper.eventMixin<StorageItemsToolbar.EventTypes, typeof UI.Widget.VBox>(UI.Widget.VBox) {\n  filterRegex: RegExp|null;\n  #metadataView: ApplicationComponents.StorageMetadataView.StorageMetadataView|undefined;\n  readonly #view: View;\n  #deleteAllButtonEnabled = true;\n  #deleteSelectedButtonDisabled = true;\n  #filterItemEnabled = true;\n  #deleteAllButtonIconName = 'clear';\n  #deleteAllButtonTitle: string = i18nString(UIStrings.clearAll);\n  #mainToolbarItems: UI.Toolbar.ToolbarItem[] = [];\n\n  constructor(element?: HTMLElement, view: View = DEFAULT_VIEW) {\n    super(element);\n    this.#view = view;\n    this.filterRegex = null;\n  }\n\n  set metadataView(view: ApplicationComponents.StorageMetadataView.StorageMetadataView) {\n    this.#metadataView = view;\n  }\n\n  get metadataView(): ApplicationComponents.StorageMetadataView.StorageMetadataView {\n    if (!this.#metadataView) {\n      this.#metadataView = new ApplicationComponents.StorageMetadataView.StorageMetadataView();\n    }\n    return this.#metadataView;\n  }\n\n  override performUpdate(): void {\n    const viewInput: ViewInput = {\n      deleteAllButtonEnabled: this.#deleteAllButtonEnabled,\n      deleteSelectedButtonDisabled: this.#deleteSelectedButtonDisabled,\n      filterItemEnabled: this.#filterItemEnabled,\n      deleteAllButtonIconName: this.#deleteAllButtonIconName,\n      deleteAllButtonTitle: this.#deleteAllButtonTitle,\n      mainToolbarItems: this.#mainToolbarItems,\n      metadataView: this.metadataView,\n      onFilterChanged: this.filterChanged.bind(this),\n      onRefresh: () => {\n        this.dispatchEventToListeners(StorageItemsToolbar.Events.REFRESH);\n        UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.refreshedStatus));\n      },\n      onDeleteAll: () => this.dispatchEventToListeners(StorageItemsToolbar.Events.DELETE_ALL),\n      onDeleteSelected: () => this.dispatchEventToListeners(StorageItemsToolbar.Events.DELETE_SELECTED),\n    };\n    this.#view(viewInput, {}, this.contentElement);\n  }\n\n  setDeleteAllTitle(title: string): void {\n    this.#deleteAllButtonTitle = title;\n    this.requestUpdate();\n  }\n\n  setDeleteAllGlyph(glyph: string): void {\n    this.#deleteAllButtonIconName = glyph;\n    this.requestUpdate();\n  }\n\n  appendToolbarItem(item: UI.Toolbar.ToolbarItem): void {\n    this.#mainToolbarItems.push(item);\n    this.requestUpdate();\n  }\n\n  setStorageKey(storageKey: string): void {\n    this.metadataView.setStorageKey(storageKey);\n  }\n\n  filterChanged({detail: text}: CustomEvent<string|null>): void {\n    this.filterRegex = text ? new RegExp(Platform.StringUtilities.escapeForRegExp(text), 'i') : null;\n    this.dispatchEventToListeners(StorageItemsToolbar.Events.REFRESH);\n  }\n\n  hasFilter(): boolean {\n    return Boolean(this.filterRegex);\n  }\n\n  setCanDeleteAll(enabled: boolean): void {\n    this.#deleteAllButtonEnabled = enabled;\n    this.requestUpdate();\n  }\n\n  setCanDeleteSelected(enabled: boolean): void {\n    this.#deleteSelectedButtonDisabled = enabled;\n    this.requestUpdate();\n  }\n\n  setCanFilter(enabled: boolean): void {\n    this.#filterItemEnabled = enabled;\n    this.requestUpdate();\n  }\n}\n\nexport namespace StorageItemsToolbar {\n  export const enum Events {\n    REFRESH = 'Refresh',\n    FILTER_CHANGED = 'FilterChanged',\n    DELETE_ALL = 'DeleteAll',\n    DELETE_SELECTED = 'DeleteSelected',\n  }\n\n  export interface EventTypes {\n    [Events.REFRESH]: void;\n    [Events.FILTER_CHANGED]: void;\n    [Events.DELETE_ALL]: void;\n    [Events.DELETE_SELECTED]: void;\n  }\n}\n", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2008 Nokia Inc.  All rights reserved.\n * Copyright (C) 2013 Samsung Electronics. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as ProtocolProxyApi from '../../generated/protocol-proxy-api.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\nexport class AsyncStorageStorage extends Common.ObjectWrapper.ObjectWrapper<AsyncStorageStorage.EventTypes> {\n  private readonly model: AsyncStorageStorageModel;\n  readonly #instanceId: string;\n\n  constructor(model: AsyncStorageStorageModel, instanceId: string) {\n    super();\n    this.model = model;\n    this.#instanceId = instanceId;\n  }\n\n  get instanceId(): string {\n    return this.#instanceId;\n  }\n\n  getItems(): Promise<Protocol.AsyncStorageStorage.Item[]|null> {\n    // Use CDP command - client will handle via registered handler / CDP 명령 사용 - 클라이언트가 등록된 핸들러를 통해 처리\n    // Handler routes based on method name / 핸들러가 메서드 이름을 기준으로 라우팅\n    return this.model.agent.invoke_getAsyncStorageItems({instanceId: this.instanceId}).then(({entries}: {entries: Protocol.AsyncStorageStorage.Item[]|null}) => entries);\n  }\n\n  setItem(key: string, value: string): void {\n    void this.model.agent.invoke_setAsyncStorageItem({instanceId: this.instanceId, key, value});\n  }\n\n  removeItem(key: string): void {\n    void this.model.agent.invoke_removeAsyncStorageItem({instanceId: this.instanceId, key});\n  }\n\n  clear(): void {\n    void this.model.agent.invoke_clear({instanceId: this.instanceId});\n  }\n}\n\nexport namespace AsyncStorageStorage {\n  export const enum Events {\n    ASYNC_STORAGE_ITEMS_CLEARED = 'AsyncStorageItemsCleared',\n    ASYNC_STORAGE_ITEM_REMOVED = 'AsyncStorageItemRemoved',\n    ASYNC_STORAGE_ITEM_ADDED = 'AsyncStorageItemAdded',\n    ASYNC_STORAGE_ITEM_UPDATED = 'AsyncStorageItemUpdated',\n  }\n\n  export interface AsyncStorageItemRemovedEvent {\n    key: string;\n  }\n\n  export interface AsyncStorageItemAddedEvent {\n    key: string;\n    value: string;\n  }\n\n  export interface AsyncStorageItemUpdatedEvent {\n    key: string;\n    oldValue: string;\n    value: string;\n  }\n\n  export interface EventTypes {\n    [Events.ASYNC_STORAGE_ITEMS_CLEARED]: void;\n    [Events.ASYNC_STORAGE_ITEM_REMOVED]: AsyncStorageItemRemovedEvent;\n    [Events.ASYNC_STORAGE_ITEM_ADDED]: AsyncStorageItemAddedEvent;\n    [Events.ASYNC_STORAGE_ITEM_UPDATED]: AsyncStorageItemUpdatedEvent;\n  }\n}\n\nexport class AsyncStorageStorageModel extends SDK.SDKModel.SDKModel<EventTypes> {\n  #storages: Map<string, AsyncStorageStorage>;\n  readonly agent: ProtocolProxyApi.AsyncStorageStorageApi;\n  private enabled?: boolean;\n\n  constructor(target: SDK.Target.Target) {\n    super(target);\n\n    this.#storages = new Map();\n    this.agent = target.asyncStorageStorageAgent();\n  }\n\n  enable(): void {\n    if (this.enabled) {\n      return;\n    }\n\n    this.target().registerAsyncStorageStorageDispatcher(new AsyncStorageStorageDispatcher(this));\n    void this.agent.invoke_enable();\n\n    this.enabled = true;\n  }\n\n  asyncStorageItemsCleared({instanceId}: Protocol.AsyncStorageStorage.AsyncStorageItemsClearedEvent): void {\n    const asyncStorageStorage = this.storageForInstanceId(instanceId);\n    if (!asyncStorageStorage) {\n      return;\n    }\n\n    asyncStorageStorage.dispatchEventToListeners(AsyncStorageStorage.Events.ASYNC_STORAGE_ITEMS_CLEARED);\n  }\n\n  asyncStorageItemRemoved({instanceId, key}: Protocol.AsyncStorageStorage.AsyncStorageItemRemovedEvent): void {\n    const asyncStorageStorage = this.storageForInstanceId(instanceId);\n    if (!asyncStorageStorage) {\n      return;\n    }\n\n    const eventData = {key};\n    asyncStorageStorage.dispatchEventToListeners(AsyncStorageStorage.Events.ASYNC_STORAGE_ITEM_REMOVED, eventData);\n  }\n\n  asyncStorageItemAdded({instanceId, key, newValue}: Protocol.AsyncStorageStorage.AsyncStorageItemAddedEvent): void {\n    let asyncStorageStorage = this.storageForInstanceId(instanceId);\n    if (!asyncStorageStorage) {\n      // Create storage if it doesn't exist / 존재하지 않으면 스토리지 생성\n      asyncStorageStorage = this.addStorage(instanceId);\n    }\n\n    const eventData = {key, value: newValue};\n    asyncStorageStorage.dispatchEventToListeners(AsyncStorageStorage.Events.ASYNC_STORAGE_ITEM_ADDED, eventData);\n  }\n\n  asyncStorageItemUpdated({instanceId, key, oldValue, newValue}: Protocol.AsyncStorageStorage.AsyncStorageItemUpdatedEvent): void {\n    const asyncStorageStorage = this.storageForInstanceId(instanceId);\n    if (!asyncStorageStorage) {\n      return;\n    }\n\n    const eventData = {key, oldValue, value: newValue};\n    asyncStorageStorage.dispatchEventToListeners(AsyncStorageStorage.Events.ASYNC_STORAGE_ITEM_UPDATED, eventData);\n  }\n\n  asyncStorageInstanceCreated({instanceId}: Protocol.AsyncStorageStorage.AsyncStorageInstanceCreatedEvent): void {\n    // Create storage for new instance / 새 인스턴스에 대한 스토리지 생성\n    this.addStorage(instanceId);\n  }\n\n  private addStorage(instanceId: string): AsyncStorageStorage {\n    const existing = this.#storages.get(instanceId);\n    if (existing) {\n      return existing;\n    }\n\n    const storage = new AsyncStorageStorage(this, instanceId);\n    this.#storages.set(instanceId, storage);\n    this.dispatchEventToListeners(Events.ASYNC_STORAGE_ADDED, storage);\n    return storage;\n  }\n\n  private storageForInstanceId(instanceId: string): AsyncStorageStorage|null {\n    return this.#storages.get(instanceId) || null;\n  }\n\n  storages(): AsyncStorageStorage[] {\n    return Array.from(this.#storages.values());\n  }\n}\n\nSDK.SDKModel.SDKModel.register(AsyncStorageStorageModel, {capabilities: SDK.Target.Capability.NONE, autostart: false});\n\nexport const enum Events {\n  ASYNC_STORAGE_ADDED = 'AsyncStorageStorageAdded',\n  ASYNC_STORAGE_REMOVED = 'AsyncStorageStorageRemoved',\n}\n\nexport interface EventTypes {\n  [Events.ASYNC_STORAGE_ADDED]: AsyncStorageStorage;\n  [Events.ASYNC_STORAGE_REMOVED]: AsyncStorageStorage;\n}\n\nexport class AsyncStorageStorageDispatcher implements ProtocolProxyApi.AsyncStorageStorageDispatcher {\n  private readonly model: AsyncStorageStorageModel;\n  constructor(model: AsyncStorageStorageModel) {\n    this.model = model;\n  }\n\n  asyncStorageItemsCleared({instanceId}: Protocol.AsyncStorageStorage.AsyncStorageItemsClearedEvent): void {\n    this.model.asyncStorageItemsCleared({instanceId});\n  }\n\n  asyncStorageItemRemoved({instanceId, key}: Protocol.AsyncStorageStorage.AsyncStorageItemRemovedEvent): void {\n    this.model.asyncStorageItemRemoved({instanceId, key});\n  }\n\n  asyncStorageItemAdded({instanceId, key, newValue}: Protocol.AsyncStorageStorage.AsyncStorageItemAddedEvent): void {\n    this.model.asyncStorageItemAdded({instanceId, key, newValue});\n  }\n\n  asyncStorageItemUpdated({instanceId, key, oldValue, newValue}: Protocol.AsyncStorageStorage.AsyncStorageItemUpdatedEvent): void {\n    this.model.asyncStorageItemUpdated({instanceId, key, oldValue, newValue});\n  }\n\n  asyncStorageInstanceCreated({instanceId}: Protocol.AsyncStorageStorage.AsyncStorageInstanceCreatedEvent): void {\n    this.model.asyncStorageInstanceCreated({instanceId});\n  }\n}\n", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\n/*\n * Copyright (C) 2008 Nokia Inc.  All rights reserved.\n * Copyright (C) 2013 Samsung Electronics. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport * as ApplicationComponents from './components/components.js';\nimport {KeyValueStorageItemsView} from './KeyValueStorageItemsView.js';\nimport {MMKVStorage} from './MMKVStorageModel.js';\n\nconst UIStrings = {\n  /**\n   * @description Name for the \"MMKV Storage Items\" table that shows the content of the MMKV Storage.\n   */\n  mmkvStorageItems: 'MMKV Storage Items',\n  /**\n   * @description Text for announcing that the \"MMKV Storage Items\" table was cleared, that is, all\n   * entries were deleted.\n   */\n  mmkvStorageItemsCleared: 'MMKV Storage Items cleared',\n  /**\n   * @description Text for announcing a MMKV Storage key/value item has been deleted\n   */\n  mmkvStorageItemDeleted: 'The storage item was deleted.',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/application/MMKVStorageItemsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class MMKVStorageItemsView extends KeyValueStorageItemsView {\n  private mmkvStorage: MMKVStorage;\n  private eventListeners: Common.EventTarget.EventDescriptor[];\n\n  get storage(): MMKVStorage {\n    return this.mmkvStorage;\n  }\n\n  constructor(mmkvStorage: MMKVStorage) {\n    // Create custom metadata view that shows only instanceId / instanceId만 표시하는 커스텀 metadata view 생성\n    const metadataView = new ApplicationComponents.StorageMetadataView.StorageMetadataView();\n    // Override getTitle to return only instanceId / getTitle을 오버라이드하여 instanceId만 반환\n    metadataView.getTitle = () => mmkvStorage.instanceId;\n\n    super(i18nString(UIStrings.mmkvStorageItems), 'mmkv-storage', true, undefined, metadataView);\n\n    this.mmkvStorage = mmkvStorage;\n    this.element.classList.add('storage-view', 'table');\n\n    this.showPreview(null, null);\n\n    this.eventListeners = [];\n    this.setStorage(mmkvStorage);\n  }\n\n  protected createPreview(key: string, value: string): Promise<UI.Widget.Widget|null> {\n    const url = `mmkv://${this.mmkvStorage.instanceId}/${key}` as Platform.DevToolsPath.UrlString;\n    const provider = TextUtils.StaticContentProvider.StaticContentProvider.fromString(\n        url,\n        Common.ResourceType.resourceTypes.XHR,\n        value,\n    );\n    return SourceFrame.PreviewFactory.PreviewFactory.createPreview(\n        provider,\n        'text/plain',\n    );\n  }\n\n  setStorage(mmkvStorage: MMKVStorage): void {\n    Common.EventTarget.removeEventListeners(this.eventListeners);\n    this.mmkvStorage = mmkvStorage;\n    this.element.setAttribute('jslog', `${VisualLogging.pane().context('mmkv-storage-data')}`);\n    this.eventListeners = [\n      this.mmkvStorage.addEventListener(MMKVStorage.Events.MMKV_ITEMS_CLEARED, this.mmkvStorageItemsCleared, this),\n      this.mmkvStorage.addEventListener(MMKVStorage.Events.MMKV_ITEM_REMOVED, this.mmkvStorageItemRemoved, this),\n      this.mmkvStorage.addEventListener(MMKVStorage.Events.MMKV_ITEM_ADDED, this.mmkvStorageItemAdded, this),\n      this.mmkvStorage.addEventListener(MMKVStorage.Events.MMKV_ITEM_UPDATED, this.mmkvStorageItemUpdated, this),\n    ];\n    this.refreshItems();\n  }\n\n  private mmkvStorageItemsCleared(): void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    this.itemsCleared();\n  }\n\n  override itemsCleared(): void {\n    super.itemsCleared();\n    UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.mmkvStorageItemsCleared));\n  }\n\n  private mmkvStorageItemRemoved(event: Common.EventTarget.EventTargetEvent<MMKVStorage.MmkvItemRemovedEvent>):\n      void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    this.itemRemoved(event.data.key);\n  }\n\n  override itemRemoved(key: string): void {\n    super.itemRemoved(key);\n    UI.ARIAUtils.LiveAnnouncer.alert(i18nString(UIStrings.mmkvStorageItemDeleted));\n  }\n\n  private mmkvStorageItemAdded(event: Common.EventTarget.EventTargetEvent<MMKVStorage.MmkvItemAddedEvent>): void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    this.itemAdded(event.data.key, event.data.value);\n  }\n\n  private mmkvStorageItemUpdated(event: Common.EventTarget.EventTargetEvent<MMKVStorage.MmkvItemUpdatedEvent>):\n      void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    this.itemUpdated(event.data.key, event.data.value);\n  }\n\n  override refreshItems(): void {\n    void this.#refreshItems();\n  }\n\n  async #refreshItems(): Promise<void> {\n    const items = await this.mmkvStorage.getItems();\n    if (!items || !this.toolbar) {\n      return;\n    }\n    const {filterRegex} = this.toolbar;\n    const filteredItems = items.map(item => ({key: item[0], value: item[1]}))\n                              .filter(item => filterRegex?.test(`${item.key} ${item.value}`) ?? true);\n    this.showItems(filteredItems);\n  }\n\n  override deleteAllItems(): void {\n    this.mmkvStorage.clear();\n    // explicitly clear the view because the event won't be fired when it has no items\n    this.mmkvStorageItemsCleared();\n  }\n\n  protected removeItem(key: string): void {\n    this.mmkvStorage?.removeItem(key);\n  }\n\n  protected setItem(key: string, value: string): void {\n    this.mmkvStorage?.setItem(key, value);\n  }\n}\n", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2008 Nokia Inc.  All rights reserved.\n * Copyright (C) 2013 Samsung Electronics. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as ProtocolProxyApi from '../../generated/protocol-proxy-api.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\nexport class MMKVStorage extends Common.ObjectWrapper.ObjectWrapper<MMKVStorage.EventTypes> {\n  private readonly model: MMKVStorageModel;\n  readonly #instanceId: string;\n\n  constructor(model: MMKVStorageModel, instanceId: string) {\n    super();\n    this.model = model;\n    this.#instanceId = instanceId;\n  }\n\n  get instanceId(): string {\n    return this.#instanceId;\n  }\n\n  getItems(): Promise<Protocol.MMKVStorage.Item[]|null> {\n    // Use CDP command - client will handle via registered handler / CDP 명령 사용 - 클라이언트가 등록된 핸들러를 통해 처리\n    // Handler routes based on method name / 핸들러가 메서드 이름을 기준으로 라우팅\n    return this.model.agent.invoke_getMMKVItems({instanceId: this.instanceId}).then(({entries}: {entries: Protocol.MMKVStorage.Item[]|null}) => entries);\n  }\n\n  setItem(key: string, value: string): void {\n    void this.model.agent.invoke_setMMKVItem({instanceId: this.instanceId, key, value});\n  }\n\n  removeItem(key: string): void {\n    void this.model.agent.invoke_removeMMKVItem({instanceId: this.instanceId, key});\n  }\n\n  clear(): void {\n    void this.model.agent.invoke_clear({instanceId: this.instanceId});\n  }\n}\n\nexport namespace MMKVStorage {\n  export const enum Events {\n    MMKV_ITEMS_CLEARED = 'MMKVItemsCleared',\n    MMKV_ITEM_REMOVED = 'MMKVItemRemoved',\n    MMKV_ITEM_ADDED = 'MMKVItemAdded',\n    MMKV_ITEM_UPDATED = 'MMKVItemUpdated',\n  }\n\n  export interface MmkvItemRemovedEvent {\n    key: string;\n  }\n\n  export interface MmkvItemAddedEvent {\n    key: string;\n    value: string;\n  }\n\n  export interface MmkvItemUpdatedEvent {\n    key: string;\n    oldValue: string;\n    value: string;\n  }\n\n  export interface EventTypes {\n    [Events.MMKV_ITEMS_CLEARED]: void;\n    [Events.MMKV_ITEM_REMOVED]: MmkvItemRemovedEvent;\n    [Events.MMKV_ITEM_ADDED]: MmkvItemAddedEvent;\n    [Events.MMKV_ITEM_UPDATED]: MmkvItemUpdatedEvent;\n  }\n}\n\nexport class MMKVStorageModel extends SDK.SDKModel.SDKModel<EventTypes> {\n  #storages: Map<string, MMKVStorage>;\n  readonly agent: ProtocolProxyApi.MMKVStorageApi;\n  private enabled?: boolean;\n\n  constructor(target: SDK.Target.Target) {\n    super(target);\n\n    this.#storages = new Map();\n    this.agent = target.mmkvStorageAgent();\n  }\n\n  enable(): void {\n    if (this.enabled) {\n      return;\n    }\n\n    this.target().registerMMKVStorageDispatcher(new MMKVStorageDispatcher(this));\n    void this.agent.invoke_enable();\n\n    this.enabled = true;\n  }\n\n  mmkvItemsCleared({instanceId}: Protocol.MMKVStorage.MmkvItemsClearedEvent): void {\n    const mmkvStorage = this.storageForInstanceId(instanceId);\n    if (!mmkvStorage) {\n      return;\n    }\n\n    mmkvStorage.dispatchEventToListeners(MMKVStorage.Events.MMKV_ITEMS_CLEARED);\n  }\n\n  mmkvItemRemoved({instanceId, key}: Protocol.MMKVStorage.MmkvItemRemovedEvent): void {\n    const mmkvStorage = this.storageForInstanceId(instanceId);\n    if (!mmkvStorage) {\n      return;\n    }\n\n    const eventData = {key};\n    mmkvStorage.dispatchEventToListeners(MMKVStorage.Events.MMKV_ITEM_REMOVED, eventData);\n  }\n\n  mmkvItemAdded({instanceId, key, newValue}: Protocol.MMKVStorage.MmkvItemAddedEvent): void {\n    let mmkvStorage = this.storageForInstanceId(instanceId);\n    if (!mmkvStorage) {\n      // Create storage if it doesn't exist / 존재하지 않으면 스토리지 생성\n      mmkvStorage = this.addStorage(instanceId);\n    }\n\n    const eventData = {key, value: newValue};\n    mmkvStorage.dispatchEventToListeners(MMKVStorage.Events.MMKV_ITEM_ADDED, eventData);\n  }\n\n  mmkvItemUpdated({instanceId, key, oldValue, newValue}: Protocol.MMKVStorage.MmkvItemUpdatedEvent): void {\n    const mmkvStorage = this.storageForInstanceId(instanceId);\n    if (!mmkvStorage) {\n      return;\n    }\n\n    const eventData = {key, oldValue, value: newValue};\n    mmkvStorage.dispatchEventToListeners(MMKVStorage.Events.MMKV_ITEM_UPDATED, eventData);\n  }\n\n  mmkvInstanceCreated({instanceId}: Protocol.MMKVStorage.MmkvInstanceCreatedEvent): void {\n    // Create storage for new instance / 새 인스턴스에 대한 스토리지 생성\n    this.addStorage(instanceId);\n  }\n\n  private addStorage(instanceId: string): MMKVStorage {\n    const existing = this.#storages.get(instanceId);\n    if (existing) {\n      return existing;\n    }\n\n    const storage = new MMKVStorage(this, instanceId);\n    this.#storages.set(instanceId, storage);\n    this.dispatchEventToListeners(Events.MMKV_STORAGE_ADDED, storage);\n    return storage;\n  }\n\n  private storageForInstanceId(instanceId: string): MMKVStorage|null {\n    return this.#storages.get(instanceId) || null;\n  }\n\n  storages(): MMKVStorage[] {\n    return Array.from(this.#storages.values());\n  }\n}\n\nSDK.SDKModel.SDKModel.register(MMKVStorageModel, {capabilities: SDK.Target.Capability.NONE, autostart: false});\n\nexport const enum Events {\n  MMKV_STORAGE_ADDED = 'MMKVStorageAdded',\n  MMKV_STORAGE_REMOVED = 'MMKVStorageRemoved',\n}\n\nexport interface EventTypes {\n  [Events.MMKV_STORAGE_ADDED]: MMKVStorage;\n  [Events.MMKV_STORAGE_REMOVED]: MMKVStorage;\n}\n\nexport class MMKVStorageDispatcher implements ProtocolProxyApi.MMKVStorageDispatcher {\n  private readonly model: MMKVStorageModel;\n  constructor(model: MMKVStorageModel) {\n    this.model = model;\n  }\n\n  mmkvItemsCleared({instanceId}: Protocol.MMKVStorage.MmkvItemsClearedEvent): void {\n    this.model.mmkvItemsCleared({instanceId});\n  }\n\n  mmkvItemRemoved({instanceId, key}: Protocol.MMKVStorage.MmkvItemRemovedEvent): void {\n    this.model.mmkvItemRemoved({instanceId, key});\n  }\n\n  mmkvItemAdded({instanceId, key, newValue}: Protocol.MMKVStorage.MmkvItemAddedEvent): void {\n    this.model.mmkvItemAdded({instanceId, key, newValue});\n  }\n\n  mmkvItemUpdated({instanceId, key, oldValue, newValue}: Protocol.MMKVStorage.MmkvItemUpdatedEvent): void {\n    this.model.mmkvItemUpdated({instanceId, key, oldValue, newValue});\n  }\n\n  mmkvInstanceCreated({instanceId}: Protocol.MMKVStorage.MmkvInstanceCreatedEvent): void {\n    this.model.mmkvInstanceCreated({instanceId});\n  }\n}\n"],
  "mappings": "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",
  "names": ["Common", "SDK", "UI", "VisualLogging", "Common", "i18n", "UI", "VisualLogging", "ApplicationComponents", "i18n", "UI", "html", "render", "VisualLogging", "ApplicationComponents", "ARIAUtils", "UI", "EmptyWidget", "UIStrings", "str_", "i18nString", "render", "html", "view", "toolbar", "item", "UIStrings", "str_", "i18nString", "Common", "Common", "i18n", "TextUtils", "SourceFrame", "UI", "VisualLogging", "ApplicationComponents", "UIStrings", "str_", "i18nString", "Common", "SDK"]
}

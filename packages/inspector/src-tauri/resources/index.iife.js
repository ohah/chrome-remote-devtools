(()=>{var{defineProperty:dZ,getOwnPropertyNames:U8,getOwnPropertyDescriptor:z8}=Object,j8=Object.prototype.hasOwnProperty;var yX=new WeakMap,F8=(X)=>{var Z=yX.get(X),J;if(Z)return Z;if(Z=dZ({},"__esModule",{value:!0}),X&&typeof X==="object"||typeof X==="function")U8(X).map((Y)=>!j8.call(Z,Y)&&dZ(Z,Y,{get:()=>X[Y],enumerable:!(J=z8(X,Y))||J.enumerable}));return yX.set(X,Z),Z};var y1=(X,Z)=>{for(var J in Z)dZ(X,J,{get:Z[J],enumerable:!0,configurable:!0,set:(Y)=>Z[J]=()=>Y})};var D8=(X,Z)=>()=>(X&&(Z=X(X=0)),Z);var J0={};y1(J0,{isCompressionSupported:()=>Z0,isCompressed:()=>R8,decompress:()=>N8,compress:()=>X0});function Z0(){return typeof CompressionStream<"u"&&typeof DecompressionStream<"u"}async function X0(X){if(!Z0())return null;try{let Z=new TextEncoder,Y=new ReadableStream({start(K){K.enqueue(Z.encode(X)),K.close()}}).pipeThrough(new CompressionStream("gzip"));return await new Response(Y).arrayBuffer()}catch(Z){return console.error("Compression failed / 압축 실패:",Z),null}}async function N8(X){if(!Z0())return null;try{let J=new ReadableStream({start(G){G.enqueue(X),G.close()}}).pipeThrough(new DecompressionStream("gzip")),Q=await new Response(J).arrayBuffer();return new TextDecoder().decode(Q)}catch(Z){return console.error("Decompression failed / 압축 해제 실패:",Z),null}}function R8(X){if(!X||X.byteLength<3)return!1;let Z=new Uint8Array(X);return Z[0]===31&&Z[1]===139&&Z[2]===8}var QJ={};y1(QJ,{injectExportButton:()=>$8});function $8(X){if(document.getElementById("chrome-remote-devtools-export-btn"))return;let Z=document.createElement("button");Z.id="chrome-remote-devtools-export-btn",Z.title="Export CDP events to JSON file",Z.innerHTML=`
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 13V3M10 13L6 9M10 13L14 9M3 16H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  `,Z.style.cssText=`
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 999999;
    padding: 12px;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
  `,Z.addEventListener("click",async()=>{Z.disabled=!0,Z.innerHTML=`
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" style="animation: spin 1s linear infinite;">
        <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2" stroke-opacity="0.3" fill="none"/>
        <path d="M10 2C10 2 13 6 13 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <style>
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        </style>
      </svg>
    `;try{await X.exportToFile(),Z.innerHTML=`
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M16.5 5.5L7.5 14.5L3.5 10.5" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      `,setTimeout(()=>{Z.innerHTML=`
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 13V3M10 13L6 9M10 13L14 9M3 16H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        `,Z.disabled=!1},2000)}catch(J){console.error("Failed to export events / 이벤트 내보내기 실패:",J),Z.innerHTML=`
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2" fill="none"/>
          <path d="M10 6V10M10 14H10.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,setTimeout(()=>{Z.innerHTML=`
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 13V3M10 13L6 9M10 13L14 9M3 16H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        `,Z.disabled=!1},2000)}}),document.body.appendChild(Z)}var Y8={};y1(Y8,{record:()=>I1});function YX(X){if(l1[X])return l1[X];let Z=globalThis[X],J=Z.prototype,Y=X in qJ?qJ[X]:void 0,Q=Boolean(Y&&Y.every((V)=>{var H,q;return Boolean((q=(H=Object.getOwnPropertyDescriptor(J,V))==null?void 0:H.get)==null?void 0:q.toString().includes("[native code]"))})),K=X in BJ?BJ[X]:void 0,G=Boolean(K&&K.every((V)=>{var H;return typeof J[V]==="function"&&((H=J[V])==null?void 0:H.toString().includes("[native code]"))}));if(Q&&G&&!b8())return l1[X]=Z.prototype,Z.prototype;try{let V=document.createElement("iframe");document.body.appendChild(V);let H=V.contentWindow;if(!H)return Z.prototype;let q=H[X].prototype;if(document.body.removeChild(V),!q)return J;return l1[X]=q}catch{return J}}function _9(X,Z,J){var Y;let Q=`${X}.${String(J)}`;if(V0[Q])return V0[Q].call(Z);let K=YX(X),G=(Y=Object.getOwnPropertyDescriptor(K,J))==null?void 0:Y.get;if(!G)return Z[J];return V0[Q]=G,G.call(Z)}function VY(X,Z,J){let Y=`${X}.${String(J)}`;if(H0[Y])return H0[Y].bind(Z);let K=YX(X)[J];if(typeof K!=="function")return Z[J];return H0[Y]=K,K.bind(Z)}function y8(X){return _9("Node",X,"childNodes")}function v8(X){return _9("Node",X,"parentNode")}function k8(X){return _9("Node",X,"parentElement")}function h8(X){return _9("Node",X,"textContent")}function g8(X,Z){return VY("Node",X,"contains")(Z)}function m8(X){return VY("Node",X,"getRootNode")()}function u8(X){if(!X||!("host"in X))return null;return _9("ShadowRoot",X,"host")}function p8(X){return X.styleSheets}function c8(X){if(!X||!("shadowRoot"in X))return null;return _9("Element",X,"shadowRoot")}function l8(X,Z){return _9("Element",X,"querySelector")(Z)}function d8(X,Z){return _9("Element",X,"querySelectorAll")(Z)}function i8(){return YX("MutationObserver").constructor}function HY(X){return X.nodeType===X.ELEMENT_NODE}function j1(X){let Z=X&&"host"in X&&"mode"in X&&o.host(X)||null;return Boolean(Z&&"shadowRoot"in Z&&o.shadowRoot(Z)===X)}function F1(X){return Object.prototype.toString.call(X)==="[object ShadowRoot]"}function a8(X){if(X.includes(" background-clip: text;")&&!X.includes(" -webkit-background-clip: text;"))X=X.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;");return X}function r8(X){let{cssText:Z}=X;if(Z.split('"').length<3)return Z;let J=["@import",`url(${JSON.stringify(X.href)})`];if(X.layerName==="")J.push("layer");else if(X.layerName)J.push(`layer(${X.layerName})`);if(X.supportsText)J.push(`supports(${X.supportsText})`);if(X.media.length)J.push(X.media.mediaText);return J.join(" ")+";"}function _0(X){try{let Z=X.rules||X.cssRules;if(!Z)return null;let J=X.href;if(!J&&X.ownerNode&&X.ownerNode.ownerDocument)J=X.ownerNode.ownerDocument.location.href;let Y=Array.from(Z,(Q)=>qY(Q,J)).join("");return a8(Y)}catch(Z){return null}}function qY(X,Z){if(n8(X)){let J;try{J=_0(X.styleSheet)||r8(X)}catch(Y){J=X.cssText}if(X.styleSheet.href)return LZ(J,X.styleSheet.href);return J}else{let J=X.cssText;if(o8(X)&&X.selectorText.includes(":"))J=s8(J);if(Z)return LZ(J,Z);return J}}function s8(X){let Z=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return X.replace(Z,"$1\\$2")}function n8(X){return"styleSheet"in X}function o8(X){return"selectorText"in X}class QX{constructor(){HJ(this,"idNodeMap",new Map),HJ(this,"nodeMetaMap",new WeakMap)}getId(X){var Z;if(!X)return-1;return((Z=this.getMeta(X))==null?void 0:Z.id)??-1}getNode(X){return this.idNodeMap.get(X)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(X){return this.nodeMetaMap.get(X)||null}removeNodeFromMap(X){let Z=this.getId(X);if(this.idNodeMap.delete(Z),X.childNodes)X.childNodes.forEach((J)=>this.removeNodeFromMap(J))}has(X){return this.idNodeMap.has(X)}hasNode(X){return this.nodeMetaMap.has(X)}add(X,Z){let J=Z.id;this.idNodeMap.set(J,X),this.nodeMetaMap.set(X,Z)}replace(X,Z){let J=this.getNode(X);if(J){let Y=this.nodeMetaMap.get(J);if(Y)this.nodeMetaMap.set(Z,Y)}this.idNodeMap.set(X,Z)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function t8(){return new QX}function KX({element:X,maskInputOptions:Z,tagName:J,type:Y,value:Q,maskInputFn:K}){let G=Q||"",V=Y&&T9(Y);if(Z[J.toLowerCase()]||V&&Z[V])if(K)G=K(G,X);else G="*".repeat(G.length);return G}function T9(X){return X.toLowerCase()}function e8(X){let Z=X.getContext("2d");if(!Z)return!0;let J=50;for(let Y=0;Y<X.width;Y+=J)for(let Q=0;Q<X.height;Q+=J){let K=Z.getImageData,G=WJ in K?K[WJ]:K;if(new Uint32Array(G.call(Z,Y,Q,Math.min(J,X.width-Y),Math.min(J,X.height-Q)).data.buffer).some((H)=>H!==0))return!1}return!0}function GX(X){let Z=X.type;return X.hasAttribute("data-rr-is-password")?"password":Z?T9(Z):null}function BY(X,Z){let J;try{J=new URL(X,Z??window.location.href)}catch(K){return null}let Y=/\.([0-9a-z]+)(?:$)/i,Q=J.pathname.match(Y);return(Q==null?void 0:Q[1])??null}function Z7(X){let Z="";if(X.indexOf("//")>-1)Z=X.split("/").slice(0,3).join("/");else Z=X.split("/")[0];return Z=Z.split("?")[0],Z}function LZ(X,Z){return(X||"").replace(X7,(J,Y,Q,K,G,V)=>{let H=Q||G||V,q=Y||K||"";if(!H)return J;if(J7.test(H)||Y7.test(H))return`url(${q}${H}${q})`;if(Q7.test(H))return`url(${q}${H}${q})`;if(H[0]==="/")return`url(${q}${Z7(Z)+H}${q})`;let B=Z.split("/"),W=H.split("/");B.pop();for(let U of W)if(U===".")continue;else if(U==="..")B.pop();else B.push(U);return`url(${q}${B.join("/")}${q})`})}function q0(X){return X.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"")}function K7(X,Z){let J=Array.from(Z.childNodes),Y=[];if(J.length>1&&X&&typeof X==="string"){let Q=q0(X);for(let K=1;K<J.length;K++)if(J[K].textContent&&typeof J[K].textContent==="string"){let G=q0(J[K].textContent);for(let V=3;V<G.length;V++){let H=G.substring(0,V);if(Q.split(H).length===2){let q=Q.indexOf(H);for(let B=q;B<X.length;B++)if(q0(X.substring(0,B)).length===q){Y.push(X.substring(0,B)),X=X.substring(B);break}break}}}}return Y.push(X),Y}function G7(X,Z){return K7(X,Z).join("/* rr_split */")}function WY(){return V7++}function q7(X){if(X instanceof HTMLFormElement)return"form";let Z=T9(X.tagName);if(H7.test(Z))return"div";return Z}function U7(X,Z){if(Z.trim()==="")return Z;let J=0;function Y(K){let G,V=K.exec(Z.substring(J));if(V)return G=V[0],J+=G.length,G;return""}let Q=[];while(!0){if(Y(W7),J>=Z.length)break;let K=Y(B7);if(K.slice(-1)===",")K=g9(X,K.substring(0,K.length-1)),Q.push(K);else{let G="";K=g9(X,K);let V=!1;while(!0){let H=Z.charAt(J);if(H===""){Q.push((K+G).trim());break}else if(!V){if(H===","){J+=1,Q.push((K+G).trim());break}else if(H==="(")V=!0}else if(H===")")V=!1;G+=H,J+=1}}}return Q.join(", ")}function g9(X,Z){if(!Z||Z.trim()==="")return Z;return VX(X,Z)}function z7(X){return Boolean(X.tagName==="svg"||X.ownerSVGElement)}function VX(X,Z){let J=zJ.get(X);if(!J)J=X.createElement("a"),zJ.set(X,J);if(!Z)Z="";else if(Z.startsWith("blob:")||Z.startsWith("data:"))return Z;return J.setAttribute("href",Z),J.href}function UY(X,Z,J,Y){if(!Y)return Y;if(J==="src"||J==="href"&&!(Z==="use"&&Y[0]==="#"))return g9(X,Y);else if(J==="xlink:href"&&Y[0]!=="#")return g9(X,Y);else if(J==="background"&&(Z==="table"||Z==="td"||Z==="th"))return g9(X,Y);else if(J==="srcset")return U7(X,Y);else if(J==="style")return LZ(Y,VX(X));else if(Z==="object"&&J==="data")return g9(X,Y);return Y}function zY(X,Z,J){return(X==="video"||X==="audio")&&Z==="autoplay"}function j7(X,Z,J){try{if(typeof Z==="string"){if(X.classList.contains(Z))return!0}else for(let Y=X.classList.length;Y--;){let Q=X.classList[Y];if(Z.test(Q))return!0}if(J)return X.matches(J)}catch(Y){}return!1}function AZ(X,Z,J){if(!X)return!1;if(X.nodeType!==X.ELEMENT_NODE){if(!J)return!1;return AZ(o.parentNode(X),Z,J)}for(let Y=X.classList.length;Y--;){let Q=X.classList[Y];if(Z.test(Q))return!0}if(!J)return!1;return AZ(o.parentNode(X),Z,J)}function jY(X,Z,J,Y){let Q;if(HY(X)){if(Q=X,!o.childNodes(Q).length)return!1}else if(o.parentElement(X)===null)return!1;else Q=o.parentElement(X);try{if(typeof Z==="string"){if(Y){if(Q.closest(`.${Z}`))return!0}else if(Q.classList.contains(Z))return!0}else if(AZ(Q,Z,Y))return!0;if(J){if(Y){if(Q.closest(J))return!0}else if(Q.matches(J))return!0}}catch(K){}return!1}function F7(X,Z,J){let Y=X.contentWindow;if(!Y)return;let Q=!1,K;try{K=Y.document.readyState}catch(V){return}if(K!=="complete"){let V=setTimeout(()=>{if(!Q)Z(),Q=!0},J);X.addEventListener("load",()=>{clearTimeout(V),Q=!0,Z()});return}let G="about:blank";if(Y.location.href!==G||X.src===G||X.src==="")return setTimeout(Z,0),X.addEventListener("load",Z);X.addEventListener("load",Z)}function D7(X,Z,J){let Y=!1,Q;try{Q=X.sheet}catch(G){return}if(Q)return;let K=setTimeout(()=>{if(!Y)Z(),Y=!0},J);X.addEventListener("load",()=>{clearTimeout(K),Y=!0,Z()})}function P7(X,Z){let{doc:J,mirror:Y,blockClass:Q,blockSelector:K,needsMask:G,inlineStylesheet:V,maskInputOptions:H={},maskTextFn:q,maskInputFn:B,dataURLOptions:W={},inlineImages:U,recordCanvas:z,keepIframeSrcFn:F,newlyAddedElement:D=!1,cssCaptured:j=!1}=Z,O=L7(J,Y);switch(X.nodeType){case X.DOCUMENT_NODE:if(X.compatMode!=="CSS1Compat")return{type:r.Document,childNodes:[],compatMode:X.compatMode};else return{type:r.Document,childNodes:[]};case X.DOCUMENT_TYPE_NODE:return{type:r.DocumentType,name:X.name,publicId:X.publicId,systemId:X.systemId,rootId:O};case X.ELEMENT_NODE:return O7(X,{doc:J,blockClass:Q,blockSelector:K,inlineStylesheet:V,maskInputOptions:H,maskInputFn:B,dataURLOptions:W,inlineImages:U,recordCanvas:z,keepIframeSrcFn:F,newlyAddedElement:D,rootId:O});case X.TEXT_NODE:return A7(X,{doc:J,needsMask:G,maskTextFn:q,rootId:O,cssCaptured:j});case X.CDATA_SECTION_NODE:return{type:r.CDATA,textContent:"",rootId:O};case X.COMMENT_NODE:return{type:r.Comment,textContent:o.textContent(X)||"",rootId:O};default:return!1}}function L7(X,Z){if(!Z.hasNode(X))return;let J=Z.getId(X);return J===1?void 0:J}function A7(X,Z){let{needsMask:J,maskTextFn:Y,rootId:Q,cssCaptured:K}=Z,G=o.parentNode(X),V=G&&G.tagName,H="",q=V==="STYLE"?!0:void 0,B=V==="SCRIPT"?!0:void 0;if(B)H="SCRIPT_PLACEHOLDER";else if(!K){if(H=o.textContent(X),q&&H)H=LZ(H,VX(Z.doc))}if(!q&&!B&&H&&J)H=Y?Y(H,o.parentElement(X)):H.replace(/[\S]/g,"*");return{type:r.Text,textContent:H||"",rootId:Q}}function O7(X,Z){let{doc:J,blockClass:Y,blockSelector:Q,inlineStylesheet:K,maskInputOptions:G={},maskInputFn:V,dataURLOptions:H={},inlineImages:q,recordCanvas:B,keepIframeSrcFn:W,newlyAddedElement:U=!1,rootId:z}=Z,F=j7(X,Y,Q),D=q7(X),j={},O=X.attributes.length;for(let P=0;P<O;P++){let M=X.attributes[P];if(!zY(D,M.name,M.value))j[M.name]=UY(J,D,T9(M.name),M.value)}if(D==="link"&&K){let P=Array.from(J.styleSheets).find((T)=>{return T.href===X.href}),M=null;if(P)M=_0(P);if(M)delete j.rel,delete j.href,j._cssText=M}if(D==="style"&&X.sheet){let P=_0(X.sheet);if(P){if(X.childNodes.length>1)P=G7(P,X);j._cssText=P}}if(D==="input"||D==="textarea"||D==="select"){let{value:P,checked:M}=X;if(j.type!=="radio"&&j.type!=="checkbox"&&j.type!=="submit"&&j.type!=="button"&&P)j.value=KX({element:X,type:GX(X),tagName:D,value:P,maskInputOptions:G,maskInputFn:V});else if(M)j.checked=M}if(D==="option")if(X.selected&&!G.select)j.selected=!0;else delete j.selected;if(D==="dialog"&&X.open)j.rr_open_mode=X.matches("dialog:modal")?"modal":"non-modal";if(D==="canvas"&&B){if(X.__context==="2d"){if(!e8(X))j.rr_dataURL=X.toDataURL(H.type,H.quality)}else if(!("__context"in X)){let P=X.toDataURL(H.type,H.quality),M=J.createElement("canvas");M.width=X.width,M.height=X.height;let T=M.toDataURL(H.type,H.quality);if(P!==T)j.rr_dataURL=P}}if(D==="img"&&q){if(!y9)y9=J.createElement("canvas"),UJ=y9.getContext("2d");let P=X,M=P.currentSrc||P.getAttribute("src")||"<unknown-src>",T=P.crossOrigin,I=()=>{P.removeEventListener("load",I);try{y9.width=P.naturalWidth,y9.height=P.naturalHeight,UJ.drawImage(P,0,0),j.rr_dataURL=y9.toDataURL(H.type,H.quality)}catch(i){if(P.crossOrigin!=="anonymous"){if(P.crossOrigin="anonymous",P.complete&&P.naturalWidth!==0)I();else P.addEventListener("load",I);return}else console.warn(`Cannot inline img src=${M}! Error: ${i}`)}if(P.crossOrigin==="anonymous")T?j.crossOrigin=T:P.removeAttribute("crossorigin")};if(P.complete&&P.naturalWidth!==0)I();else P.addEventListener("load",I)}if(D==="audio"||D==="video"){let P=j;P.rr_mediaState=X.paused?"paused":"played",P.rr_mediaCurrentTime=X.currentTime,P.rr_mediaPlaybackRate=X.playbackRate,P.rr_mediaMuted=X.muted,P.rr_mediaLoop=X.loop,P.rr_mediaVolume=X.volume}if(!U){if(X.scrollLeft)j.rr_scrollLeft=X.scrollLeft;if(X.scrollTop)j.rr_scrollTop=X.scrollTop}if(F){let{width:P,height:M}=X.getBoundingClientRect();j={class:j.class,rr_width:`${P}px`,rr_height:`${M}px`}}if(D==="iframe"&&!W(j.src)){if(!X.contentDocument)j.rr_src=j.src;delete j.src}let A;try{if(customElements.get(D))A=!0}catch(P){}return{type:r.Element,tagName:D,attributes:j,childNodes:[],isSVG:z7(X)||void 0,needBlock:F,rootId:z,isCustom:A}}function b(X){if(X===void 0||X===null)return"";else return X.toLowerCase()}function M7(X,Z){if(Z.comment&&X.type===r.Comment)return!0;else if(X.type===r.Element){if(Z.script&&(X.tagName==="script"||X.tagName==="link"&&(X.attributes.rel==="preload"||X.attributes.rel==="modulepreload")&&X.attributes.as==="script"||X.tagName==="link"&&X.attributes.rel==="prefetch"&&typeof X.attributes.href==="string"&&BY(X.attributes.href)==="js"))return!0;else if(Z.headFavicon&&(X.tagName==="link"&&X.attributes.rel==="shortcut icon"||X.tagName==="meta"&&(b(X.attributes.name).match(/^msapplication-tile(image|color)$/)||b(X.attributes.name)==="application-name"||b(X.attributes.rel)==="icon"||b(X.attributes.rel)==="apple-touch-icon"||b(X.attributes.rel)==="shortcut icon")))return!0;else if(X.tagName==="meta"){if(Z.headMetaDescKeywords&&b(X.attributes.name).match(/^description|keywords$/))return!0;else if(Z.headMetaSocial&&(b(X.attributes.property).match(/^(og|twitter|fb):/)||b(X.attributes.name).match(/^(og|twitter):/)||b(X.attributes.name)==="pinterest"))return!0;else if(Z.headMetaRobots&&(b(X.attributes.name)==="robots"||b(X.attributes.name)==="googlebot"||b(X.attributes.name)==="bingbot"))return!0;else if(Z.headMetaHttpEquiv&&X.attributes["http-equiv"]!==void 0)return!0;else if(Z.headMetaAuthorship&&(b(X.attributes.name)==="author"||b(X.attributes.name)==="generator"||b(X.attributes.name)==="framework"||b(X.attributes.name)==="publisher"||b(X.attributes.name)==="progid"||b(X.attributes.property).match(/^article:/)||b(X.attributes.property).match(/^product:/)))return!0;else if(Z.headMetaVerification&&(b(X.attributes.name)==="google-site-verification"||b(X.attributes.name)==="yandex-verification"||b(X.attributes.name)==="csrf-token"||b(X.attributes.name)==="p:domain_verify"||b(X.attributes.name)==="verify-v1"||b(X.attributes.name)==="verification"||b(X.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function m9(X,Z){let{doc:J,mirror:Y,blockClass:Q,blockSelector:K,maskTextClass:G,maskTextSelector:V,skipChild:H=!1,inlineStylesheet:q=!0,maskInputOptions:B={},maskTextFn:W,maskInputFn:U,slimDOMOptions:z,dataURLOptions:F={},inlineImages:D=!1,recordCanvas:j=!1,onSerialize:O,onIframeLoad:A,iframeLoadTimeout:P=5000,onStylesheetLoad:M,stylesheetLoadTimeout:T=5000,keepIframeSrcFn:I=()=>!1,newlyAddedElement:i=!1,cssCaptured:k=!1}=Z,{needsMask:l}=Z,{preserveWhiteSpace:s=!0}=Z;if(!l)l=jY(X,G,V,l===void 0);let Q9=P7(X,{doc:J,mirror:Y,blockClass:Q,blockSelector:K,needsMask:l,inlineStylesheet:q,maskInputOptions:B,maskTextFn:W,maskInputFn:U,dataURLOptions:F,inlineImages:D,recordCanvas:j,keepIframeSrcFn:I,newlyAddedElement:i,cssCaptured:k});if(!Q9)return console.warn(X,"not serialized"),null;let W9;if(Y.hasNode(X))W9=Y.getId(X);else if(M7(Q9,z)||!s&&Q9.type===r.Text&&!Q9.textContent.replace(/^\s+|\s+$/gm,"").length)W9=P1;else W9=WY();let C=Object.assign(Q9,{id:W9});if(Y.add(X,C),W9===P1)return null;if(O)O(X);let o9=!H;if(C.type===r.Element){o9=o9&&!C.needBlock,delete C.needBlock;let a=o.shadowRoot(X);if(a&&F1(a))C.isShadowHost=!0}if((C.type===r.Document||C.type===r.Element)&&o9){if(z.headWhitespace&&C.type===r.Element&&C.tagName==="head")s=!1;let a={doc:J,mirror:Y,blockClass:Q,blockSelector:K,needsMask:l,maskTextClass:G,maskTextSelector:V,skipChild:H,inlineStylesheet:q,maskInputOptions:B,maskTextFn:W,maskInputFn:U,slimDOMOptions:z,dataURLOptions:F,inlineImages:D,recordCanvas:j,preserveWhiteSpace:s,onSerialize:O,onIframeLoad:A,iframeLoadTimeout:P,onStylesheetLoad:M,stylesheetLoadTimeout:T,keepIframeSrcFn:I,cssCaptured:!1};if(C.type===r.Element&&C.tagName==="textarea"&&C.attributes.value!==void 0);else{if(C.type===r.Element&&C.attributes._cssText!==void 0&&typeof C.attributes._cssText==="string")a.cssCaptured=!0;for(let N9 of Array.from(o.childNodes(X))){let U9=m9(N9,a);if(U9)C.childNodes.push(U9)}}let K9=null;if(HY(X)&&(K9=o.shadowRoot(X)))for(let N9 of Array.from(o.childNodes(K9))){let U9=m9(N9,a);if(U9)F1(K9)&&(U9.isShadow=!0),C.childNodes.push(U9)}}let t9=o.parentNode(X);if(t9&&j1(t9)&&F1(t9))C.isShadow=!0;if(C.type===r.Element&&C.tagName==="iframe")F7(X,()=>{let a=X.contentDocument;if(a&&A){let K9=m9(a,{doc:a,mirror:Y,blockClass:Q,blockSelector:K,needsMask:l,maskTextClass:G,maskTextSelector:V,skipChild:!1,inlineStylesheet:q,maskInputOptions:B,maskTextFn:W,maskInputFn:U,slimDOMOptions:z,dataURLOptions:F,inlineImages:D,recordCanvas:j,preserveWhiteSpace:s,onSerialize:O,onIframeLoad:A,iframeLoadTimeout:P,onStylesheetLoad:M,stylesheetLoadTimeout:T,keepIframeSrcFn:I});if(K9)A(X,K9)}},P);if(C.type===r.Element&&C.tagName==="link"&&typeof C.attributes.rel==="string"&&(C.attributes.rel==="stylesheet"||C.attributes.rel==="preload"&&typeof C.attributes.href==="string"&&BY(C.attributes.href)==="css"))D7(X,()=>{if(M){let a=m9(X,{doc:J,mirror:Y,blockClass:Q,blockSelector:K,needsMask:l,maskTextClass:G,maskTextSelector:V,skipChild:!1,inlineStylesheet:q,maskInputOptions:B,maskTextFn:W,maskInputFn:U,slimDOMOptions:z,dataURLOptions:F,inlineImages:D,recordCanvas:j,preserveWhiteSpace:s,onSerialize:O,onIframeLoad:A,iframeLoadTimeout:P,onStylesheetLoad:M,stylesheetLoadTimeout:T,keepIframeSrcFn:I});if(a)M(X,a)}},T);return C}function _7(X,Z){let{mirror:J=new QX,blockClass:Y="rr-block",blockSelector:Q=null,maskTextClass:K="rr-mask",maskTextSelector:G=null,inlineStylesheet:V=!0,inlineImages:H=!1,recordCanvas:q=!1,maskAllInputs:B=!1,maskTextFn:W,maskInputFn:U,slimDOM:z=!1,dataURLOptions:F,preserveWhiteSpace:D,onSerialize:j,onIframeLoad:O,iframeLoadTimeout:A,onStylesheetLoad:P,stylesheetLoadTimeout:M,keepIframeSrcFn:T=()=>!1}=Z||{};return m9(X,{doc:X,mirror:J,blockClass:Y,blockSelector:Q,maskTextClass:K,maskTextSelector:G,skipChild:!1,inlineStylesheet:V,maskInputOptions:B===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:B===!1?{password:!0}:B,maskTextFn:W,maskInputFn:U,slimDOMOptions:z===!0||z==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:z==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:z===!1?{}:z,dataURLOptions:F,inlineImages:H,recordCanvas:q,preserveWhiteSpace:D,onSerialize:j,onIframeLoad:O,iframeLoadTimeout:A,onStylesheetLoad:P,stylesheetLoadTimeout:M,keepIframeSrcFn:T,newlyAddedElement:!1})}function w7(X){return X&&X.__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X}function N7(X){if(X.__esModule)return X;var Z=X.default;if(typeof Z=="function"){var J=function Y(){if(this instanceof Y)return Reflect.construct(Z,arguments,this.constructor);return Z.apply(this,arguments)};J.prototype=Z.prototype}else J={};return Object.defineProperty(J,"__esModule",{value:!0}),Object.keys(X).forEach(function(Y){var Q=Object.getOwnPropertyDescriptor(X,Y);Object.defineProperty(J,Y,Q.get?Q:{enumerable:!0,get:function(){return X[Y]}})}),J}function T7(X){return X[0].toUpperCase()+X.slice(1)}function R0(X,Z){new $7(Z).stringify(X)}function E0(X,Z){let J=new X.constructor;for(let Y in X){if(!Object.prototype.hasOwnProperty.call(X,Y))continue;if(Y==="proxyCache")continue;let Q=X[Y],K=typeof Q;if(Y==="parent"&&K==="object"){if(Z)J[Y]=Z}else if(Y==="source")J[Y]=Q;else if(Array.isArray(Q))J[Y]=Q.map((G)=>E0(G,J));else{if(K==="object"&&Q!==null)Q=E0(Q);J[Y]=Q}}return J}function p7(X){if(Buffer)return Buffer.from(X,"base64").toString();else return window.atob(X)}function $Y(X){return X.map((Z)=>{if(Z.nodes)Z.nodes=$Y(Z.nodes);return delete Z.source,Z})}function xY(X){if(X[wY]=!1,X.proxyOf.nodes)for(let Z of X.proxyOf.nodes)xY(Z)}function OQ(X){for(let Z=X.length-1;Z>=0;Z--){let J=X[Z],Y=J[3]||J[2];if(Y)return Y}}function wZ(X,Z){let J=new RQ(X,Z),Y=new NQ(J);try{Y.parse()}catch(Q){if(Q.name==="CssSyntaxError"&&Z&&Z.from){if(/\.scss$/i.test(Z.from))Q.message+=`
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser`;else if(/\.sass/i.test(Z.from))Q.message+=`
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser`;else if(/\.less$/i.test(Z.from))Q.message+=`
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`}throw Q}return Y.root}function W1(X){return typeof X==="object"&&typeof X.then==="function"}function uY(X){let Z=!1,J=bQ[X.type];if(X.type==="decl")Z=X.prop.toLowerCase();else if(X.type==="atrule")Z=X.name.toLowerCase();if(Z&&X.append)return[J,J+"-"+Z,c9,J+"Exit",J+"Exit-"+Z];else if(Z)return[J,J+"-"+Z,J+"Exit",J+"Exit-"+Z];else if(X.append)return[J,c9,J+"Exit"];else return[J,J+"Exit"]}function xJ(X){let Z;if(X.type==="document")Z=["Document",c9,"DocumentExit"];else if(X.type==="root")Z=["Root",c9,"RootExit"];else Z=uY(X);return{eventIndex:0,events:Z,iterator:0,node:X,visitorIndex:0,visitors:[]}}function y0(X){if(X[j9]=!1,X.nodes)X.nodes.forEach((Z)=>y0(Z));return X}function M1(X,Z){if(Array.isArray(X))return X.map((Q)=>M1(Q));let{inputs:J,...Y}=X;if(J){Z=[];for(let Q of J){let K={...Q,__proto__:tQ.prototype};if(K.map)K.map={...K.map,__proto__:sQ.prototype};Z.push(K)}}if(Y.nodes)Y.nodes=X.nodes.map((Q)=>M1(Q,Z));if(Y.source){let{inputId:Q,...K}=Y.source;if(Y.source=K,Q!=null)Y.source.input=Z[Q]}if(Y.type==="root")return new eQ(Y);else if(Y.type==="decl")return new rQ(Y);else if(Y.type==="rule")return new ZK(Y);else if(Y.type==="comment")return new nQ(Y);else if(Y.type==="atrule")return new oQ(Y);else throw Error("Unknown node type: "+X.type)}function x(...X){if(X.length===1&&Array.isArray(X[0]))X=X[0];return new PX(X)}function DK(X){return X&&X.__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X}function PK(X){if(X.__esModule)return X;var Z=X.default;if(typeof Z=="function"){var J=function Y(){if(this instanceof Y)return Reflect.construct(Z,arguments,this.constructor);return Z.apply(this,arguments)};J.prototype=Z.prototype}else J={};return Object.defineProperty(J,"__esModule",{value:!0}),Object.keys(X).forEach(function(Y){var Q=Object.getOwnPropertyDescriptor(X,Y);Object.defineProperty(J,Y,Q.get?Q:{enumerable:!0,get:function(){return X[Y]}})}),J}function MK(X){return X[0].toUpperCase()+X.slice(1)}function m0(X,Z){new _K(Z).stringify(X)}function u0(X,Z){let J=new X.constructor;for(let Y in X){if(!Object.prototype.hasOwnProperty.call(X,Y))continue;if(Y==="proxyCache")continue;let Q=X[Y],K=typeof Q;if(Y==="parent"&&K==="object"){if(Z)J[Y]=Z}else if(Y==="source")J[Y]=Q;else if(Array.isArray(Q))J[Y]=Q.map((G)=>u0(G,J));else{if(K==="object"&&Q!==null)Q=u0(Q);J[Y]=Q}}return J}function yK(X){if(Buffer)return Buffer.from(X,"base64").toString();else return window.atob(X)}function q6(X){return X.map((Z)=>{if(Z.nodes)Z.nodes=q6(Z.nodes);return delete Z.source,Z})}function B6(X){if(X[Y6]=!1,X.proxyOf.nodes)for(let Z of X.proxyOf.nodes)B6(Z)}function zG(X){for(let Z=X.length-1;Z>=0;Z--){let J=X[Z],Y=J[3]||J[2];if(Y)return Y}}function CZ(X,Z){let J=new LG(X,Z),Y=new PG(J);try{Y.parse()}catch(Q){if(Q.name==="CssSyntaxError"&&Z&&Z.from){if(/\.scss$/i.test(Z.from))Q.message+=`
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser`;else if(/\.sass/i.test(Z.from))Q.message+=`
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser`;else if(/\.less$/i.test(Z.from))Q.message+=`
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`}throw Q}return Y.root}function z1(X){return typeof X==="object"&&typeof X.then==="function"}function M6(X){let Z=!1,J=CG[X.type];if(X.type==="decl")Z=X.prop.toLowerCase();else if(X.type==="atrule")Z=X.name.toLowerCase();if(Z&&X.append)return[J,J+"-"+Z,i9,J+"Exit",J+"Exit-"+Z];else if(Z)return[J,J+"-"+Z,J+"Exit",J+"Exit-"+Z];else if(X.append)return[J,i9,J+"Exit"];else return[J,J+"Exit"]}function aJ(X){let Z;if(X.type==="document")Z=["Document",i9,"DocumentExit"];else if(X.type==="root")Z=["Root",i9,"RootExit"];else Z=M6(X);return{eventIndex:0,events:Z,iterator:0,node:X,visitorIndex:0,visitors:[]}}function n0(X){if(X[F9]=!1,X.nodes)X.nodes.forEach((Z)=>n0(Z));return X}function R1(X,Z){if(Array.isArray(X))return X.map((Q)=>R1(Q));let{inputs:J,...Y}=X;if(J){Z=[];for(let Q of J){let K={...Q,__proto__:dG.prototype};if(K.map)K.map={...K.map,__proto__:pG.prototype};Z.push(K)}}if(Y.nodes)Y.nodes=X.nodes.map((Q)=>R1(Q,Z));if(Y.source){let{inputId:Q,...K}=Y.source;if(Y.source=K,Q!=null)Y.source.input=Z[Q]}if(Y.type==="root")return new iG(Y);else if(Y.type==="decl")return new uG(Y);else if(Y.type==="rule")return new aG(Y);else if(Y.type==="comment")return new cG(Y);else if(Y.type==="atrule")return new lG(Y);else throw Error("Unknown node type: "+X.type)}function S(...X){if(X.length===1&&Array.isArray(X[0]))X=X[0];return new CX(X)}class TX{constructor(...X){G9(this,"parentElement",null),G9(this,"parentNode",null),G9(this,"ownerDocument"),G9(this,"firstChild",null),G9(this,"lastChild",null),G9(this,"previousSibling",null),G9(this,"nextSibling",null),G9(this,"ELEMENT_NODE",1),G9(this,"TEXT_NODE",3),G9(this,"nodeType"),G9(this,"nodeName"),G9(this,"RRNodeType")}get childNodes(){let X=[],Z=this.firstChild;while(Z)X.push(Z),Z=Z.nextSibling;return X}contains(X){if(!(X instanceof TX))return!1;else if(X.ownerDocument!==this.ownerDocument)return!1;else if(X===this)return!0;while(X.parentNode){if(X.parentNode===this)return!0;X=X.parentNode}return!1}appendChild(X){throw Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(X,Z){throw Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(X){throw Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}function $X(X){if(qZ[X])return qZ[X];let Z=globalThis[X],J=Z.prototype,Y=X in rJ?rJ[X]:void 0,Q=Boolean(Y&&Y.every((V)=>{var H,q;return Boolean((q=(H=Object.getOwnPropertyDescriptor(J,V))==null?void 0:H.get)==null?void 0:q.toString().includes("[native code]"))})),K=X in sJ?sJ[X]:void 0,G=Boolean(K&&K.every((V)=>{var H;return typeof J[V]==="function"&&((H=J[V])==null?void 0:H.toString().includes("[native code]"))}));if(Q&&G&&!V5())return qZ[X]=Z.prototype,Z.prototype;try{let V=document.createElement("iframe");document.body.appendChild(V);let H=V.contentWindow;if(!H)return Z.prototype;let q=H[X].prototype;if(document.body.removeChild(V),!q)return J;return qZ[X]=q}catch{return J}}function w9(X,Z,J){var Y;let Q=`${X}.${String(J)}`;if(L0[Q])return L0[Q].call(Z);let K=$X(X),G=(Y=Object.getOwnPropertyDescriptor(K,J))==null?void 0:Y.get;if(!G)return Z[J];return L0[Q]=G,G.call(Z)}function $6(X,Z,J){let Y=`${X}.${String(J)}`;if(A0[Y])return A0[Y].bind(Z);let K=$X(X)[J];if(typeof K!=="function")return Z[J];return A0[Y]=K,K.bind(Z)}function H5(X){return w9("Node",X,"childNodes")}function q5(X){return w9("Node",X,"parentNode")}function B5(X){return w9("Node",X,"parentElement")}function W5(X){return w9("Node",X,"textContent")}function U5(X,Z){return $6("Node",X,"contains")(Z)}function z5(X){return $6("Node",X,"getRootNode")()}function j5(X){if(!X||!("host"in X))return null;return w9("ShadowRoot",X,"host")}function F5(X){return X.styleSheets}function D5(X){if(!X||!("shadowRoot"in X))return null;return w9("Element",X,"shadowRoot")}function P5(X,Z){return w9("Element",X,"querySelector")(Z)}function L5(X,Z){return w9("Element",X,"querySelectorAll")(Z)}function x6(){return $X("MutationObserver").constructor}function t(X,Z,J=document){let Y={capture:!0,passive:!0};return J.addEventListener(X,Z,Y),()=>J.removeEventListener(X,Z,Y)}function E1(X,Z,J={}){let Y=null,Q=0;return function(...K){let G=Date.now();if(!Q&&J.leading===!1)Q=G;let V=Z-(G-Q),H=this;if(V<=0||V>Z){if(Y)clearTimeout(Y),Y=null;Q=G,X.apply(H,K)}else if(!Y&&J.trailing!==!1)Y=setTimeout(()=>{Q=J.leading===!1?0:Date.now(),Y=null,X.apply(H,K)},V)}}function uZ(X,Z,J,Y,Q=window){let K=Q.Object.getOwnPropertyDescriptor(X,Z);return Q.Object.defineProperty(X,Z,Y?J:{set(G){if(setTimeout(()=>{J.set.call(this,G)},0),K&&K.set)K.set.call(this,G)}}),()=>uZ(X,Z,K||{},!0)}function s9(X,Z,J){try{if(!(Z in X))return()=>{};let Y=X[Z],Q=J(Y);if(typeof Q==="function")Q.prototype=Q.prototype||{},Object.defineProperties(Q,{__rrweb_original__:{enumerable:!1,value:Y}});return X[Z]=Q,()=>{X[Z]=Y}}catch{return()=>{}}}function S6(X){var Z,J,Y,Q;let K=X.document;return{left:K.scrollingElement?K.scrollingElement.scrollLeft:X.pageXOffset!==void 0?X.pageXOffset:K.documentElement.scrollLeft||(K==null?void 0:K.body)&&((Z=w.parentElement(K.body))==null?void 0:Z.scrollLeft)||((J=K==null?void 0:K.body)==null?void 0:J.scrollLeft)||0,top:K.scrollingElement?K.scrollingElement.scrollTop:X.pageYOffset!==void 0?X.pageYOffset:(K==null?void 0:K.documentElement.scrollTop)||(K==null?void 0:K.body)&&((Y=w.parentElement(K.body))==null?void 0:Y.scrollTop)||((Q=K==null?void 0:K.body)==null?void 0:Q.scrollTop)||0}}function I6(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function f6(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function b6(X){if(!X)return null;return X.nodeType===X.ELEMENT_NODE?X:w.parentElement(X)}function e(X,Z,J,Y){if(!X)return!1;let Q=b6(X);if(!Q)return!1;try{if(typeof Z==="string"){if(Q.classList.contains(Z))return!0;if(Y&&Q.closest("."+Z)!==null)return!0}else if(AZ(Q,Z,Y))return!0}catch(K){}if(J){if(Q.matches(J))return!0;if(Y&&Q.closest(J)!==null)return!0}return!1}function A5(X,Z){return Z.getId(X)!==-1}function O0(X,Z,J){if(X.tagName==="TITLE"&&J.headTitleMutations)return!0;return Z.getId(X)===P1}function y6(X,Z){if(j1(X))return!1;let J=Z.getId(X);if(!Z.has(J))return!0;let Y=w.parentNode(X);if(Y&&Y.nodeType===X.DOCUMENT_NODE)return!1;if(!Y)return!0;return y6(Y,Z)}function e0(X){return Boolean(X.changedTouches)}function O5(X=window){if("NodeList"in X&&!X.NodeList.prototype.forEach)X.NodeList.prototype.forEach=Array.prototype.forEach;if("DOMTokenList"in X&&!X.DOMTokenList.prototype.forEach)X.DOMTokenList.prototype.forEach=Array.prototype.forEach}function v6(X,Z){return Boolean(X.nodeName==="IFRAME"&&Z.getMeta(X))}function k6(X,Z){return Boolean(X.nodeName==="LINK"&&X.nodeType===X.ELEMENT_NODE&&X.getAttribute&&X.getAttribute("rel")==="stylesheet"&&Z.getMeta(X))}function ZX(X){if(!X)return!1;if(X instanceof TX&&"shadowRoot"in X)return Boolean(X.shadowRoot);return Boolean(w.shadowRoot(X))}class h6{constructor(){L(this,"id",1),L(this,"styleIDMap",new WeakMap),L(this,"idStyleMap",new Map)}getId(X){return this.styleIDMap.get(X)??-1}has(X){return this.styleIDMap.has(X)}add(X,Z){if(this.has(X))return this.getId(X);let J;if(Z===void 0)J=this.id++;else J=Z;return this.styleIDMap.set(X,J),this.idStyleMap.set(J,X),J}getStyle(X){return this.idStyleMap.get(X)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function g6(X){var Z;let J=null;if("getRootNode"in X&&((Z=w.getRootNode(X))==null?void 0:Z.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&w.host(w.getRootNode(X)))J=w.host(w.getRootNode(X));return J}function M5(X){let Z=X,J;while(J=g6(Z))Z=J;return Z}function _5(X){let Z=X.ownerDocument;if(!Z)return!1;let J=M5(X);return w.contains(Z,J)}function m6(X){let Z=X.ownerDocument;if(!Z)return!1;return w.contains(Z,X)||_5(X)}function oJ(X){return"__ln"in X}class p6{constructor(){L(this,"length",0),L(this,"head",null),L(this,"tail",null)}get(X){if(X>=this.length)throw Error("Position outside of list range");let Z=this.head;for(let J=0;J<X;J++)Z=(Z==null?void 0:Z.next)||null;return Z}addNode(X){let Z={value:X,previous:null,next:null};if(X.__ln=Z,X.previousSibling&&oJ(X.previousSibling)){let J=X.previousSibling.__ln.next;if(Z.next=J,Z.previous=X.previousSibling.__ln,X.previousSibling.__ln.next=Z,J)J.previous=Z}else if(X.nextSibling&&oJ(X.nextSibling)&&X.nextSibling.__ln.previous){let J=X.nextSibling.__ln.previous;if(Z.previous=J,Z.next=X.nextSibling.__ln,X.nextSibling.__ln.previous=Z,J)J.next=Z}else{if(this.head)this.head.previous=Z;Z.next=this.head,this.head=Z}if(Z.next===null)this.tail=Z;this.length++}removeNode(X){let Z=X.__ln;if(!this.head)return;if(!Z.previous)if(this.head=Z.next,this.head)this.head.previous=null;else this.tail=null;else if(Z.previous.next=Z.next,Z.next)Z.next.previous=Z.previous;else this.tail=Z.previous;if(X.__ln)delete X.__ln;this.length--}}class c6{constructor(){L(this,"frozen",!1),L(this,"locked",!1),L(this,"texts",[]),L(this,"attributes",[]),L(this,"attributeMap",new WeakMap),L(this,"removes",[]),L(this,"mapRemoves",[]),L(this,"movedMap",{}),L(this,"addedSet",new Set),L(this,"movedSet",new Set),L(this,"droppedSet",new Set),L(this,"removesSubTreeCache",new Set),L(this,"mutationCb"),L(this,"blockClass"),L(this,"blockSelector"),L(this,"maskTextClass"),L(this,"maskTextSelector"),L(this,"inlineStylesheet"),L(this,"maskInputOptions"),L(this,"maskTextFn"),L(this,"maskInputFn"),L(this,"keepIframeSrcFn"),L(this,"recordCanvas"),L(this,"inlineImages"),L(this,"slimDOMOptions"),L(this,"dataURLOptions"),L(this,"doc"),L(this,"mirror"),L(this,"iframeManager"),L(this,"stylesheetManager"),L(this,"shadowDomManager"),L(this,"canvasManager"),L(this,"processedNodeManager"),L(this,"unattachedDoc"),L(this,"processMutations",(X)=>{X.forEach(this.processMutation),this.emit()}),L(this,"emit",()=>{if(this.frozen||this.locked)return;let X=[],Z=new Set,J=new p6,Y=(V)=>{let H=V,q=P1;while(q===P1)H=H&&H.nextSibling,q=H&&this.mirror.getId(H);return q},Q=(V)=>{let H=w.parentNode(V);if(!H||!m6(V))return;let q=!1;if(V.nodeType===Node.TEXT_NODE){let z=H.tagName;if(z==="TEXTAREA")return;else if(z==="STYLE"&&this.addedSet.has(H))q=!0}let B=j1(H)?this.mirror.getId(g6(V)):this.mirror.getId(H),W=Y(V);if(B===-1||W===-1)return J.addNode(V);let U=m9(V,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:(z)=>{if(v6(z,this.mirror))this.iframeManager.addIframe(z);if(k6(z,this.mirror))this.stylesheetManager.trackLinkElement(z);if(ZX(V))this.shadowDomManager.addShadowRoot(w.shadowRoot(V),this.doc)},onIframeLoad:(z,F)=>{this.iframeManager.attachIframe(z,F),this.shadowDomManager.observeAttachShadow(z)},onStylesheetLoad:(z,F)=>{this.stylesheetManager.attachLinkElement(z,F)},cssCaptured:q});if(U)X.push({parentId:B,nextId:W,node:U}),Z.add(U.id)};while(this.mapRemoves.length)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let V of this.movedSet){if(eJ(this.removesSubTreeCache,V,this.mirror)&&!this.movedSet.has(w.parentNode(V)))continue;Q(V)}for(let V of this.addedSet)if(!ZY(this.droppedSet,V)&&!eJ(this.removesSubTreeCache,V,this.mirror))Q(V);else if(ZY(this.movedSet,V))Q(V);else this.droppedSet.add(V);let K=null;while(J.length){let V=null;if(K){let H=this.mirror.getId(w.parentNode(K.value)),q=Y(K.value);if(H!==-1&&q!==-1)V=K}if(!V){let H=J.tail;while(H){let q=H;if(H=H.previous,q){let B=this.mirror.getId(w.parentNode(q.value));if(Y(q.value)===-1)continue;else if(B!==-1){V=q;break}else{let U=q.value,z=w.parentNode(U);if(z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let F=w.host(z);if(this.mirror.getId(F)!==-1){V=q;break}}}}}}if(!V){while(J.head)J.removeNode(J.head.value);break}K=V.previous,J.removeNode(V.value),Q(V.value)}let G={texts:this.texts.map((V)=>{let H=V.node,q=w.parentNode(H);if(q&&q.tagName==="TEXTAREA")this.genTextAreaValueMutation(q);return{id:this.mirror.getId(H),value:V.value}}).filter((V)=>!Z.has(V.id)).filter((V)=>this.mirror.has(V.id)),attributes:this.attributes.map((V)=>{let{attributes:H}=V;if(typeof H.style==="string"){let q=JSON.stringify(V.styleDiff),B=JSON.stringify(V._unchangedStyles);if(q.length<H.style.length){if((q+B).split("var(").length===H.style.split("var(").length)H.style=V.styleDiff}}return{id:this.mirror.getId(V.node),attributes:H}}).filter((V)=>!Z.has(V.id)).filter((V)=>this.mirror.has(V.id)),removes:this.removes,adds:X};if(!G.texts.length&&!G.attributes.length&&!G.removes.length&&!G.adds.length)return;this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(G)}),L(this,"genTextAreaValueMutation",(X)=>{let Z=this.attributeMap.get(X);if(!Z)Z={node:X,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(Z),this.attributeMap.set(X,Z);Z.attributes.value=Array.from(w.childNodes(X),(J)=>w.textContent(J)||"").join("")}),L(this,"processMutation",(X)=>{if(O0(X.target,this.mirror,this.slimDOMOptions))return;switch(X.type){case"characterData":{let Z=w.textContent(X.target);if(!e(X.target,this.blockClass,this.blockSelector,!1)&&Z!==X.oldValue)this.texts.push({value:jY(X.target,this.maskTextClass,this.maskTextSelector,!0)&&Z?this.maskTextFn?this.maskTextFn(Z,b6(X.target)):Z.replace(/[\S]/g,"*"):Z,node:X.target});break}case"attributes":{let{target:Z,attributeName:J}=X,Y=X.target.getAttribute(J);if(J==="value"){let K=GX(Z);Y=KX({element:Z,maskInputOptions:this.maskInputOptions,tagName:Z.tagName,type:K,value:Y,maskInputFn:this.maskInputFn})}if(e(X.target,this.blockClass,this.blockSelector,!1)||Y===X.oldValue)return;let Q=this.attributeMap.get(X.target);if(Z.tagName==="IFRAME"&&J==="src"&&!this.keepIframeSrcFn(Y))if(!Z.contentDocument)J="rr_src";else return;if(!Q)Q={node:X.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(Q),this.attributeMap.set(X.target,Q);if(J==="type"&&Z.tagName==="INPUT"&&(X.oldValue||"").toLowerCase()==="password")Z.setAttribute("data-rr-is-password","true");if(!zY(Z.tagName,J)){if(Q.attributes[J]=UY(this.doc,T9(Z.tagName),T9(J),Y),J==="style"){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(G){this.unattachedDoc=this.doc}let K=this.unattachedDoc.createElement("span");if(X.oldValue)K.setAttribute("style",X.oldValue);for(let G of Array.from(Z.style)){let V=Z.style.getPropertyValue(G),H=Z.style.getPropertyPriority(G);if(V!==K.style.getPropertyValue(G)||H!==K.style.getPropertyPriority(G))if(H==="")Q.styleDiff[G]=V;else Q.styleDiff[G]=[V,H];else Q._unchangedStyles[G]=[V,H]}for(let G of Array.from(K.style))if(Z.style.getPropertyValue(G)==="")Q.styleDiff[G]=!1}else if(J==="open"&&Z.tagName==="DIALOG")if(Z.matches("dialog:modal"))Q.attributes.rr_open_mode="modal";else Q.attributes.rr_open_mode="non-modal"}break}case"childList":{if(e(X.target,this.blockClass,this.blockSelector,!0))return;if(X.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(X.target);return}X.addedNodes.forEach((Z)=>this.genAdds(Z,X.target)),X.removedNodes.forEach((Z)=>{let J=this.mirror.getId(Z),Y=j1(X.target)?this.mirror.getId(w.host(X.target)):this.mirror.getId(X.target);if(e(X.target,this.blockClass,this.blockSelector,!1)||O0(Z,this.mirror,this.slimDOMOptions)||!A5(Z,this.mirror))return;if(this.addedSet.has(Z))XX(this.addedSet,Z),this.droppedSet.add(Z);else if(this.addedSet.has(X.target)&&J===-1);else if(y6(X.target,this.mirror));else if(this.movedSet.has(Z)&&this.movedMap[tJ(J,Y)])XX(this.movedSet,Z);else this.removes.push({parentId:Y,id:J,isShadow:j1(X.target)&&F1(X.target)?!0:void 0}),w5(Z,this.removesSubTreeCache);this.mapRemoves.push(Z)});break}}}),L(this,"genAdds",(X,Z)=>{if(this.processedNodeManager.inOtherBuffer(X,this))return;if(this.addedSet.has(X)||this.movedSet.has(X))return;if(this.mirror.hasNode(X)){if(O0(X,this.mirror,this.slimDOMOptions))return;this.movedSet.add(X);let J=null;if(Z&&this.mirror.hasNode(Z))J=this.mirror.getId(Z);if(J&&J!==-1)this.movedMap[tJ(this.mirror.getId(X),J)]=!0}else this.addedSet.add(X),this.droppedSet.delete(X);if(!e(X,this.blockClass,this.blockSelector,!1)){if(w.childNodes(X).forEach((J)=>this.genAdds(J)),ZX(X))w.childNodes(w.shadowRoot(X)).forEach((J)=>{this.processedNodeManager.add(J,this),this.genAdds(J,X)})}})}init(X){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((Z)=>{this[Z]=X[Z]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function XX(X,Z){X.delete(Z),w.childNodes(Z).forEach((J)=>XX(X,J))}function w5(X,Z){let J=[X];while(J.length){let Y=J.pop();if(Z.has(Y))continue;Z.add(Y),w.childNodes(Y).forEach((Q)=>J.push(Q))}return}function eJ(X,Z,J){if(X.size===0)return!1;return N5(X,Z)}function N5(X,Z,J){let Y=w.parentNode(Z);if(!Y)return!1;return X.has(Y)}function ZY(X,Z){if(X.size===0)return!1;return l6(X,Z)}function l6(X,Z){let J=w.parentNode(Z);if(!J)return!1;if(X.has(J))return!0;return l6(X,J)}function R5(X){D1=X}function E5(){D1=void 0}function S1(X){try{if("composedPath"in X){let Z=X.composedPath();if(Z.length)return Z[0]}else if("path"in X&&X.path.length)return X.path[0]}catch{}return X&&X.target}function d6(X,Z){let J=new c6;C9.push(J),J.init(X);let Y=new(x6())(R(J.processMutations.bind(J)));return Y.observe(Z,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),Y}function C5({mousemoveCb:X,sampling:Z,doc:J,mirror:Y}){if(Z.mousemove===!1)return()=>{};let Q=typeof Z.mousemove==="number"?Z.mousemove:50,K=typeof Z.mousemoveCallback==="number"?Z.mousemoveCallback:500,G=[],V,H=E1(R((W)=>{let U=Date.now()-V;X(G.map((z)=>{return z.timeOffset-=U,z}),W),G=[],V=null}),K),q=R(E1(R((W)=>{let U=S1(W),{clientX:z,clientY:F}=e0(W)?W.changedTouches[0]:W;if(!V)V=TZ();G.push({x:z,y:F,id:Y.getId(U),timeOffset:TZ()-V}),H(typeof DragEvent<"u"&&W instanceof DragEvent?N.Drag:W instanceof MouseEvent?N.MouseMove:N.TouchMove)}),Q,{trailing:!1})),B=[t("mousemove",q,J),t("touchmove",q,J),t("drag",q,J)];return R(()=>{B.forEach((W)=>W())})}function T5({mouseInteractionCb:X,doc:Z,mirror:J,blockClass:Y,blockSelector:Q,sampling:K}){if(K.mouseInteraction===!1)return()=>{};let G=K.mouseInteraction===!0||K.mouseInteraction===void 0?{}:K.mouseInteraction,V=[],H=null,q=(B)=>{return(W)=>{let U=S1(W);if(e(U,Y,Q,!0))return;let z=null,F=B;if("pointerType"in W){switch(W.pointerType){case"mouse":z=D9.Mouse;break;case"touch":z=D9.Touch;break;case"pen":z=D9.Pen;break}if(z===D9.Touch){if(J9[B]===J9.MouseDown)F="TouchStart";else if(J9[B]===J9.MouseUp)F="TouchEnd"}else if(z===D9.Pen);}else if(e0(W))z=D9.Touch;if(z!==null){if(H=z,F.startsWith("Touch")&&z===D9.Touch||F.startsWith("Mouse")&&z===D9.Mouse)z=null}else if(J9[B]===J9.Click)z=H,H=null;let D=e0(W)?W.changedTouches[0]:W;if(!D)return;let j=J.getId(U),{clientX:O,clientY:A}=D;R(X)({type:J9[F],id:j,x:O,y:A,...z!==null&&{pointerType:z}})}};return Object.keys(J9).filter((B)=>Number.isNaN(Number(B))&&!B.endsWith("_Departed")&&G[B]!==!1).forEach((B)=>{let W=T9(B),U=q(B);if(window.PointerEvent)switch(J9[B]){case J9.MouseDown:case J9.MouseUp:W=W.replace("mouse","pointer");break;case J9.TouchStart:case J9.TouchEnd:return}V.push(t(W,U,Z))}),R(()=>{V.forEach((B)=>B())})}function i6({scrollCb:X,doc:Z,mirror:J,blockClass:Y,blockSelector:Q,sampling:K}){let G=R(E1(R((V)=>{let H=S1(V);if(!H||e(H,Y,Q,!0))return;let q=J.getId(H);if(H===Z&&Z.defaultView){let B=S6(Z.defaultView);X({id:q,x:B.left,y:B.top})}else X({id:q,x:H.scrollLeft,y:H.scrollTop})}),K.scroll||100));return t("scroll",G,Z)}function $5({viewportResizeCb:X},{win:Z}){let J=-1,Y=-1,Q=R(E1(R(()=>{let K=I6(),G=f6();if(J!==K||Y!==G)X({width:Number(G),height:Number(K)}),J=K,Y=G}),200));return t("resize",Q,Z)}function S5({inputCb:X,doc:Z,mirror:J,blockClass:Y,blockSelector:Q,ignoreClass:K,ignoreSelector:G,maskInputOptions:V,maskInputFn:H,sampling:q,userTriggeredOnInput:B}){function W(A){let P=S1(A),M=A.isTrusted,T=P&&P.tagName;if(P&&T==="OPTION")P=w.parentElement(P);if(!P||!T||x5.indexOf(T)<0||e(P,Y,Q,!0))return;if(P.classList.contains(K)||G&&P.matches(G))return;let I=P.value,i=!1,k=GX(P)||"";if(k==="radio"||k==="checkbox")i=P.checked;else if(V[T.toLowerCase()]||V[k])I=KX({element:P,maskInputOptions:V,tagName:T,type:k,value:I,maskInputFn:H});U(P,B?{text:I,isChecked:i,userTriggered:M}:{text:I,isChecked:i});let l=P.name;if(k==="radio"&&l&&i)Z.querySelectorAll(`input[type="radio"][name="${l}"]`).forEach((s)=>{if(s!==P){let Q9=s.value;U(s,B?{text:Q9,isChecked:!i,userTriggered:!1}:{text:Q9,isChecked:!i})}})}function U(A,P){let M=XY.get(A);if(!M||M.text!==P.text||M.isChecked!==P.isChecked){XY.set(A,P);let T=J.getId(A);R(X)({...P,id:T})}}let F=(q.input==="last"?["change"]:["input","change"]).map((A)=>t(A,R(W),Z)),D=Z.defaultView;if(!D)return()=>{F.forEach((A)=>A())};let j=D.Object.getOwnPropertyDescriptor(D.HTMLInputElement.prototype,"value"),O=[[D.HTMLInputElement.prototype,"value"],[D.HTMLInputElement.prototype,"checked"],[D.HTMLSelectElement.prototype,"value"],[D.HTMLTextAreaElement.prototype,"value"],[D.HTMLSelectElement.prototype,"selectedIndex"],[D.HTMLOptionElement.prototype,"selected"]];if(j&&j.set)F.push(...O.map((A)=>uZ(A[0],A[1],{set(){R(W)({target:this,isTrusted:!1})}},!1,D)));return R(()=>{F.forEach((A)=>A())})}function $Z(X){let Z=[];function J(Y,Q){if(BZ("CSSGroupingRule")&&Y.parentRule instanceof CSSGroupingRule||BZ("CSSMediaRule")&&Y.parentRule instanceof CSSMediaRule||BZ("CSSSupportsRule")&&Y.parentRule instanceof CSSSupportsRule||BZ("CSSConditionRule")&&Y.parentRule instanceof CSSConditionRule){let G=Array.from(Y.parentRule.cssRules).indexOf(Y);Q.unshift(G)}else if(Y.parentStyleSheet){let G=Array.from(Y.parentStyleSheet.cssRules).indexOf(Y);Q.unshift(G)}return Q}return J(X,Z)}function M9(X,Z,J){let Y,Q;if(!X)return{};if(X.ownerNode)Y=Z.getId(X.ownerNode);else Q=J.getId(X);return{styleId:Q,id:Y}}function I5({styleSheetRuleCb:X,mirror:Z,stylesheetManager:J},{win:Y}){if(!Y.CSSStyleSheet||!Y.CSSStyleSheet.prototype)return()=>{};let Q=Y.CSSStyleSheet.prototype.insertRule;Y.CSSStyleSheet.prototype.insertRule=new Proxy(Q,{apply:R((B,W,U)=>{let[z,F]=U,{id:D,styleId:j}=M9(W,Z,J.styleMirror);if(D&&D!==-1||j&&j!==-1)X({id:D,styleId:j,adds:[{rule:z,index:F}]});return B.apply(W,U)})}),Y.CSSStyleSheet.prototype.addRule=function(B,W,U=this.cssRules.length){let z=`${B} { ${W} }`;return Y.CSSStyleSheet.prototype.insertRule.apply(this,[z,U])};let K=Y.CSSStyleSheet.prototype.deleteRule;Y.CSSStyleSheet.prototype.deleteRule=new Proxy(K,{apply:R((B,W,U)=>{let[z]=U,{id:F,styleId:D}=M9(W,Z,J.styleMirror);if(F&&F!==-1||D&&D!==-1)X({id:F,styleId:D,removes:[{index:z}]});return B.apply(W,U)})}),Y.CSSStyleSheet.prototype.removeRule=function(B){return Y.CSSStyleSheet.prototype.deleteRule.apply(this,[B])};let G;if(Y.CSSStyleSheet.prototype.replace)G=Y.CSSStyleSheet.prototype.replace,Y.CSSStyleSheet.prototype.replace=new Proxy(G,{apply:R((B,W,U)=>{let[z]=U,{id:F,styleId:D}=M9(W,Z,J.styleMirror);if(F&&F!==-1||D&&D!==-1)X({id:F,styleId:D,replace:z});return B.apply(W,U)})});let V;if(Y.CSSStyleSheet.prototype.replaceSync)V=Y.CSSStyleSheet.prototype.replaceSync,Y.CSSStyleSheet.prototype.replaceSync=new Proxy(V,{apply:R((B,W,U)=>{let[z]=U,{id:F,styleId:D}=M9(W,Z,J.styleMirror);if(F&&F!==-1||D&&D!==-1)X({id:F,styleId:D,replaceSync:z});return B.apply(W,U)})});let H={};if(WZ("CSSGroupingRule"))H.CSSGroupingRule=Y.CSSGroupingRule;else{if(WZ("CSSMediaRule"))H.CSSMediaRule=Y.CSSMediaRule;if(WZ("CSSConditionRule"))H.CSSConditionRule=Y.CSSConditionRule;if(WZ("CSSSupportsRule"))H.CSSSupportsRule=Y.CSSSupportsRule}let q={};return Object.entries(H).forEach(([B,W])=>{q[B]={insertRule:W.prototype.insertRule,deleteRule:W.prototype.deleteRule},W.prototype.insertRule=new Proxy(q[B].insertRule,{apply:R((U,z,F)=>{let[D,j]=F,{id:O,styleId:A}=M9(z.parentStyleSheet,Z,J.styleMirror);if(O&&O!==-1||A&&A!==-1)X({id:O,styleId:A,adds:[{rule:D,index:[...$Z(z),j||0]}]});return U.apply(z,F)})}),W.prototype.deleteRule=new Proxy(q[B].deleteRule,{apply:R((U,z,F)=>{let[D]=F,{id:j,styleId:O}=M9(z.parentStyleSheet,Z,J.styleMirror);if(j&&j!==-1||O&&O!==-1)X({id:j,styleId:O,removes:[{index:[...$Z(z),D]}]});return U.apply(z,F)})})}),R(()=>{Y.CSSStyleSheet.prototype.insertRule=Q,Y.CSSStyleSheet.prototype.deleteRule=K,G&&(Y.CSSStyleSheet.prototype.replace=G),V&&(Y.CSSStyleSheet.prototype.replaceSync=V),Object.entries(H).forEach(([B,W])=>{W.prototype.insertRule=q[B].insertRule,W.prototype.deleteRule=q[B].deleteRule})})}function a6({mirror:X,stylesheetManager:Z},J){var Y,Q,K;let G=null;if(J.nodeName==="#document")G=X.getId(J);else G=X.getId(w.host(J));let V=J.nodeName==="#document"?(Y=J.defaultView)==null?void 0:Y.Document:(K=(Q=J.ownerDocument)==null?void 0:Q.defaultView)==null?void 0:K.ShadowRoot,H=(V==null?void 0:V.prototype)?Object.getOwnPropertyDescriptor(V==null?void 0:V.prototype,"adoptedStyleSheets"):void 0;if(G===null||G===-1||!V||!H)return()=>{};return Object.defineProperty(J,"adoptedStyleSheets",{configurable:H.configurable,enumerable:H.enumerable,get(){var q;return(q=H.get)==null?void 0:q.call(this)},set(q){var B;let W=(B=H.set)==null?void 0:B.call(this,q);if(G!==null&&G!==-1)try{Z.adoptStyleSheets(q,G)}catch(U){}return W}}),R(()=>{Object.defineProperty(J,"adoptedStyleSheets",{configurable:H.configurable,enumerable:H.enumerable,get:H.get,set:H.set})})}function f5({styleDeclarationCb:X,mirror:Z,ignoreCSSAttributes:J,stylesheetManager:Y},{win:Q}){let K=Q.CSSStyleDeclaration.prototype.setProperty;Q.CSSStyleDeclaration.prototype.setProperty=new Proxy(K,{apply:R((V,H,q)=>{var B;let[W,U,z]=q;if(J.has(W))return K.apply(H,[W,U,z]);let{id:F,styleId:D}=M9((B=H.parentRule)==null?void 0:B.parentStyleSheet,Z,Y.styleMirror);if(F&&F!==-1||D&&D!==-1)X({id:F,styleId:D,set:{property:W,value:U,priority:z},index:$Z(H.parentRule)});return V.apply(H,q)})});let G=Q.CSSStyleDeclaration.prototype.removeProperty;return Q.CSSStyleDeclaration.prototype.removeProperty=new Proxy(G,{apply:R((V,H,q)=>{var B;let[W]=q;if(J.has(W))return G.apply(H,[W]);let{id:U,styleId:z}=M9((B=H.parentRule)==null?void 0:B.parentStyleSheet,Z,Y.styleMirror);if(U&&U!==-1||z&&z!==-1)X({id:U,styleId:z,remove:{property:W},index:$Z(H.parentRule)});return V.apply(H,q)})}),R(()=>{Q.CSSStyleDeclaration.prototype.setProperty=K,Q.CSSStyleDeclaration.prototype.removeProperty=G})}function b5({mediaInteractionCb:X,blockClass:Z,blockSelector:J,mirror:Y,sampling:Q,doc:K}){let G=R((H)=>E1(R((q)=>{let B=S1(q);if(!B||e(B,Z,J,!0))return;let{currentTime:W,volume:U,muted:z,playbackRate:F,loop:D}=B;X({type:H,id:Y.getId(B),currentTime:W,volume:U,muted:z,playbackRate:F,loop:D})}),Q.media||500)),V=[t("play",G(k9.Play),K),t("pause",G(k9.Pause),K),t("seeked",G(k9.Seeked),K),t("volumechange",G(k9.VolumeChange),K),t("ratechange",G(k9.RateChange),K)];return R(()=>{V.forEach((H)=>H())})}function y5({fontCb:X,doc:Z}){let J=Z.defaultView;if(!J)return()=>{};let Y=[],Q=new WeakMap,K=J.FontFace;J.FontFace=function(H,q,B){let W=new K(H,q,B);return Q.set(W,{family:H,buffer:typeof q!=="string",descriptors:B,fontSource:typeof q==="string"?q:JSON.stringify(Array.from(new Uint8Array(q)))}),W};let G=s9(Z.fonts,"add",function(V){return function(H){return setTimeout(R(()=>{let q=Q.get(H);if(q)X(q),Q.delete(H)}),0),V.apply(this,[H])}});return Y.push(()=>{J.FontFace=K}),Y.push(G),R(()=>{Y.forEach((V)=>V())})}function v5(X){let{doc:Z,mirror:J,blockClass:Y,blockSelector:Q,selectionCb:K}=X,G=!0,V=R(()=>{let H=Z.getSelection();if(!H||G&&(H==null?void 0:H.isCollapsed))return;G=H.isCollapsed||!1;let q=[],B=H.rangeCount||0;for(let W=0;W<B;W++){let U=H.getRangeAt(W),{startContainer:z,startOffset:F,endContainer:D,endOffset:j}=U;if(e(z,Y,Q,!0)||e(D,Y,Q,!0))continue;q.push({start:J.getId(z),startOffset:F,end:J.getId(D),endOffset:j})}K({ranges:q})});return V(),t("selectionchange",V)}function k5({doc:X,customElementCb:Z}){let J=X.defaultView;if(!J||!J.customElements)return()=>{};return s9(J.customElements,"define",function(Q){return function(K,G,V){try{Z({define:{name:K}})}catch(H){console.warn(`Custom element callback failed for ${K}`)}return Q.apply(this,[K,G,V])}})}function h5(X,Z){let{mutationCb:J,mousemoveCb:Y,mouseInteractionCb:Q,scrollCb:K,viewportResizeCb:G,inputCb:V,mediaInteractionCb:H,styleSheetRuleCb:q,styleDeclarationCb:B,canvasMutationCb:W,fontCb:U,selectionCb:z,customElementCb:F}=X;X.mutationCb=(...D)=>{if(Z.mutation)Z.mutation(...D);J(...D)},X.mousemoveCb=(...D)=>{if(Z.mousemove)Z.mousemove(...D);Y(...D)},X.mouseInteractionCb=(...D)=>{if(Z.mouseInteraction)Z.mouseInteraction(...D);Q(...D)},X.scrollCb=(...D)=>{if(Z.scroll)Z.scroll(...D);K(...D)},X.viewportResizeCb=(...D)=>{if(Z.viewportResize)Z.viewportResize(...D);G(...D)},X.inputCb=(...D)=>{if(Z.input)Z.input(...D);V(...D)},X.mediaInteractionCb=(...D)=>{if(Z.mediaInteaction)Z.mediaInteaction(...D);H(...D)},X.styleSheetRuleCb=(...D)=>{if(Z.styleSheetRule)Z.styleSheetRule(...D);q(...D)},X.styleDeclarationCb=(...D)=>{if(Z.styleDeclaration)Z.styleDeclaration(...D);B(...D)},X.canvasMutationCb=(...D)=>{if(Z.canvasMutation)Z.canvasMutation(...D);W(...D)},X.fontCb=(...D)=>{if(Z.font)Z.font(...D);U(...D)},X.selectionCb=(...D)=>{if(Z.selection)Z.selection(...D);z(...D)},X.customElementCb=(...D)=>{if(Z.customElement)Z.customElement(...D);F(...D)}}function g5(X,Z={}){let J=X.doc.defaultView;if(!J)return()=>{};h5(X,Z);let Y;if(X.recordDOM)Y=d6(X,X.doc);let Q=C5(X),K=T5(X),G=i6(X),V=$5(X,{win:J}),H=S5(X),q=b5(X),B=()=>{},W=()=>{},U=()=>{},z=()=>{};if(X.recordDOM){if(B=I5(X,{win:J}),W=a6(X,X.doc),U=f5(X,{win:J}),X.collectFonts)z=y5(X)}let F=v5(X),D=k5(X),j=[];for(let O of X.plugins)j.push(O.observer(O.callback,J,O.options));return R(()=>{C9.forEach((O)=>O.reset()),Y==null||Y.disconnect(),Q(),K(),G(),V(),H(),q(),B(),W(),U(),z(),F(),D(),j.forEach((O)=>O())})}function BZ(X){return typeof window[X]<"u"}function WZ(X){return Boolean(typeof window[X]<"u"&&window[X].prototype&&"insertRule"in window[X].prototype&&"deleteRule"in window[X].prototype)}class JX{constructor(X){L(this,"iframeIdToRemoteIdMap",new WeakMap),L(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=X}getId(X,Z,J,Y){let Q=J||this.getIdToRemoteIdMap(X),K=Y||this.getRemoteIdToIdMap(X),G=Q.get(Z);if(!G)G=this.generateIdFn(),Q.set(Z,G),K.set(G,Z);return G}getIds(X,Z){let J=this.getIdToRemoteIdMap(X),Y=this.getRemoteIdToIdMap(X);return Z.map((Q)=>this.getId(X,Q,J,Y))}getRemoteId(X,Z,J){let Y=J||this.getRemoteIdToIdMap(X);if(typeof Z!=="number")return Z;let Q=Y.get(Z);if(!Q)return-1;return Q}getRemoteIds(X,Z){let J=this.getRemoteIdToIdMap(X);return Z.map((Y)=>this.getRemoteId(X,Y,J))}reset(X){if(!X){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(X),this.iframeRemoteIdToIdMap.delete(X)}getIdToRemoteIdMap(X){let Z=this.iframeIdToRemoteIdMap.get(X);if(!Z)Z=new Map,this.iframeIdToRemoteIdMap.set(X,Z);return Z}getRemoteIdToIdMap(X){let Z=this.iframeRemoteIdToIdMap.get(X);if(!Z)Z=new Map,this.iframeRemoteIdToIdMap.set(X,Z);return Z}}class r6{constructor(X){if(L(this,"iframes",new WeakMap),L(this,"crossOriginIframeMap",new WeakMap),L(this,"crossOriginIframeMirror",new JX(WY)),L(this,"crossOriginIframeStyleMirror"),L(this,"crossOriginIframeRootIdMap",new WeakMap),L(this,"mirror"),L(this,"mutationCb"),L(this,"wrappedEmit"),L(this,"loadListener"),L(this,"stylesheetManager"),L(this,"recordCrossOriginIframes"),this.mutationCb=X.mutationCb,this.wrappedEmit=X.wrappedEmit,this.stylesheetManager=X.stylesheetManager,this.recordCrossOriginIframes=X.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new JX(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=X.mirror,this.recordCrossOriginIframes)window.addEventListener("message",this.handleMessage.bind(this))}addIframe(X){if(this.iframes.set(X,!0),X.contentWindow)this.crossOriginIframeMap.set(X.contentWindow,X)}addLoadListener(X){this.loadListener=X}attachIframe(X,Z){var J,Y;if(this.mutationCb({adds:[{parentId:this.mirror.getId(X),nextId:null,node:Z}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes)(J=X.contentWindow)==null||J.addEventListener("message",this.handleMessage.bind(this));if((Y=this.loadListener)==null||Y.call(this,X),X.contentDocument&&X.contentDocument.adoptedStyleSheets&&X.contentDocument.adoptedStyleSheets.length>0)this.stylesheetManager.adoptStyleSheets(X.contentDocument.adoptedStyleSheets,this.mirror.getId(X.contentDocument))}handleMessage(X){let Z=X;if(Z.data.type!=="rrweb"||Z.origin!==Z.data.origin)return;if(!X.source)return;let Y=this.crossOriginIframeMap.get(X.source);if(!Y)return;let Q=this.transformCrossOriginEvent(Y,Z.data.event);if(Q)this.wrappedEmit(Q,Z.data.isCheckout)}transformCrossOriginEvent(X,Z){var J;switch(Z.type){case E.FullSnapshot:{this.crossOriginIframeMirror.reset(X),this.crossOriginIframeStyleMirror.reset(X),this.replaceIdOnNode(Z.data.node,X);let Y=Z.data.node.id;return this.crossOriginIframeRootIdMap.set(X,Y),this.patchRootIdOnNode(Z.data.node,Y),{timestamp:Z.timestamp,type:E.IncrementalSnapshot,data:{source:N.Mutation,adds:[{parentId:this.mirror.getId(X),nextId:null,node:Z.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case E.Meta:case E.Load:case E.DomContentLoaded:return!1;case E.Plugin:return Z;case E.Custom:return this.replaceIds(Z.data.payload,X,["id","parentId","previousId","nextId"]),Z;case E.IncrementalSnapshot:switch(Z.data.source){case N.Mutation:return Z.data.adds.forEach((Y)=>{this.replaceIds(Y,X,["parentId","nextId","previousId"]),this.replaceIdOnNode(Y.node,X);let Q=this.crossOriginIframeRootIdMap.get(X);Q&&this.patchRootIdOnNode(Y.node,Q)}),Z.data.removes.forEach((Y)=>{this.replaceIds(Y,X,["parentId","id"])}),Z.data.attributes.forEach((Y)=>{this.replaceIds(Y,X,["id"])}),Z.data.texts.forEach((Y)=>{this.replaceIds(Y,X,["id"])}),Z;case N.Drag:case N.TouchMove:case N.MouseMove:return Z.data.positions.forEach((Y)=>{this.replaceIds(Y,X,["id"])}),Z;case N.ViewportResize:return!1;case N.MediaInteraction:case N.MouseInteraction:case N.Scroll:case N.CanvasMutation:case N.Input:return this.replaceIds(Z.data,X,["id"]),Z;case N.StyleSheetRule:case N.StyleDeclaration:return this.replaceIds(Z.data,X,["id"]),this.replaceStyleIds(Z.data,X,["styleId"]),Z;case N.Font:return Z;case N.Selection:return Z.data.ranges.forEach((Y)=>{this.replaceIds(Y,X,["start","end"])}),Z;case N.AdoptedStyleSheet:return this.replaceIds(Z.data,X,["id"]),this.replaceStyleIds(Z.data,X,["styleIds"]),(J=Z.data.styles)==null||J.forEach((Y)=>{this.replaceStyleIds(Y,X,["styleId"])}),Z}}return!1}replace(X,Z,J,Y){for(let Q of Y){if(!Array.isArray(Z[Q])&&typeof Z[Q]!=="number")continue;if(Array.isArray(Z[Q]))Z[Q]=X.getIds(J,Z[Q]);else Z[Q]=X.getId(J,Z[Q])}return Z}replaceIds(X,Z,J){return this.replace(this.crossOriginIframeMirror,X,Z,J)}replaceStyleIds(X,Z,J){return this.replace(this.crossOriginIframeStyleMirror,X,Z,J)}replaceIdOnNode(X,Z){if(this.replaceIds(X,Z,["id","rootId"]),"childNodes"in X)X.childNodes.forEach((J)=>{this.replaceIdOnNode(J,Z)})}patchRootIdOnNode(X,Z){if(X.type!==u6.Document&&!X.rootId)X.rootId=Z;if("childNodes"in X)X.childNodes.forEach((J)=>{this.patchRootIdOnNode(J,Z)})}}class s6{constructor(X){L(this,"shadowDoms",new WeakSet),L(this,"mutationCb"),L(this,"scrollCb"),L(this,"bypassOptions"),L(this,"mirror"),L(this,"restoreHandlers",[]),this.mutationCb=X.mutationCb,this.scrollCb=X.scrollCb,this.bypassOptions=X.bypassOptions,this.mirror=X.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(X,Z){if(!F1(X))return;if(this.shadowDoms.has(X))return;this.shadowDoms.add(X);let J=d6({...this.bypassOptions,doc:Z,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},X);this.restoreHandlers.push(()=>J.disconnect()),this.restoreHandlers.push(i6({...this.bypassOptions,scrollCb:this.scrollCb,doc:X,mirror:this.mirror})),setTimeout(()=>{if(X.adoptedStyleSheets&&X.adoptedStyleSheets.length>0)this.bypassOptions.stylesheetManager.adoptStyleSheets(X.adoptedStyleSheets,this.mirror.getId(w.host(X)));this.restoreHandlers.push(a6({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},X))},0)}observeAttachShadow(X){if(!X.contentWindow||!X.contentDocument)return;this.patchAttachShadow(X.contentWindow.Element,X.contentDocument)}patchAttachShadow(X,Z){let J=this;this.restoreHandlers.push(s9(X.prototype,"attachShadow",function(Y){return function(Q){let K=Y.call(this,Q),G=w.shadowRoot(this);if(G&&m6(this))J.addShadowRoot(G,Z);return K}}))}reset(){this.restoreHandlers.forEach((X)=>{try{X()}catch(Z){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}function p5(X,Z){let J=JY.get(X);if(!J)J=new Map,JY.set(X,J);if(!J.has(Z))J.set(Z,[]);return J.get(Z)}function DZ(X,Z,J){if(X instanceof Array)return X.map((Y)=>DZ(Y,Z,J));else if(X===null)return X;else if(X instanceof Float32Array||X instanceof Float64Array||X instanceof Int32Array||X instanceof Uint32Array||X instanceof Uint8Array||X instanceof Uint16Array||X instanceof Int16Array||X instanceof Int8Array||X instanceof Uint8ClampedArray)return{rr_type:X.constructor.name,args:[Object.values(X)]};else if(X instanceof ArrayBuffer){let Y=X.constructor.name,Q=u5(X);return{rr_type:Y,base64:Q}}else if(X instanceof DataView)return{rr_type:X.constructor.name,args:[DZ(X.buffer,Z,J),X.byteOffset,X.byteLength]};else if(X instanceof HTMLImageElement){let Y=X.constructor.name,{src:Q}=X;return{rr_type:Y,src:Q}}else if(X instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",src:X.toDataURL()};else if(X instanceof ImageData)return{rr_type:X.constructor.name,args:[DZ(X.data,Z,J),X.width,X.height]};else if(t6(X,Z)||typeof X==="object"){let Y=X.constructor.name,Q=n6(X,Z,J);return{rr_type:Y,index:Q}}return X}function c5(X,Z,J,Y){let Q=[],K=Object.getOwnPropertyNames(Z.CanvasRenderingContext2D.prototype);for(let G of K)try{if(typeof Z.CanvasRenderingContext2D.prototype[G]!=="function")continue;let V=s9(Z.CanvasRenderingContext2D.prototype,G,function(H){return function(...q){if(!e(this.canvas,J,Y,!0))setTimeout(()=>{let B=o6(q,Z,this);X(this.canvas,{type:r9["2D"],property:G,args:B})},0);return H.apply(this,q)}});Q.push(V)}catch{let V=uZ(Z.CanvasRenderingContext2D.prototype,G,{set(H){X(this.canvas,{type:r9["2D"],property:G,args:[H],setter:!0})}});Q.push(V)}return()=>{Q.forEach((G)=>G())}}function l5(X){return X==="experimental-webgl"?"webgl":X}function YY(X,Z,J,Y){let Q=[];try{let K=s9(X.HTMLCanvasElement.prototype,"getContext",function(G){return function(V,...H){if(!e(this,Z,J,!0)){let q=l5(V);if(!("__context"in this))this.__context=q;if(Y&&["webgl","webgl2"].includes(q))if(H[0]&&typeof H[0]==="object"){let B=H[0];if(!B.preserveDrawingBuffer)B.preserveDrawingBuffer=!0}else H.splice(0,1,{preserveDrawingBuffer:!0})}return G.apply(this,[V,...H])}});Q.push(K)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{Q.forEach((K)=>K())}}function QY(X,Z,J,Y,Q,K){let G=[],V=Object.getOwnPropertyNames(X);for(let H of V){if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(H))continue;try{if(typeof X[H]!=="function")continue;let q=s9(X,H,function(B){return function(...W){let U=B.apply(this,W);if(n6(U,K,this),"tagName"in this.canvas&&!e(this.canvas,Y,Q,!0)){let z=o6(W,K,this),F={type:Z,property:H,args:z};J(this.canvas,F)}return U}});G.push(q)}catch{let q=uZ(X,H,{set(B){J(this.canvas,{type:Z,property:H,args:[B],setter:!0})}});G.push(q)}}return G}function d5(X,Z,J,Y){let Q=[];if(Q.push(...QY(Z.WebGLRenderingContext.prototype,r9.WebGL,X,J,Y,Z)),typeof Z.WebGL2RenderingContext<"u")Q.push(...QY(Z.WebGL2RenderingContext.prototype,r9.WebGL2,X,J,Y,Z));return()=>{Q.forEach((K)=>K())}}function a5(X){let Z;try{if(Z=KY&&(window.URL||window.webkitURL).createObjectURL(KY),!Z)throw"";let J=new Worker(Z,{name:X==null?void 0:X.name});return J.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(Z)}),J}catch(J){return new Worker("data:text/javascript;base64,"+e6,{name:X==null?void 0:X.name})}finally{Z&&(window.URL||window.webkitURL).revokeObjectURL(Z)}}class Z8{constructor(X){L(this,"pendingCanvasMutations",new Map),L(this,"rafStamps",{latestId:0,invokeId:null}),L(this,"mirror"),L(this,"mutationCb"),L(this,"resetObservers"),L(this,"frozen",!1),L(this,"locked",!1),L(this,"processMutation",(V,H)=>{if(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)this.rafStamps.invokeId=this.rafStamps.latestId;if(!this.pendingCanvasMutations.has(V))this.pendingCanvasMutations.set(V,[]);this.pendingCanvasMutations.get(V).push(H)});let{sampling:Z="all",win:J,blockClass:Y,blockSelector:Q,recordCanvas:K,dataURLOptions:G}=X;if(this.mutationCb=X.mutationCb,this.mirror=X.mirror,K&&Z==="all")this.initCanvasMutationObserver(J,Y,Q);if(K&&typeof Z==="number")this.initCanvasFPSObserver(Z,J,Y,Q,{dataURLOptions:G})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(X,Z,J,Y,Q){let K=YY(Z,J,Y,!0),G=new Map,V=new a5;V.onmessage=(z)=>{let{id:F}=z.data;if(G.set(F,!1),!("base64"in z.data))return;let{base64:D,type:j,width:O,height:A}=z.data;this.mutationCb({id:F,type:r9["2D"],commands:[{property:"clearRect",args:[0,0,O,A]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:D}],type:j}]},0,0]}]})};let H=1000/X,q=0,B,W=()=>{let z=[];return Z.document.querySelectorAll("canvas").forEach((F)=>{if(!e(F,J,Y,!0))z.push(F)}),z},U=(z)=>{if(q&&z-q<H){B=requestAnimationFrame(U);return}q=z,W().forEach(async(F)=>{var D;let j=this.mirror.getId(F);if(G.get(j))return;if(F.width===0||F.height===0)return;if(G.set(j,!0),["webgl","webgl2"].includes(F.__context)){let A=F.getContext(F.__context);if(((D=A==null?void 0:A.getContextAttributes())==null?void 0:D.preserveDrawingBuffer)===!1)A.clear(A.COLOR_BUFFER_BIT)}let O=await createImageBitmap(F);V.postMessage({id:j,bitmap:O,width:F.width,height:F.height,dataURLOptions:Q.dataURLOptions},[O])}),B=requestAnimationFrame(U)};B=requestAnimationFrame(U),this.resetObservers=()=>{K(),cancelAnimationFrame(B)}}initCanvasMutationObserver(X,Z,J){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let Y=YY(X,Z,J,!1),Q=c5(this.processMutation.bind(this),X,Z,J),K=d5(this.processMutation.bind(this),X,Z,J);this.resetObservers=()=>{Y(),Q(),K()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let X=(Z)=>{this.rafStamps.latestId=Z,requestAnimationFrame(X)};requestAnimationFrame(X)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((X,Z)=>{let J=this.mirror.getId(Z);this.flushPendingCanvasMutationFor(Z,J)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(X,Z){if(this.frozen||this.locked)return;let J=this.pendingCanvasMutations.get(X);if(!J||Z===-1)return;let Y=J.map((K)=>{let{type:G,...V}=K;return V}),{type:Q}=J[0];this.mutationCb({id:Z,type:Q,commands:Y}),this.pendingCanvasMutations.delete(X)}}class X8{constructor(X){L(this,"trackedLinkElements",new WeakSet),L(this,"mutationCb"),L(this,"adoptedStyleSheetCb"),L(this,"styleMirror",new h6),this.mutationCb=X.mutationCb,this.adoptedStyleSheetCb=X.adoptedStyleSheetCb}attachLinkElement(X,Z){if("_cssText"in Z.attributes)this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:Z.id,attributes:Z.attributes}]});this.trackLinkElement(X)}trackLinkElement(X){if(this.trackedLinkElements.has(X))return;this.trackedLinkElements.add(X),this.trackStylesheetInLinkElement(X)}adoptStyleSheets(X,Z){if(X.length===0)return;let J={id:Z,styleIds:[]},Y=[];for(let Q of X){let K;if(!this.styleMirror.has(Q))K=this.styleMirror.add(Q),Y.push({styleId:K,rules:Array.from(Q.rules||CSSRule,(G,V)=>({rule:qY(G,Q.href),index:V}))});else K=this.styleMirror.getId(Q);J.styleIds.push(K)}if(Y.length>0)J.styles=Y;this.adoptedStyleSheetCb(J)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(X){}}class J8{constructor(){L(this,"nodeMap",new WeakMap),L(this,"active",!1)}inOtherBuffer(X,Z){let J=this.nodeMap.get(X);return J&&Array.from(J).some((Y)=>Y!==Z)}add(X,Z){if(!this.active)this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1});this.nodeMap.set(X,(this.nodeMap.get(X)||new Set).add(Z))}destroy(){}}function I1(X={}){let{emit:Z,checkoutEveryNms:J,checkoutEveryNth:Y,blockClass:Q="rr-block",blockSelector:K=null,ignoreClass:G="rr-ignore",ignoreSelector:V=null,maskTextClass:H="rr-mask",maskTextSelector:q=null,inlineStylesheet:B=!0,maskAllInputs:W,maskInputOptions:U,slimDOMOptions:z,maskInputFn:F,maskTextFn:D,hooks:j,packFn:O,sampling:A={},dataURLOptions:P={},mousemoveWait:M,recordDOM:T=!0,recordCanvas:I=!1,recordCrossOriginIframes:i=!1,recordAfter:k=X.recordAfter==="DOMContentLoaded"?X.recordAfter:"load",userTriggeredOnInput:l=!1,collectFonts:s=!1,inlineImages:Q9=!1,plugins:W9,keepIframeSrcFn:C=()=>!1,ignoreCSSAttributes:o9=new Set([]),errorHandler:t9}=X;R5(t9);let a=i?window.parent===window:!0,K9=!1;if(!a)try{if(window.parent.document)K9=!1}catch($){K9=!0}if(a&&!Z)throw Error("emit function is required");if(!a&&!K9)return()=>{};if(M!==void 0&&A.mousemove===void 0)A.mousemove=M;H9.reset();let N9=W===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:U!==void 0?U:{password:!0},U9=z===!0||z==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:z==="all",headMetaDescKeywords:z==="all",headTitleMutations:z==="all"}:z?z:{};O5();let SX,pZ=0,IX=($)=>{for(let V9 of W9||[])if(V9.eventProcessor)$=V9.eventProcessor($);if(O&&!K9)$=O($);return $};c=($,V9)=>{var u;let p=$;if(p.timestamp=TZ(),((u=C9[0])==null?void 0:u.isFrozen())&&p.type!==E.FullSnapshot&&!(p.type===E.IncrementalSnapshot&&p.data.source===N.Mutation))C9.forEach((z9)=>z9.unfreeze());if(a)Z==null||Z(IX(p),V9);else if(K9){let z9={type:"rrweb",event:IX(p),origin:window.location.origin,isCheckout:V9};window.parent.postMessage(z9,"*")}if(p.type===E.FullSnapshot)SX=p,pZ=0;else if(p.type===E.IncrementalSnapshot){if(p.data.source===N.Mutation&&p.data.isAttachIframe)return;pZ++;let z9=Y&&pZ>=Y,f=J&&p.timestamp-SX.timestamp>J;if(z9||f)PZ(!0)}};let f1=($)=>{c({type:E.IncrementalSnapshot,data:{source:N.Mutation,...$}})},fX=($)=>c({type:E.IncrementalSnapshot,data:{source:N.Scroll,...$}}),bX=($)=>c({type:E.IncrementalSnapshot,data:{source:N.CanvasMutation,...$}}),R9=new X8({mutationCb:f1,adoptedStyleSheetCb:($)=>c({type:E.IncrementalSnapshot,data:{source:N.AdoptedStyleSheet,...$}})}),E9=new r6({mirror:H9,mutationCb:f1,stylesheetManager:R9,recordCrossOriginIframes:i,wrappedEmit:c});for(let $ of W9||[])if($.getMirror)$.getMirror({nodeMirror:H9,crossOriginIframeMirror:E9.crossOriginIframeMirror,crossOriginIframeStyleMirror:E9.crossOriginIframeStyleMirror});let cZ=new J8;M0=new Z8({recordCanvas:I,mutationCb:bX,win:window,blockClass:Q,blockSelector:K,mirror:H9,sampling:A.canvas,dataURLOptions:P});let b1=new s6({mutationCb:f1,scrollCb:fX,bypassOptions:{blockClass:Q,blockSelector:K,maskTextClass:H,maskTextSelector:q,inlineStylesheet:B,maskInputOptions:N9,dataURLOptions:P,maskTextFn:D,maskInputFn:F,recordCanvas:I,inlineImages:Q9,sampling:A,slimDOMOptions:U9,iframeManager:E9,stylesheetManager:R9,canvasManager:M0,keepIframeSrcFn:C,processedNodeManager:cZ},mirror:H9});PZ=($=!1)=>{if(!T)return;c({type:E.Meta,data:{href:window.location.href,width:f6(),height:I6()}},$),R9.reset(),b1.init(),C9.forEach((u)=>u.lock());let V9=_7(document,{mirror:H9,blockClass:Q,blockSelector:K,maskTextClass:H,maskTextSelector:q,inlineStylesheet:B,maskAllInputs:N9,maskTextFn:D,maskInputFn:F,slimDOM:U9,dataURLOptions:P,recordCanvas:I,inlineImages:Q9,onSerialize:(u)=>{if(v6(u,H9))E9.addIframe(u);if(k6(u,H9))R9.trackLinkElement(u);if(ZX(u))b1.addShadowRoot(w.shadowRoot(u),document)},onIframeLoad:(u,p)=>{E9.attachIframe(u,p),b1.observeAttachShadow(u)},onStylesheetLoad:(u,p)=>{R9.attachLinkElement(u,p)},keepIframeSrcFn:C});if(!V9)return console.warn("Failed to snapshot the document");if(c({type:E.FullSnapshot,data:{node:V9,initialOffset:S6(window)}},$),C9.forEach((u)=>u.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0)R9.adoptStyleSheets(document.adoptedStyleSheets,H9.getId(document))};try{let $=[],V9=(p)=>{var z9;return R(g5)({mutationCb:f1,mousemoveCb:(f,lZ)=>c({type:E.IncrementalSnapshot,data:{source:lZ,positions:f}}),mouseInteractionCb:(f)=>c({type:E.IncrementalSnapshot,data:{source:N.MouseInteraction,...f}}),scrollCb:fX,viewportResizeCb:(f)=>c({type:E.IncrementalSnapshot,data:{source:N.ViewportResize,...f}}),inputCb:(f)=>c({type:E.IncrementalSnapshot,data:{source:N.Input,...f}}),mediaInteractionCb:(f)=>c({type:E.IncrementalSnapshot,data:{source:N.MediaInteraction,...f}}),styleSheetRuleCb:(f)=>c({type:E.IncrementalSnapshot,data:{source:N.StyleSheetRule,...f}}),styleDeclarationCb:(f)=>c({type:E.IncrementalSnapshot,data:{source:N.StyleDeclaration,...f}}),canvasMutationCb:bX,fontCb:(f)=>c({type:E.IncrementalSnapshot,data:{source:N.Font,...f}}),selectionCb:(f)=>{c({type:E.IncrementalSnapshot,data:{source:N.Selection,...f}})},customElementCb:(f)=>{c({type:E.IncrementalSnapshot,data:{source:N.CustomElement,...f}})},blockClass:Q,ignoreClass:G,ignoreSelector:V,maskTextClass:H,maskTextSelector:q,maskInputOptions:N9,inlineStylesheet:B,sampling:A,recordDOM:T,recordCanvas:I,inlineImages:Q9,userTriggeredOnInput:l,collectFonts:s,doc:p,maskInputFn:F,maskTextFn:D,keepIframeSrcFn:C,blockSelector:K,slimDOMOptions:U9,dataURLOptions:P,mirror:H9,iframeManager:E9,stylesheetManager:R9,shadowDomManager:b1,processedNodeManager:cZ,canvasManager:M0,ignoreCSSAttributes:o9,plugins:((z9=W9==null?void 0:W9.filter((f)=>f.observer))==null?void 0:z9.map((f)=>({observer:f.observer,options:f.options,callback:(lZ)=>c({type:E.Plugin,data:{plugin:f.name,payload:lZ}})})))||[]},j)};E9.addLoadListener((p)=>{try{$.push(V9(p.contentDocument))}catch(z9){console.warn(z9)}});let u=()=>{PZ(),$.push(V9(document)),xZ=!0};if(document.readyState==="interactive"||document.readyState==="complete")u();else $.push(t("DOMContentLoaded",()=>{if(c({type:E.DomContentLoaded,data:{}}),k==="DOMContentLoaded")u()})),$.push(t("load",()=>{if(c({type:E.Load,data:{}}),k==="load")u()},window));return()=>{$.forEach((p)=>p()),cZ.destroy(),xZ=!1,E5()}}catch($){console.warn($)}}var x8,S8=(X,Z,J)=>(Z in X)?x8(X,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):X[Z]=J,L=(X,Z,J)=>S8(X,typeof Z!=="symbol"?Z+"":Z,J),VJ,I8,f8=(X,Z,J)=>(Z in X)?I8(X,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):X[Z]=J,HJ=(X,Z,J)=>f8(X,typeof Z!=="symbol"?Z+"":Z,J),r,qJ,BJ,l1,b8=()=>{return!!globalThis.Zone},V0,H0,o,WJ="__rrweb_original__",X7,J7,Y7,Q7,V7=1,H7,P1=-2,y9,UJ,B7,W7,zJ,HX,y,FY=function(){return{isColorSupported:!1,reset:y,bold:y,dim:y,italic:y,underline:y,inverse:y,hidden:y,strikethrough:y,black:y,red:y,green:y,yellow:y,blue:y,magenta:y,cyan:y,white:y,gray:y,bgBlack:y,bgRed:y,bgGreen:y,bgYellow:y,bgBlue:y,bgMagenta:y,bgCyan:y,bgWhite:y}},R7,E7,C7,q9,jJ,FJ,w0,qX,C1,DJ,N0=class{constructor(Z){this.builder=Z}atrule(Z,J){let Y="@"+Z.name,Q=Z.params?this.rawValue(Z,"params"):"";if(typeof Z.raws.afterName<"u")Y+=Z.raws.afterName;else if(Q)Y+=" ";if(Z.nodes)this.block(Z,Y+Q);else{let K=(Z.raws.between||"")+(J?";":"");this.builder(Y+Q+K,Z)}}beforeAfter(Z,J){let Y;if(Z.type==="decl")Y=this.raw(Z,null,"beforeDecl");else if(Z.type==="comment")Y=this.raw(Z,null,"beforeComment");else if(J==="before")Y=this.raw(Z,null,"beforeRule");else Y=this.raw(Z,null,"beforeClose");let Q=Z.parent,K=0;while(Q&&Q.type!=="root")K+=1,Q=Q.parent;if(Y.includes(`
`)){let G=this.raw(Z,null,"indent");if(G.length)for(let V=0;V<K;V++)Y+=G}return Y}block(Z,J){let Y=this.raw(Z,"between","beforeOpen");this.builder(J+Y+"{",Z,"start");let Q;if(Z.nodes&&Z.nodes.length)this.body(Z),Q=this.raw(Z,"after");else Q=this.raw(Z,"after","emptyBody");if(Q)this.builder(Q);this.builder("}",Z,"end")}body(Z){let J=Z.nodes.length-1;while(J>0){if(Z.nodes[J].type!=="comment")break;J-=1}let Y=this.raw(Z,"semicolon");for(let Q=0;Q<Z.nodes.length;Q++){let K=Z.nodes[Q],G=this.raw(K,"before");if(G)this.builder(G);this.stringify(K,J!==Q||Y)}}comment(Z){let J=this.raw(Z,"left","commentLeft"),Y=this.raw(Z,"right","commentRight");this.builder("/*"+J+Z.text+Y+"*/",Z)}decl(Z,J){let Y=this.raw(Z,"between","colon"),Q=Z.prop+Y+this.rawValue(Z,"value");if(Z.important)Q+=Z.raws.important||" !important";if(J)Q+=";";this.builder(Q,Z)}document(Z){this.body(Z)}raw(Z,J,Y){let Q;if(!Y)Y=J;if(J){if(Q=Z.raws[J],typeof Q<"u")return Q}let K=Z.parent;if(Y==="before"){if(!K||K.type==="root"&&K.first===Z)return"";if(K&&K.type==="document")return""}if(!K)return DJ[Y];let G=Z.root();if(!G.rawCache)G.rawCache={};if(typeof G.rawCache[Y]<"u")return G.rawCache[Y];if(Y==="before"||Y==="after")return this.beforeAfter(Z,Y);else{let V="raw"+T7(Y);if(this[V])Q=this[V](G,Z);else G.walk((H)=>{if(Q=H.raws[J],typeof Q<"u")return!1})}if(typeof Q>"u")Q=DJ[Y];return G.rawCache[Y]=Q,Q}rawBeforeClose(Z){let J;if(Z.walk((Y)=>{if(Y.nodes&&Y.nodes.length>0){if(typeof Y.raws.after<"u"){if(J=Y.raws.after,J.includes(`
`))J=J.replace(/[^\n]+$/,"");return!1}}}),J)J=J.replace(/\S/g,"");return J}rawBeforeComment(Z,J){let Y;if(Z.walkComments((Q)=>{if(typeof Q.raws.before<"u"){if(Y=Q.raws.before,Y.includes(`
`))Y=Y.replace(/[^\n]+$/,"");return!1}}),typeof Y>"u")Y=this.raw(J,null,"beforeDecl");else if(Y)Y=Y.replace(/\S/g,"");return Y}rawBeforeDecl(Z,J){let Y;if(Z.walkDecls((Q)=>{if(typeof Q.raws.before<"u"){if(Y=Q.raws.before,Y.includes(`
`))Y=Y.replace(/[^\n]+$/,"");return!1}}),typeof Y>"u")Y=this.raw(J,null,"beforeRule");else if(Y)Y=Y.replace(/\S/g,"");return Y}rawBeforeOpen(Z){let J;return Z.walk((Y)=>{if(Y.type!=="decl"){if(J=Y.raws.between,typeof J<"u")return!1}}),J}rawBeforeRule(Z){let J;if(Z.walk((Y)=>{if(Y.nodes&&(Y.parent!==Z||Z.first!==Y)){if(typeof Y.raws.before<"u"){if(J=Y.raws.before,J.includes(`
`))J=J.replace(/[^\n]+$/,"");return!1}}}),J)J=J.replace(/\S/g,"");return J}rawColon(Z){let J;return Z.walkDecls((Y)=>{if(typeof Y.raws.between<"u")return J=Y.raws.between.replace(/[^\s:]/g,""),!1}),J}rawEmptyBody(Z){let J;return Z.walk((Y)=>{if(Y.nodes&&Y.nodes.length===0){if(J=Y.raws.after,typeof J<"u")return!1}}),J}rawIndent(Z){if(Z.raws.indent)return Z.raws.indent;let J;return Z.walk((Y)=>{let Q=Y.parent;if(Q&&Q!==Z&&Q.parent&&Q.parent===Z){if(typeof Y.raws.before<"u"){let K=Y.raws.before.split(`
`);return J=K[K.length-1],J=J.replace(/\S/g,""),!1}}}),J}rawSemicolon(Z){let J;return Z.walk((Y)=>{if(Y.nodes&&Y.nodes.length&&Y.last.type==="decl"){if(J=Y.raws.semicolon,typeof J<"u")return!1}}),J}rawValue(Z,J){let Y=Z[J],Q=Z.raws[J];if(Q&&Q.value===Y)return Q.raw;return Y}root(Z){if(this.body(Z),Z.raws.after)this.builder(Z.raws.after)}rule(Z){if(this.block(Z,this.rawValue(Z,"selector")),Z.raws.ownSemicolon)this.builder(Z.raws.ownSemicolon,Z,"end")}stringify(Z,J){if(!this[Z.type])throw Error("Unknown AST node type "+Z.type+". Maybe you need to change PostCSS stringifier.");this[Z.type](Z,J)}},DY,$7,SZ,d1,x7,S7,I7,f7,C0=class{constructor(Z={}){this.raws={},this[d1]=!1,this[x7]=!0;for(let J in Z)if(J==="nodes"){this.nodes=[];for(let Y of Z[J])if(typeof Y.clone==="function")this.append(Y.clone());else this.append(Y)}else this[J]=Z[J]}addToError(Z){if(Z.postcssNode=this,Z.stack&&this.source&&/\n\s{4}at /.test(Z.stack)){let J=this.source;Z.stack=Z.stack.replace(/\n\s{4}at /,`$&${J.input.from}:${J.start.line}:${J.start.column}$&`)}return Z}after(Z){return this.parent.insertAfter(this,Z),this}assign(Z={}){for(let J in Z)this[J]=Z[J];return this}before(Z){return this.parent.insertBefore(this,Z),this}cleanRaws(Z){if(delete this.raws.before,delete this.raws.after,!Z)delete this.raws.between}clone(Z={}){let J=E0(this);for(let Y in Z)J[Y]=Z[Y];return J}cloneAfter(Z={}){let J=this.clone(Z);return this.parent.insertAfter(this,J),J}cloneBefore(Z={}){let J=this.clone(Z);return this.parent.insertBefore(this,J),J}error(Z,J={}){if(this.source){let{end:Y,start:Q}=this.rangeBy(J);return this.source.input.error(Z,{column:Q.column,line:Q.line},{column:Y.column,line:Y.line},J)}return new S7(Z)}getProxyProcessor(){return{get(Z,J){if(J==="proxyOf")return Z;else if(J==="root")return()=>Z.root().toProxy();else return Z[J]},set(Z,J,Y){if(Z[J]===Y)return!0;if(Z[J]=Y,J==="prop"||J==="value"||J==="name"||J==="params"||J==="important"||J==="text")Z.markDirty();return!0}}}markDirty(){if(this[d1]){this[d1]=!1;let Z=this;while(Z=Z.parent)Z[d1]=!1}}next(){if(!this.parent)return;let Z=this.parent.index(this);return this.parent.nodes[Z+1]}positionBy(Z,J){let Y=this.source.start;if(Z.index)Y=this.positionInside(Z.index,J);else if(Z.word){J=this.toString();let Q=J.indexOf(Z.word);if(Q!==-1)Y=this.positionInside(Q,J)}return Y}positionInside(Z,J){let Y=J||this.toString(),Q=this.source.start.column,K=this.source.start.line;for(let G=0;G<Z;G++)if(Y[G]===`
`)Q=1,K+=1;else Q+=1;return{column:Q,line:K}}prev(){if(!this.parent)return;let Z=this.parent.index(this);return this.parent.nodes[Z-1]}rangeBy(Z){let J={column:this.source.start.column,line:this.source.start.line},Y=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:J.column+1,line:J.line};if(Z.word){let Q=this.toString(),K=Q.indexOf(Z.word);if(K!==-1)J=this.positionInside(K,Q),Y=this.positionInside(K+Z.word.length,Q)}else{if(Z.start)J={column:Z.start.column,line:Z.start.line};else if(Z.index)J=this.positionInside(Z.index);if(Z.end)Y={column:Z.end.column,line:Z.end.line};else if(typeof Z.endIndex==="number")Y=this.positionInside(Z.endIndex);else if(Z.index)Y=this.positionInside(Z.index+1)}if(Y.line<J.line||Y.line===J.line&&Y.column<=J.column)Y={column:J.column+1,line:J.line};return{end:Y,start:J}}raw(Z,J){return new I7().raw(this,Z,J)}remove(){if(this.parent)this.parent.removeChild(this);return this.parent=void 0,this}replaceWith(...Z){if(this.parent){let J=this,Y=!1;for(let Q of Z)if(Q===this)Y=!0;else if(Y)this.parent.insertAfter(J,Q),J=Q;else this.parent.insertBefore(J,Q);if(!Y)this.remove()}return this}root(){let Z=this;while(Z.parent&&Z.parent.type!=="document")Z=Z.parent;return Z}toJSON(Z,J){let Y={},Q=J==null;J=J||new Map;let K=0;for(let G in this){if(!Object.prototype.hasOwnProperty.call(this,G))continue;if(G==="parent"||G==="proxyCache")continue;let V=this[G];if(Array.isArray(V))Y[G]=V.map((H)=>{if(typeof H==="object"&&H.toJSON)return H.toJSON(null,J);else return H});else if(typeof V==="object"&&V.toJSON)Y[G]=V.toJSON(null,J);else if(G==="source"){let H=J.get(V.input);if(H==null)H=K,J.set(V.input,K),K++;Y[G]={end:V.end,inputId:H,start:V.start}}else Y[G]=V}if(Q)Y.inputs=[...J.keys()].map((G)=>G.toJSON());return Y}toProxy(){if(!this.proxyCache)this.proxyCache=new Proxy(this,this.getProxyProcessor());return this.proxyCache}toString(Z=f7){if(Z.stringify)Z=Z.stringify;let J="";return Z(this,(Y)=>{J+=Y}),J}warn(Z,J,Y){let Q={node:this};for(let K in Y)Q[K]=Y[K];return Z.warn(J,Q)}get proxyOf(){return this}},IZ,b7,T0,fZ,y7="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",v7=(X,Z=21)=>{return(J=Z)=>{let Y="",Q=J;while(Q--)Y+=X[Math.random()*X.length|0];return Y}},k7=(X=21)=>{let Z="",J=X;while(J--)Z+=y7[Math.random()*64|0];return Z},h7,PJ,LJ,g7,m7,B0,u7,$0=class{constructor(Z,J){if(J.map===!1)return;this.loadAnnotation(Z),this.inline=this.startWith(this.annotation,"data:");let Y=J.map?J.map.prev:void 0,Q=this.loadMap(J.from,Y);if(!this.mapFile&&J.from)this.mapFile=J.from;if(this.mapFile)this.root=B0(this.mapFile);if(Q)this.text=Q}consumer(){if(!this.consumerCache)this.consumerCache=new PJ(this.text);return this.consumerCache}decodeInline(Z){let J=/^data:application\/json;charset=utf-?8;base64,/,Y=/^data:application\/json;base64,/,Q=/^data:application\/json;charset=utf-?8,/,K=/^data:application\/json,/;if(Q.test(Z)||K.test(Z))return decodeURIComponent(Z.substr(RegExp.lastMatch.length));if(J.test(Z)||Y.test(Z))return p7(Z.substr(RegExp.lastMatch.length));let G=Z.match(/data:application\/json;([^,]+),/)[1];throw Error("Unsupported source map encoding "+G)}getAnnotationURL(Z){return Z.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(Z){if(typeof Z!=="object")return!1;return typeof Z.mappings==="string"||typeof Z._mappings==="string"||Array.isArray(Z.sections)}loadAnnotation(Z){let J=Z.match(/\/\*\s*# sourceMappingURL=/gm);if(!J)return;let Y=Z.lastIndexOf(J.pop()),Q=Z.indexOf("*/",Y);if(Y>-1&&Q>-1)this.annotation=this.getAnnotationURL(Z.substring(Y,Q))}loadFile(Z){if(this.root=B0(Z),g7(Z))return this.mapFile=Z,m7(Z,"utf-8").toString().trim()}loadMap(Z,J){if(J===!1)return!1;if(J)if(typeof J==="string")return J;else if(typeof J==="function"){let Y=J(Z);if(Y){let Q=this.loadFile(Y);if(!Q)throw Error("Unable to load previous source map: "+Y.toString());return Q}}else if(J instanceof PJ)return LJ.fromSourceMap(J).toString();else if(J instanceof LJ)return J.toString();else if(this.isMap(J))return JSON.stringify(J);else throw Error("Unsupported previous source map format: "+J.toString());else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){let Y=this.annotation;if(Z)Y=u7(B0(Z),Y);return this.loadFile(Y)}}startWith(Z,J){if(!Z)return!1;return Z.substr(0,J.length)===J}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}},PY,c7,l7,AJ,i1,x0,S0,d7,W0,OJ,i7,U0,a7,MJ,OZ=class{constructor(Z,J={}){if(Z===null||typeof Z>"u"||typeof Z==="object"&&!Z.toString)throw Error(`PostCSS received ${Z} instead of CSS string`);if(this.css=Z.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾")this.hasBOM=!0,this.css=this.css.slice(1);else this.hasBOM=!1;if(J.from)if(!MJ||/^\w+:\/\//.test(J.from)||x0(J.from))this.file=J.from;else this.file=S0(J.from);if(MJ&&a7){let Y=new i7(this.css,J);if(Y.text){this.map=Y;let Q=Y.consumer().file;if(!this.file&&Q)this.file=this.mapResolve(Q)}}if(!this.file)this.id="<input css "+d7(6)+">";if(this.map)this.map.file=this.from}error(Z,J,Y,Q={}){let K,G,V;if(J&&typeof J==="object"){let q=J,B=Y;if(typeof q.offset==="number"){let W=this.fromOffset(q.offset);J=W.line,Y=W.col}else J=q.line,Y=q.column;if(typeof B.offset==="number"){let W=this.fromOffset(B.offset);G=W.line,V=W.col}else G=B.line,V=B.column}else if(!Y){let q=this.fromOffset(J);J=q.line,Y=q.col}let H=this.origin(J,Y,G,V);if(H)K=new OJ(Z,H.endLine===void 0?H.line:{column:H.column,line:H.line},H.endLine===void 0?H.column:{column:H.endColumn,line:H.endLine},H.source,H.file,Q.plugin);else K=new OJ(Z,G===void 0?J:{column:Y,line:J},G===void 0?Y:{column:V,line:G},this.css,this.file,Q.plugin);if(K.input={column:Y,endColumn:V,endLine:G,line:J,source:this.css},this.file){if(i1)K.input.url=i1(this.file).toString();K.input.file=this.file}return K}fromOffset(Z){let J,Y;if(!this[U0]){let K=this.css.split(`
`);Y=Array(K.length);let G=0;for(let V=0,H=K.length;V<H;V++)Y[V]=G,G+=K[V].length+1;this[U0]=Y}else Y=this[U0];J=Y[Y.length-1];let Q=0;if(Z>=J)Q=Y.length-1;else{let K=Y.length-2,G;while(Q<K)if(G=Q+(K-Q>>1),Z<Y[G])K=G-1;else if(Z>=Y[G+1])Q=G+1;else{Q=G;break}}return{col:Z-Y[Q]+1,line:Q+1}}mapResolve(Z){if(/^\w+:\/\//.test(Z))return Z;return S0(this.map.consumer().sourceRoot||this.map.root||".",Z)}origin(Z,J,Y,Q){if(!this.map)return!1;let K=this.map.consumer(),G=K.originalPositionFor({column:J,line:Z});if(!G.source)return!1;let V;if(typeof Y==="number")V=K.originalPositionFor({column:Q,line:Y});let H;if(x0(G.source))H=i1(G.source);else H=new URL(G.source,this.map.consumer().sourceRoot||i1(this.map.mapFile));let q={column:G.column,endColumn:V&&V.column,endLine:V&&V.line,line:G.line,url:H.toString()};if(H.protocol==="file:")if(AJ)q.file=AJ(H);else throw Error("file: protocol is not available in this PostCSS build");let B=K.sourceContentFor(G.source);if(B)q.source=B;return q}toJSON(){let Z={};for(let J of["hasBOM","css","file","id"])if(this[J]!=null)Z[J]=this[J];if(this.map){if(Z.map={...this.map},Z.map.consumerCache)Z.map.consumerCache=void 0}return Z}get from(){return this.file||this.id}},bZ,LY,UZ,zZ,AY,OY,MY,_J,r7,s7,n7,o7=class{constructor(Z,J,Y,Q){this.stringify=Z,this.mapOpts=Y.map||{},this.root=J,this.opts=Y,this.css=Q,this.originalCSS=Q,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let Z;if(this.isInline())Z="data:application/json;base64,"+this.toBase64(this.map.toString());else if(typeof this.mapOpts.annotation==="string")Z=this.mapOpts.annotation;else if(typeof this.mapOpts.annotation==="function")Z=this.mapOpts.annotation(this.opts.to,this.root);else Z=this.outputFile()+".map";let J=`
`;if(this.css.includes(`\r
`))J=`\r
`;this.css+=J+"/*# sourceMappingURL="+Z+" */"}applyPrevMaps(){for(let Z of this.previous()){let J=this.toUrl(this.path(Z.file)),Y=Z.root||zZ(Z.file),Q;if(this.mapOpts.sourcesContent===!1){if(Q=new LY(Z.text),Q.sourcesContent)Q.sourcesContent=null}else Q=Z.consumer();this.map.applySourceMap(Q,J,this.toUrl(this.path(Y)))}}clearAnnotation(){if(this.mapOpts.annotation===!1)return;if(this.root){let Z;for(let J=this.root.nodes.length-1;J>=0;J--){if(Z=this.root.nodes[J],Z.type!=="comment")continue;if(Z.text.indexOf("# sourceMappingURL=")===0)this.root.removeChild(J)}}else if(this.css)this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,"")}generate(){if(this.clearAnnotation(),n7&&s7&&this.isMap())return this.generateMap();else{let Z="";return this.stringify(this.root,(J)=>{Z+=J}),[Z]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let Z=this.previous()[0].consumer();Z.file=this.outputFile(),this.map=UZ.fromSourceMap(Z,{ignoreInvalidMapping:!0})}else this.map=new UZ({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});if(this.isSourcesContent())this.setSourcesContent();if(this.root&&this.previous().length>0)this.applyPrevMaps();if(this.isAnnotation())this.addAnnotation();if(this.isInline())return[this.css];else return[this.css,this.map]}generateString(){this.css="",this.map=new UZ({file:this.outputFile(),ignoreInvalidMapping:!0});let Z=1,J=1,Y="<no source>",Q={generated:{column:0,line:0},original:{column:0,line:0},source:""},K,G;this.stringify(this.root,(V,H,q)=>{if(this.css+=V,H&&q!=="end")if(Q.generated.line=Z,Q.generated.column=J-1,H.source&&H.source.start)Q.source=this.sourcePath(H),Q.original.line=H.source.start.line,Q.original.column=H.source.start.column-1,this.map.addMapping(Q);else Q.source=Y,Q.original.line=1,Q.original.column=0,this.map.addMapping(Q);if(K=V.match(/\n/g),K)Z+=K.length,G=V.lastIndexOf(`
`),J=V.length-G;else J+=V.length;if(H&&q!=="start"){let B=H.parent||{raws:{}};if(!(H.type==="decl"||H.type==="atrule"&&!H.nodes)||H!==B.last||B.raws.semicolon)if(H.source&&H.source.end)Q.source=this.sourcePath(H),Q.original.line=H.source.end.line,Q.original.column=H.source.end.column-1,Q.generated.line=Z,Q.generated.column=J-2,this.map.addMapping(Q);else Q.source=Y,Q.original.line=1,Q.original.column=0,Q.generated.line=Z,Q.generated.column=J-1,this.map.addMapping(Q)}})}isAnnotation(){if(this.isInline())return!0;if(typeof this.mapOpts.annotation<"u")return this.mapOpts.annotation;if(this.previous().length)return this.previous().some((Z)=>Z.annotation);return!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let Z=this.mapOpts.annotation;if(typeof Z<"u"&&Z!==!0)return!1;if(this.previous().length)return this.previous().some((J)=>J.inline);return!0}isMap(){if(typeof this.opts.map<"u")return!!this.opts.map;return this.previous().length>0}isSourcesContent(){if(typeof this.mapOpts.sourcesContent<"u")return this.mapOpts.sourcesContent;if(this.previous().length)return this.previous().some((Z)=>Z.withContent());return!0}outputFile(){if(this.opts.to)return this.path(this.opts.to);else if(this.opts.from)return this.path(this.opts.from);else return"to.css"}path(Z){if(this.mapOpts.absolute)return Z;if(Z.charCodeAt(0)===60)return Z;if(/^\w+:\/\//.test(Z))return Z;let J=this.memoizedPaths.get(Z);if(J)return J;let Y=this.opts.to?zZ(this.opts.to):".";if(typeof this.mapOpts.annotation==="string")Y=zZ(OY(Y,this.mapOpts.annotation));let Q=AY(Y,Z);return this.memoizedPaths.set(Z,Q),Q}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((Z)=>{if(Z.source&&Z.source.input.map){let J=Z.source.input.map;if(!this.previousMaps.includes(J))this.previousMaps.push(J)}});else{let Z=new r7(this.originalCSS,this.opts);if(Z.map)this.previousMaps.push(Z.map)}return this.previousMaps}setSourcesContent(){let Z={};if(this.root)this.root.walk((J)=>{if(J.source){let Y=J.source.input.from;if(Y&&!Z[Y]){Z[Y]=!0;let Q=this.usesFileUrls?this.toFileUrl(Y):this.toUrl(this.path(Y));this.map.setSourceContent(Q,J.source.input.css)}}});else if(this.css){let J=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(J,this.css)}}sourcePath(Z){if(this.mapOpts.from)return this.toUrl(this.mapOpts.from);else if(this.usesFileUrls)return this.toFileUrl(Z.source.input.from);else return this.toUrl(this.path(Z.source.input.from))}toBase64(Z){if(Buffer)return Buffer.from(Z).toString("base64");else return window.btoa(unescape(encodeURIComponent(Z)))}toFileUrl(Z){let J=this.memoizedFileURLs.get(Z);if(J)return J;if(_J){let Y=_J(Z).toString();return this.memoizedFileURLs.set(Z,Y),Y}else throw Error("`map.absolute` option is not available in this PostCSS build")}toUrl(Z){let J=this.memoizedURLs.get(Z);if(J)return J;if(MY==="\\")Z=Z.replace(/\\/g,"/");let Y=encodeURI(Z).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(Z,Y),Y}},_Y,t7,I0,yZ,wY,NY,RY,EY,e7,CY,BX,WX,TY,P9,$9,ZQ,SY,IY,L1,UX,wJ,fY=function(Z){if(wJ[Z])return;if(wJ[Z]=!0,typeof console<"u"&&console.warn)console.warn(Z)},f0=class{constructor(Z,J={}){if(this.type="warning",this.text=Z,J.node&&J.node.source){let Y=J.node.rangeBy(J);this.line=Y.start.line,this.column=Y.start.column,this.endLine=Y.end.line,this.endColumn=Y.end.column}for(let Y in J)this[Y]=J[Y]}toString(){if(this.node)return this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message;if(this.plugin)return this.plugin+": "+this.text;return this.text}},bY,XQ,b0=class{constructor(Z,J,Y){this.processor=Z,this.messages=[],this.root=J,this.opts=Y,this.css=void 0,this.map=void 0}toString(){return this.css}warn(Z,J={}){if(!J.plugin){if(this.lastPlugin&&this.lastPlugin.postcssPlugin)J.plugin=this.lastPlugin.postcssPlugin}let Y=new XQ(Z,J);return this.messages.push(Y),Y}warnings(){return this.messages.filter((Z)=>Z.type==="warning")}get content(){return this.css}},zX,z0=39,NJ=34,a1=92,RJ=47,r1=10,B1=32,s1=12,n1=9,o1=13,JQ=91,YQ=93,QQ=40,KQ=41,GQ=123,VQ=125,HQ=59,qQ=42,BQ=58,WQ=64,t1,e1,UQ,EJ,zQ=function(Z,J={}){let Y=Z.css.valueOf(),Q=J.ignoreErrors,K,G,V,H,q,B,W,U,z,F,D=Y.length,j=0,O=[],A=[];function P(){return j}function M(k){throw Z.error("Unclosed "+k,j)}function T(){return A.length===0&&j>=D}function I(k){if(A.length)return A.pop();if(j>=D)return;let l=k?k.ignoreUnclosed:!1;switch(K=Y.charCodeAt(j),K){case r1:case B1:case n1:case o1:case s1:{G=j;do G+=1,K=Y.charCodeAt(G);while(K===B1||K===r1||K===n1||K===o1||K===s1);F=["space",Y.slice(j,G)],j=G-1;break}case JQ:case YQ:case GQ:case VQ:case BQ:case HQ:case KQ:{let s=String.fromCharCode(K);F=[s,s,j];break}case QQ:{if(U=O.length?O.pop()[1]:"",z=Y.charCodeAt(j+1),U==="url"&&z!==z0&&z!==NJ&&z!==B1&&z!==r1&&z!==n1&&z!==s1&&z!==o1){G=j;do{if(B=!1,G=Y.indexOf(")",G+1),G===-1)if(Q||l){G=j;break}else M("bracket");W=G;while(Y.charCodeAt(W-1)===a1)W-=1,B=!B}while(B);F=["brackets",Y.slice(j,G+1),j,G],j=G}else if(G=Y.indexOf(")",j+1),H=Y.slice(j,G+1),G===-1||UQ.test(H))F=["(","(",j];else F=["brackets",H,j,G],j=G;break}case z0:case NJ:{V=K===z0?"'":'"',G=j;do{if(B=!1,G=Y.indexOf(V,G+1),G===-1)if(Q||l){G=j+1;break}else M("string");W=G;while(Y.charCodeAt(W-1)===a1)W-=1,B=!B}while(B);F=["string",Y.slice(j,G+1),j,G],j=G;break}case WQ:{if(t1.lastIndex=j+1,t1.test(Y),t1.lastIndex===0)G=Y.length-1;else G=t1.lastIndex-2;F=["at-word",Y.slice(j,G+1),j,G],j=G;break}case a1:{G=j,q=!0;while(Y.charCodeAt(G+1)===a1)G+=1,q=!q;if(K=Y.charCodeAt(G+1),q&&K!==RJ&&K!==B1&&K!==r1&&K!==n1&&K!==o1&&K!==s1){if(G+=1,EJ.test(Y.charAt(G))){while(EJ.test(Y.charAt(G+1)))G+=1;if(Y.charCodeAt(G+1)===B1)G+=1}}F=["word",Y.slice(j,G+1),j,G],j=G;break}default:{if(K===RJ&&Y.charCodeAt(j+1)===qQ){if(G=Y.indexOf("*/",j+2)+1,G===0)if(Q||l)G=Y.length;else M("comment");F=["comment",Y.slice(j,G+1),j,G],j=G}else{if(e1.lastIndex=j+1,e1.test(Y),e1.lastIndex===0)G=Y.length-1;else G=e1.lastIndex-2;F=["word",Y.slice(j,G+1),j,G],O.push(F),j=G}break}}return j++,F}function i(k){A.push(k)}return{back:i,endOfFile:T,nextToken:I,position:P}},yY,MZ,jX,vY,kY,hY,p9,T1,A1,gY,mY,jQ,_Z,FX,FQ,DQ,PQ,LQ,AQ,CJ,TJ,MQ=class{constructor(Z){this.input=Z,this.root=new AQ,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:Z,start:{column:1,line:1,offset:0}}}atrule(Z){let J=new LQ;if(J.name=Z[1].slice(1),J.name==="")this.unnamedAtrule(J,Z);this.init(J,Z[2]);let Y,Q,K,G=!1,V=!1,H=[],q=[];while(!this.tokenizer.endOfFile()){if(Z=this.tokenizer.nextToken(),Y=Z[0],Y==="("||Y==="[")q.push(Y==="("?")":"]");else if(Y==="{"&&q.length>0)q.push("}");else if(Y===q[q.length-1])q.pop();if(q.length===0)if(Y===";"){J.source.end=this.getPosition(Z[2]),J.source.end.offset++,this.semicolon=!0;break}else if(Y==="{"){V=!0;break}else if(Y==="}"){if(H.length>0){K=H.length-1,Q=H[K];while(Q&&Q[0]==="space")Q=H[--K];if(Q)J.source.end=this.getPosition(Q[3]||Q[2]),J.source.end.offset++}this.end(Z);break}else H.push(Z);else H.push(Z);if(this.tokenizer.endOfFile()){G=!0;break}}if(J.raws.between=this.spacesAndCommentsFromEnd(H),H.length){if(J.raws.afterName=this.spacesAndCommentsFromStart(H),this.raw(J,"params",H),G)Z=H[H.length-1],J.source.end=this.getPosition(Z[3]||Z[2]),J.source.end.offset++,this.spaces=J.raws.between,J.raws.between=""}else J.raws.afterName="",J.params="";if(V)J.nodes=[],this.current=J}checkMissedSemicolon(Z){let J=this.colon(Z);if(J===!1)return;let Y=0,Q;for(let K=J-1;K>=0;K--)if(Q=Z[K],Q[0]!=="space"){if(Y+=1,Y===2)break}throw this.input.error("Missed semicolon",Q[0]==="word"?Q[3]+1:Q[2])}colon(Z){let J=0,Y,Q,K;for(let[G,V]of Z.entries()){if(Y=V,Q=Y[0],Q==="(")J+=1;if(Q===")")J-=1;if(J===0&&Q===":")if(!K)this.doubleColon(Y);else if(K[0]==="word"&&K[1]==="progid")continue;else return G;K=Y}return!1}comment(Z){let J=new PQ;this.init(J,Z[2]),J.source.end=this.getPosition(Z[3]||Z[2]),J.source.end.offset++;let Y=Z[1].slice(2,-2);if(/^\s*$/.test(Y))J.text="",J.raws.left=Y,J.raws.right="";else{let Q=Y.match(/^(\s*)([^]*\S)(\s*)$/);J.text=Q[2],J.raws.left=Q[1],J.raws.right=Q[3]}}createTokenizer(){this.tokenizer=DQ(this.input)}decl(Z,J){let Y=new FQ;this.init(Y,Z[0][2]);let Q=Z[Z.length-1];if(Q[0]===";")this.semicolon=!0,Z.pop();Y.source.end=this.getPosition(Q[3]||Q[2]||OQ(Z)),Y.source.end.offset++;while(Z[0][0]!=="word"){if(Z.length===1)this.unknownWord(Z);Y.raws.before+=Z.shift()[1]}Y.source.start=this.getPosition(Z[0][2]),Y.prop="";while(Z.length){let q=Z[0][0];if(q===":"||q==="space"||q==="comment")break;Y.prop+=Z.shift()[1]}Y.raws.between="";let K;while(Z.length)if(K=Z.shift(),K[0]===":"){Y.raws.between+=K[1];break}else{if(K[0]==="word"&&/\w/.test(K[1]))this.unknownWord([K]);Y.raws.between+=K[1]}if(Y.prop[0]==="_"||Y.prop[0]==="*")Y.raws.before+=Y.prop[0],Y.prop=Y.prop.slice(1);let G=[],V;while(Z.length){if(V=Z[0][0],V!=="space"&&V!=="comment")break;G.push(Z.shift())}this.precheckMissedSemicolon(Z);for(let q=Z.length-1;q>=0;q--){if(K=Z[q],K[1].toLowerCase()==="!important"){Y.important=!0;let B=this.stringFrom(Z,q);if(B=this.spacesFromEnd(Z)+B,B!==" !important")Y.raws.important=B;break}else if(K[1].toLowerCase()==="important"){let B=Z.slice(0),W="";for(let U=q;U>0;U--){let z=B[U][0];if(W.trim().indexOf("!")===0&&z!=="space")break;W=B.pop()[1]+W}if(W.trim().indexOf("!")===0)Y.important=!0,Y.raws.important=W,Z=B}if(K[0]!=="space"&&K[0]!=="comment")break}if(Z.some((q)=>q[0]!=="space"&&q[0]!=="comment"))Y.raws.between+=G.map((q)=>q[1]).join(""),G=[];if(this.raw(Y,"value",G.concat(Z),J),Y.value.includes(":")&&!J)this.checkMissedSemicolon(Z)}doubleColon(Z){throw this.input.error("Double colon",{offset:Z[2]},{offset:Z[2]+Z[1].length})}emptyRule(Z){let J=new CJ;this.init(J,Z[2]),J.selector="",J.raws.between="",this.current=J}end(Z){if(this.current.nodes&&this.current.nodes.length)this.current.raws.semicolon=this.semicolon;if(this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent)this.current.source.end=this.getPosition(Z[2]),this.current.source.end.offset++,this.current=this.current.parent;else this.unexpectedClose(Z)}endFile(){if(this.current.parent)this.unclosedBlock();if(this.current.nodes&&this.current.nodes.length)this.current.raws.semicolon=this.semicolon;this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(Z){if(this.spaces+=Z[1],this.current.nodes){let J=this.current.nodes[this.current.nodes.length-1];if(J&&J.type==="rule"&&!J.raws.ownSemicolon)J.raws.ownSemicolon=this.spaces,this.spaces=""}}getPosition(Z){let J=this.input.fromOffset(Z);return{column:J.col,line:J.line,offset:Z}}init(Z,J){if(this.current.push(Z),Z.source={input:this.input,start:this.getPosition(J)},Z.raws.before=this.spaces,this.spaces="",Z.type!=="comment")this.semicolon=!1}other(Z){let J=!1,Y=null,Q=!1,K=null,G=[],V=Z[1].startsWith("--"),H=[],q=Z;while(q){if(Y=q[0],H.push(q),Y==="("||Y==="["){if(!K)K=q;G.push(Y==="("?")":"]")}else if(V&&Q&&Y==="{"){if(!K)K=q;G.push("}")}else if(G.length===0){if(Y===";")if(Q){this.decl(H,V);return}else break;else if(Y==="{"){this.rule(H);return}else if(Y==="}"){this.tokenizer.back(H.pop()),J=!0;break}else if(Y===":")Q=!0}else if(Y===G[G.length-1]){if(G.pop(),G.length===0)K=null}q=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile())J=!0;if(G.length>0)this.unclosedBracket(K);if(J&&Q){if(!V)while(H.length){if(q=H[H.length-1][0],q!=="space"&&q!=="comment")break;this.tokenizer.back(H.pop())}this.decl(H,V)}else this.unknownWord(H)}parse(){let Z;while(!this.tokenizer.endOfFile())switch(Z=this.tokenizer.nextToken(),Z[0]){case"space":this.spaces+=Z[1];break;case";":this.freeSemicolon(Z);break;case"}":this.end(Z);break;case"comment":this.comment(Z);break;case"at-word":this.atrule(Z);break;case"{":this.emptyRule(Z);break;default:this.other(Z);break}this.endFile()}precheckMissedSemicolon(){}raw(Z,J,Y,Q){let K,G,V=Y.length,H="",q=!0,B,W;for(let U=0;U<V;U+=1)if(K=Y[U],G=K[0],G==="space"&&U===V-1&&!Q)q=!1;else if(G==="comment")if(W=Y[U-1]?Y[U-1][0]:"empty",B=Y[U+1]?Y[U+1][0]:"empty",!TJ[W]&&!TJ[B])if(H.slice(-1)===",")q=!1;else H+=K[1];else q=!1;else H+=K[1];if(!q){let U=Y.reduce((z,F)=>z+F[1],"");Z.raws[J]={raw:U,value:H}}Z[J]=H}rule(Z){Z.pop();let J=new CJ;this.init(J,Z[0][2]),J.raws.between=this.spacesAndCommentsFromEnd(Z),this.raw(J,"selector",Z),this.current=J}spacesAndCommentsFromEnd(Z){let J,Y="";while(Z.length){if(J=Z[Z.length-1][0],J!=="space"&&J!=="comment")break;Y=Z.pop()[1]+Y}return Y}spacesAndCommentsFromStart(Z){let J,Y="";while(Z.length){if(J=Z[0][0],J!=="space"&&J!=="comment")break;Y+=Z.shift()[1]}return Y}spacesFromEnd(Z){let J,Y="";while(Z.length){if(J=Z[Z.length-1][0],J!=="space")break;Y=Z.pop()[1]+Y}return Y}stringFrom(Z,J){let Y="";for(let Q=J;Q<Z.length;Q++)Y+=Z[Q][1];return Z.splice(J,Z.length-J),Y}unclosedBlock(){let Z=this.current.source.start;throw this.input.error("Unclosed block",Z.line,Z.column)}unclosedBracket(Z){throw this.input.error("Unclosed bracket",{offset:Z[2]},{offset:Z[2]+1})}unexpectedClose(Z){throw this.input.error("Unexpected }",{offset:Z[2]},{offset:Z[2]+1})}unknownWord(Z){throw this.input.error("Unknown word",{offset:Z[0][2]},{offset:Z[0][2]+Z[0][1].length})}unnamedAtrule(Z,J){throw this.input.error("At-rule without name",{offset:J[2]},{offset:J[2]+J[1].length})}},_Q,wQ,NQ,RQ,DX,j9,EQ,CQ,TQ,$Q,xQ,SQ,$J,IQ,fQ,bQ,yQ,vQ,c9=0,v0,l9,pY,kQ,hQ,gQ,mQ,uQ,k0,pQ,cQ,lQ,dQ,iQ,O1=class{constructor(Z=[]){this.version="8.4.38",this.plugins=this.normalize(Z)}normalize(Z){let J=[];for(let Y of Z){if(Y.postcss===!0)Y=Y();else if(Y.postcss)Y=Y.postcss;if(typeof Y==="object"&&Array.isArray(Y.plugins))J=J.concat(Y.plugins);else if(typeof Y==="object"&&Y.postcssPlugin)J.push(Y);else if(typeof Y==="function")J.push(Y);else if(typeof Y==="object"&&(Y.parse||Y.stringify))throw Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.");else throw Error(Y+" is not a PostCSS plugin")}return J}process(Z,J={}){if(!this.plugins.length&&!J.parser&&!J.stringifier&&!J.syntax)return new cQ(this,Z,J);else return new lQ(this,Z,J)}use(Z){return this.plugins=this.plugins.concat(this.normalize([Z])),this}},aQ,rQ,sQ,nQ,oQ,tQ,eQ,ZK,XK,JK,cY,YK,QK,PX,KK,GK,lY,VK,dY,iY,HK,qK,BK,WK,aY,rY,UK,zK,h,jK,FK=(X,Z,J)=>(Z in X)?jK(X,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):X[Z]=J,G9=(X,Z,J)=>FK(X,typeof Z!=="symbol"?Z+"":Z,J),LX,v,sY=function(){return{isColorSupported:!1,reset:v,bold:v,dim:v,italic:v,underline:v,inverse:v,hidden:v,strikethrough:v,black:v,red:v,green:v,yellow:v,blue:v,magenta:v,cyan:v,white:v,gray:v,bgBlack:v,bgRed:v,bgGreen:v,bgYellow:v,bgBlue:v,bgMagenta:v,bgCyan:v,bgWhite:v}},LK,AK,OK,B9,SJ,IJ,h0,AX,$1,fJ,g0=class{constructor(Z){this.builder=Z}atrule(Z,J){let Y="@"+Z.name,Q=Z.params?this.rawValue(Z,"params"):"";if(typeof Z.raws.afterName<"u")Y+=Z.raws.afterName;else if(Q)Y+=" ";if(Z.nodes)this.block(Z,Y+Q);else{let K=(Z.raws.between||"")+(J?";":"");this.builder(Y+Q+K,Z)}}beforeAfter(Z,J){let Y;if(Z.type==="decl")Y=this.raw(Z,null,"beforeDecl");else if(Z.type==="comment")Y=this.raw(Z,null,"beforeComment");else if(J==="before")Y=this.raw(Z,null,"beforeRule");else Y=this.raw(Z,null,"beforeClose");let Q=Z.parent,K=0;while(Q&&Q.type!=="root")K+=1,Q=Q.parent;if(Y.includes(`
`)){let G=this.raw(Z,null,"indent");if(G.length)for(let V=0;V<K;V++)Y+=G}return Y}block(Z,J){let Y=this.raw(Z,"between","beforeOpen");this.builder(J+Y+"{",Z,"start");let Q;if(Z.nodes&&Z.nodes.length)this.body(Z),Q=this.raw(Z,"after");else Q=this.raw(Z,"after","emptyBody");if(Q)this.builder(Q);this.builder("}",Z,"end")}body(Z){let J=Z.nodes.length-1;while(J>0){if(Z.nodes[J].type!=="comment")break;J-=1}let Y=this.raw(Z,"semicolon");for(let Q=0;Q<Z.nodes.length;Q++){let K=Z.nodes[Q],G=this.raw(K,"before");if(G)this.builder(G);this.stringify(K,J!==Q||Y)}}comment(Z){let J=this.raw(Z,"left","commentLeft"),Y=this.raw(Z,"right","commentRight");this.builder("/*"+J+Z.text+Y+"*/",Z)}decl(Z,J){let Y=this.raw(Z,"between","colon"),Q=Z.prop+Y+this.rawValue(Z,"value");if(Z.important)Q+=Z.raws.important||" !important";if(J)Q+=";";this.builder(Q,Z)}document(Z){this.body(Z)}raw(Z,J,Y){let Q;if(!Y)Y=J;if(J){if(Q=Z.raws[J],typeof Q<"u")return Q}let K=Z.parent;if(Y==="before"){if(!K||K.type==="root"&&K.first===Z)return"";if(K&&K.type==="document")return""}if(!K)return fJ[Y];let G=Z.root();if(!G.rawCache)G.rawCache={};if(typeof G.rawCache[Y]<"u")return G.rawCache[Y];if(Y==="before"||Y==="after")return this.beforeAfter(Z,Y);else{let V="raw"+MK(Y);if(this[V])Q=this[V](G,Z);else G.walk((H)=>{if(Q=H.raws[J],typeof Q<"u")return!1})}if(typeof Q>"u")Q=fJ[Y];return G.rawCache[Y]=Q,Q}rawBeforeClose(Z){let J;if(Z.walk((Y)=>{if(Y.nodes&&Y.nodes.length>0){if(typeof Y.raws.after<"u"){if(J=Y.raws.after,J.includes(`
`))J=J.replace(/[^\n]+$/,"");return!1}}}),J)J=J.replace(/\S/g,"");return J}rawBeforeComment(Z,J){let Y;if(Z.walkComments((Q)=>{if(typeof Q.raws.before<"u"){if(Y=Q.raws.before,Y.includes(`
`))Y=Y.replace(/[^\n]+$/,"");return!1}}),typeof Y>"u")Y=this.raw(J,null,"beforeDecl");else if(Y)Y=Y.replace(/\S/g,"");return Y}rawBeforeDecl(Z,J){let Y;if(Z.walkDecls((Q)=>{if(typeof Q.raws.before<"u"){if(Y=Q.raws.before,Y.includes(`
`))Y=Y.replace(/[^\n]+$/,"");return!1}}),typeof Y>"u")Y=this.raw(J,null,"beforeRule");else if(Y)Y=Y.replace(/\S/g,"");return Y}rawBeforeOpen(Z){let J;return Z.walk((Y)=>{if(Y.type!=="decl"){if(J=Y.raws.between,typeof J<"u")return!1}}),J}rawBeforeRule(Z){let J;if(Z.walk((Y)=>{if(Y.nodes&&(Y.parent!==Z||Z.first!==Y)){if(typeof Y.raws.before<"u"){if(J=Y.raws.before,J.includes(`
`))J=J.replace(/[^\n]+$/,"");return!1}}}),J)J=J.replace(/\S/g,"");return J}rawColon(Z){let J;return Z.walkDecls((Y)=>{if(typeof Y.raws.between<"u")return J=Y.raws.between.replace(/[^\s:]/g,""),!1}),J}rawEmptyBody(Z){let J;return Z.walk((Y)=>{if(Y.nodes&&Y.nodes.length===0){if(J=Y.raws.after,typeof J<"u")return!1}}),J}rawIndent(Z){if(Z.raws.indent)return Z.raws.indent;let J;return Z.walk((Y)=>{let Q=Y.parent;if(Q&&Q!==Z&&Q.parent&&Q.parent===Z){if(typeof Y.raws.before<"u"){let K=Y.raws.before.split(`
`);return J=K[K.length-1],J=J.replace(/\S/g,""),!1}}}),J}rawSemicolon(Z){let J;return Z.walk((Y)=>{if(Y.nodes&&Y.nodes.length&&Y.last.type==="decl"){if(J=Y.raws.semicolon,typeof J<"u")return!1}}),J}rawValue(Z,J){let Y=Z[J],Q=Z.raws[J];if(Q&&Q.value===Y)return Q.raw;return Y}root(Z){if(this.body(Z),Z.raws.after)this.builder(Z.raws.after)}rule(Z){if(this.block(Z,this.rawValue(Z,"selector")),Z.raws.ownSemicolon)this.builder(Z.raws.ownSemicolon,Z,"end")}stringify(Z,J){if(!this[Z.type])throw Error("Unknown AST node type "+Z.type+". Maybe you need to change PostCSS stringifier.");this[Z.type](Z,J)}},nY,_K,vZ,ZZ,wK,NK,RK,EK,p0=class{constructor(Z={}){this.raws={},this[ZZ]=!1,this[wK]=!0;for(let J in Z)if(J==="nodes"){this.nodes=[];for(let Y of Z[J])if(typeof Y.clone==="function")this.append(Y.clone());else this.append(Y)}else this[J]=Z[J]}addToError(Z){if(Z.postcssNode=this,Z.stack&&this.source&&/\n\s{4}at /.test(Z.stack)){let J=this.source;Z.stack=Z.stack.replace(/\n\s{4}at /,`$&${J.input.from}:${J.start.line}:${J.start.column}$&`)}return Z}after(Z){return this.parent.insertAfter(this,Z),this}assign(Z={}){for(let J in Z)this[J]=Z[J];return this}before(Z){return this.parent.insertBefore(this,Z),this}cleanRaws(Z){if(delete this.raws.before,delete this.raws.after,!Z)delete this.raws.between}clone(Z={}){let J=u0(this);for(let Y in Z)J[Y]=Z[Y];return J}cloneAfter(Z={}){let J=this.clone(Z);return this.parent.insertAfter(this,J),J}cloneBefore(Z={}){let J=this.clone(Z);return this.parent.insertBefore(this,J),J}error(Z,J={}){if(this.source){let{end:Y,start:Q}=this.rangeBy(J);return this.source.input.error(Z,{column:Q.column,line:Q.line},{column:Y.column,line:Y.line},J)}return new NK(Z)}getProxyProcessor(){return{get(Z,J){if(J==="proxyOf")return Z;else if(J==="root")return()=>Z.root().toProxy();else return Z[J]},set(Z,J,Y){if(Z[J]===Y)return!0;if(Z[J]=Y,J==="prop"||J==="value"||J==="name"||J==="params"||J==="important"||J==="text")Z.markDirty();return!0}}}markDirty(){if(this[ZZ]){this[ZZ]=!1;let Z=this;while(Z=Z.parent)Z[ZZ]=!1}}next(){if(!this.parent)return;let Z=this.parent.index(this);return this.parent.nodes[Z+1]}positionBy(Z,J){let Y=this.source.start;if(Z.index)Y=this.positionInside(Z.index,J);else if(Z.word){J=this.toString();let Q=J.indexOf(Z.word);if(Q!==-1)Y=this.positionInside(Q,J)}return Y}positionInside(Z,J){let Y=J||this.toString(),Q=this.source.start.column,K=this.source.start.line;for(let G=0;G<Z;G++)if(Y[G]===`
`)Q=1,K+=1;else Q+=1;return{column:Q,line:K}}prev(){if(!this.parent)return;let Z=this.parent.index(this);return this.parent.nodes[Z-1]}rangeBy(Z){let J={column:this.source.start.column,line:this.source.start.line},Y=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:J.column+1,line:J.line};if(Z.word){let Q=this.toString(),K=Q.indexOf(Z.word);if(K!==-1)J=this.positionInside(K,Q),Y=this.positionInside(K+Z.word.length,Q)}else{if(Z.start)J={column:Z.start.column,line:Z.start.line};else if(Z.index)J=this.positionInside(Z.index);if(Z.end)Y={column:Z.end.column,line:Z.end.line};else if(typeof Z.endIndex==="number")Y=this.positionInside(Z.endIndex);else if(Z.index)Y=this.positionInside(Z.index+1)}if(Y.line<J.line||Y.line===J.line&&Y.column<=J.column)Y={column:J.column+1,line:J.line};return{end:Y,start:J}}raw(Z,J){return new RK().raw(this,Z,J)}remove(){if(this.parent)this.parent.removeChild(this);return this.parent=void 0,this}replaceWith(...Z){if(this.parent){let J=this,Y=!1;for(let Q of Z)if(Q===this)Y=!0;else if(Y)this.parent.insertAfter(J,Q),J=Q;else this.parent.insertBefore(J,Q);if(!Y)this.remove()}return this}root(){let Z=this;while(Z.parent&&Z.parent.type!=="document")Z=Z.parent;return Z}toJSON(Z,J){let Y={},Q=J==null;J=J||new Map;let K=0;for(let G in this){if(!Object.prototype.hasOwnProperty.call(this,G))continue;if(G==="parent"||G==="proxyCache")continue;let V=this[G];if(Array.isArray(V))Y[G]=V.map((H)=>{if(typeof H==="object"&&H.toJSON)return H.toJSON(null,J);else return H});else if(typeof V==="object"&&V.toJSON)Y[G]=V.toJSON(null,J);else if(G==="source"){let H=J.get(V.input);if(H==null)H=K,J.set(V.input,K),K++;Y[G]={end:V.end,inputId:H,start:V.start}}else Y[G]=V}if(Q)Y.inputs=[...J.keys()].map((G)=>G.toJSON());return Y}toProxy(){if(!this.proxyCache)this.proxyCache=new Proxy(this,this.getProxyProcessor());return this.proxyCache}toString(Z=EK){if(Z.stringify)Z=Z.stringify;let J="";return Z(this,(Y)=>{J+=Y}),J}warn(Z,J,Y){let Q={node:this};for(let K in Y)Q[K]=Y[K];return Z.warn(J,Q)}get proxyOf(){return this}},kZ,CK,c0,hZ,TK="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",$K=(X,Z=21)=>{return(J=Z)=>{let Y="",Q=J;while(Q--)Y+=X[Math.random()*X.length|0];return Y}},xK=(X=21)=>{let Z="",J=X;while(J--)Z+=TK[Math.random()*64|0];return Z},SK,bJ,yJ,IK,fK,j0,bK,l0=class{constructor(Z,J){if(J.map===!1)return;this.loadAnnotation(Z),this.inline=this.startWith(this.annotation,"data:");let Y=J.map?J.map.prev:void 0,Q=this.loadMap(J.from,Y);if(!this.mapFile&&J.from)this.mapFile=J.from;if(this.mapFile)this.root=j0(this.mapFile);if(Q)this.text=Q}consumer(){if(!this.consumerCache)this.consumerCache=new bJ(this.text);return this.consumerCache}decodeInline(Z){let J=/^data:application\/json;charset=utf-?8;base64,/,Y=/^data:application\/json;base64,/,Q=/^data:application\/json;charset=utf-?8,/,K=/^data:application\/json,/;if(Q.test(Z)||K.test(Z))return decodeURIComponent(Z.substr(RegExp.lastMatch.length));if(J.test(Z)||Y.test(Z))return yK(Z.substr(RegExp.lastMatch.length));let G=Z.match(/data:application\/json;([^,]+),/)[1];throw Error("Unsupported source map encoding "+G)}getAnnotationURL(Z){return Z.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(Z){if(typeof Z!=="object")return!1;return typeof Z.mappings==="string"||typeof Z._mappings==="string"||Array.isArray(Z.sections)}loadAnnotation(Z){let J=Z.match(/\/\*\s*# sourceMappingURL=/gm);if(!J)return;let Y=Z.lastIndexOf(J.pop()),Q=Z.indexOf("*/",Y);if(Y>-1&&Q>-1)this.annotation=this.getAnnotationURL(Z.substring(Y,Q))}loadFile(Z){if(this.root=j0(Z),IK(Z))return this.mapFile=Z,fK(Z,"utf-8").toString().trim()}loadMap(Z,J){if(J===!1)return!1;if(J)if(typeof J==="string")return J;else if(typeof J==="function"){let Y=J(Z);if(Y){let Q=this.loadFile(Y);if(!Q)throw Error("Unable to load previous source map: "+Y.toString());return Q}}else if(J instanceof bJ)return yJ.fromSourceMap(J).toString();else if(J instanceof yJ)return J.toString();else if(this.isMap(J))return JSON.stringify(J);else throw Error("Unsupported previous source map format: "+J.toString());else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){let Y=this.annotation;if(Z)Y=bK(j0(Z),Y);return this.loadFile(Y)}}startWith(Z,J){if(!Z)return!1;return Z.substr(0,J.length)===J}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}},oY,vK,kK,vJ,XZ,d0,i0,hK,F0,kJ,gK,D0,mK,hJ,NZ=class{constructor(Z,J={}){if(Z===null||typeof Z>"u"||typeof Z==="object"&&!Z.toString)throw Error(`PostCSS received ${Z} instead of CSS string`);if(this.css=Z.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾")this.hasBOM=!0,this.css=this.css.slice(1);else this.hasBOM=!1;if(J.from)if(!hJ||/^\w+:\/\//.test(J.from)||d0(J.from))this.file=J.from;else this.file=i0(J.from);if(hJ&&mK){let Y=new gK(this.css,J);if(Y.text){this.map=Y;let Q=Y.consumer().file;if(!this.file&&Q)this.file=this.mapResolve(Q)}}if(!this.file)this.id="<input css "+hK(6)+">";if(this.map)this.map.file=this.from}error(Z,J,Y,Q={}){let K,G,V;if(J&&typeof J==="object"){let q=J,B=Y;if(typeof q.offset==="number"){let W=this.fromOffset(q.offset);J=W.line,Y=W.col}else J=q.line,Y=q.column;if(typeof B.offset==="number"){let W=this.fromOffset(B.offset);G=W.line,V=W.col}else G=B.line,V=B.column}else if(!Y){let q=this.fromOffset(J);J=q.line,Y=q.col}let H=this.origin(J,Y,G,V);if(H)K=new kJ(Z,H.endLine===void 0?H.line:{column:H.column,line:H.line},H.endLine===void 0?H.column:{column:H.endColumn,line:H.endLine},H.source,H.file,Q.plugin);else K=new kJ(Z,G===void 0?J:{column:Y,line:J},G===void 0?Y:{column:V,line:G},this.css,this.file,Q.plugin);if(K.input={column:Y,endColumn:V,endLine:G,line:J,source:this.css},this.file){if(XZ)K.input.url=XZ(this.file).toString();K.input.file=this.file}return K}fromOffset(Z){let J,Y;if(!this[D0]){let K=this.css.split(`
`);Y=Array(K.length);let G=0;for(let V=0,H=K.length;V<H;V++)Y[V]=G,G+=K[V].length+1;this[D0]=Y}else Y=this[D0];J=Y[Y.length-1];let Q=0;if(Z>=J)Q=Y.length-1;else{let K=Y.length-2,G;while(Q<K)if(G=Q+(K-Q>>1),Z<Y[G])K=G-1;else if(Z>=Y[G+1])Q=G+1;else{Q=G;break}}return{col:Z-Y[Q]+1,line:Q+1}}mapResolve(Z){if(/^\w+:\/\//.test(Z))return Z;return i0(this.map.consumer().sourceRoot||this.map.root||".",Z)}origin(Z,J,Y,Q){if(!this.map)return!1;let K=this.map.consumer(),G=K.originalPositionFor({column:J,line:Z});if(!G.source)return!1;let V;if(typeof Y==="number")V=K.originalPositionFor({column:Q,line:Y});let H;if(d0(G.source))H=XZ(G.source);else H=new URL(G.source,this.map.consumer().sourceRoot||XZ(this.map.mapFile));let q={column:G.column,endColumn:V&&V.column,endLine:V&&V.line,line:G.line,url:H.toString()};if(H.protocol==="file:")if(vJ)q.file=vJ(H);else throw Error("file: protocol is not available in this PostCSS build");let B=K.sourceContentFor(G.source);if(B)q.source=B;return q}toJSON(){let Z={};for(let J of["hasBOM","css","file","id"])if(this[J]!=null)Z[J]=this[J];if(this.map){if(Z.map={...this.map},Z.map.consumerCache)Z.map.consumerCache=void 0}return Z}get from(){return this.file||this.id}},gZ,tY,jZ,FZ,eY,Z6,X6,gJ,uK,pK,cK,lK=class{constructor(Z,J,Y,Q){this.stringify=Z,this.mapOpts=Y.map||{},this.root=J,this.opts=Y,this.css=Q,this.originalCSS=Q,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let Z;if(this.isInline())Z="data:application/json;base64,"+this.toBase64(this.map.toString());else if(typeof this.mapOpts.annotation==="string")Z=this.mapOpts.annotation;else if(typeof this.mapOpts.annotation==="function")Z=this.mapOpts.annotation(this.opts.to,this.root);else Z=this.outputFile()+".map";let J=`
`;if(this.css.includes(`\r
`))J=`\r
`;this.css+=J+"/*# sourceMappingURL="+Z+" */"}applyPrevMaps(){for(let Z of this.previous()){let J=this.toUrl(this.path(Z.file)),Y=Z.root||FZ(Z.file),Q;if(this.mapOpts.sourcesContent===!1){if(Q=new tY(Z.text),Q.sourcesContent)Q.sourcesContent=null}else Q=Z.consumer();this.map.applySourceMap(Q,J,this.toUrl(this.path(Y)))}}clearAnnotation(){if(this.mapOpts.annotation===!1)return;if(this.root){let Z;for(let J=this.root.nodes.length-1;J>=0;J--){if(Z=this.root.nodes[J],Z.type!=="comment")continue;if(Z.text.indexOf("# sourceMappingURL=")===0)this.root.removeChild(J)}}else if(this.css)this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,"")}generate(){if(this.clearAnnotation(),cK&&pK&&this.isMap())return this.generateMap();else{let Z="";return this.stringify(this.root,(J)=>{Z+=J}),[Z]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let Z=this.previous()[0].consumer();Z.file=this.outputFile(),this.map=jZ.fromSourceMap(Z,{ignoreInvalidMapping:!0})}else this.map=new jZ({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});if(this.isSourcesContent())this.setSourcesContent();if(this.root&&this.previous().length>0)this.applyPrevMaps();if(this.isAnnotation())this.addAnnotation();if(this.isInline())return[this.css];else return[this.css,this.map]}generateString(){this.css="",this.map=new jZ({file:this.outputFile(),ignoreInvalidMapping:!0});let Z=1,J=1,Y="<no source>",Q={generated:{column:0,line:0},original:{column:0,line:0},source:""},K,G;this.stringify(this.root,(V,H,q)=>{if(this.css+=V,H&&q!=="end")if(Q.generated.line=Z,Q.generated.column=J-1,H.source&&H.source.start)Q.source=this.sourcePath(H),Q.original.line=H.source.start.line,Q.original.column=H.source.start.column-1,this.map.addMapping(Q);else Q.source=Y,Q.original.line=1,Q.original.column=0,this.map.addMapping(Q);if(K=V.match(/\n/g),K)Z+=K.length,G=V.lastIndexOf(`
`),J=V.length-G;else J+=V.length;if(H&&q!=="start"){let B=H.parent||{raws:{}};if(!(H.type==="decl"||H.type==="atrule"&&!H.nodes)||H!==B.last||B.raws.semicolon)if(H.source&&H.source.end)Q.source=this.sourcePath(H),Q.original.line=H.source.end.line,Q.original.column=H.source.end.column-1,Q.generated.line=Z,Q.generated.column=J-2,this.map.addMapping(Q);else Q.source=Y,Q.original.line=1,Q.original.column=0,Q.generated.line=Z,Q.generated.column=J-1,this.map.addMapping(Q)}})}isAnnotation(){if(this.isInline())return!0;if(typeof this.mapOpts.annotation<"u")return this.mapOpts.annotation;if(this.previous().length)return this.previous().some((Z)=>Z.annotation);return!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let Z=this.mapOpts.annotation;if(typeof Z<"u"&&Z!==!0)return!1;if(this.previous().length)return this.previous().some((J)=>J.inline);return!0}isMap(){if(typeof this.opts.map<"u")return!!this.opts.map;return this.previous().length>0}isSourcesContent(){if(typeof this.mapOpts.sourcesContent<"u")return this.mapOpts.sourcesContent;if(this.previous().length)return this.previous().some((Z)=>Z.withContent());return!0}outputFile(){if(this.opts.to)return this.path(this.opts.to);else if(this.opts.from)return this.path(this.opts.from);else return"to.css"}path(Z){if(this.mapOpts.absolute)return Z;if(Z.charCodeAt(0)===60)return Z;if(/^\w+:\/\//.test(Z))return Z;let J=this.memoizedPaths.get(Z);if(J)return J;let Y=this.opts.to?FZ(this.opts.to):".";if(typeof this.mapOpts.annotation==="string")Y=FZ(Z6(Y,this.mapOpts.annotation));let Q=eY(Y,Z);return this.memoizedPaths.set(Z,Q),Q}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((Z)=>{if(Z.source&&Z.source.input.map){let J=Z.source.input.map;if(!this.previousMaps.includes(J))this.previousMaps.push(J)}});else{let Z=new uK(this.originalCSS,this.opts);if(Z.map)this.previousMaps.push(Z.map)}return this.previousMaps}setSourcesContent(){let Z={};if(this.root)this.root.walk((J)=>{if(J.source){let Y=J.source.input.from;if(Y&&!Z[Y]){Z[Y]=!0;let Q=this.usesFileUrls?this.toFileUrl(Y):this.toUrl(this.path(Y));this.map.setSourceContent(Q,J.source.input.css)}}});else if(this.css){let J=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(J,this.css)}}sourcePath(Z){if(this.mapOpts.from)return this.toUrl(this.mapOpts.from);else if(this.usesFileUrls)return this.toFileUrl(Z.source.input.from);else return this.toUrl(this.path(Z.source.input.from))}toBase64(Z){if(Buffer)return Buffer.from(Z).toString("base64");else return window.btoa(unescape(encodeURIComponent(Z)))}toFileUrl(Z){let J=this.memoizedFileURLs.get(Z);if(J)return J;if(gJ){let Y=gJ(Z).toString();return this.memoizedFileURLs.set(Z,Y),Y}else throw Error("`map.absolute` option is not available in this PostCSS build")}toUrl(Z){let J=this.memoizedURLs.get(Z);if(J)return J;if(X6==="\\")Z=Z.replace(/\\/g,"/");let Y=encodeURI(Z).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(Z,Y),Y}},J6,dK,a0,mZ,Y6,Q6,K6,G6,iK,V6,OX,MX,H6,L9,x9,aK,W6,U6,_1,_X,mJ,z6=function(Z){if(mJ[Z])return;if(mJ[Z]=!0,typeof console<"u"&&console.warn)console.warn(Z)},r0=class{constructor(Z,J={}){if(this.type="warning",this.text=Z,J.node&&J.node.source){let Y=J.node.rangeBy(J);this.line=Y.start.line,this.column=Y.start.column,this.endLine=Y.end.line,this.endColumn=Y.end.column}for(let Y in J)this[Y]=J[Y]}toString(){if(this.node)return this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message;if(this.plugin)return this.plugin+": "+this.text;return this.text}},j6,rK,s0=class{constructor(Z,J,Y){this.processor=Z,this.messages=[],this.root=J,this.opts=Y,this.css=void 0,this.map=void 0}toString(){return this.css}warn(Z,J={}){if(!J.plugin){if(this.lastPlugin&&this.lastPlugin.postcssPlugin)J.plugin=this.lastPlugin.postcssPlugin}let Y=new rK(Z,J);return this.messages.push(Y),Y}warnings(){return this.messages.filter((Z)=>Z.type==="warning")}get content(){return this.css}},wX,P0=39,uJ=34,JZ=92,pJ=47,YZ=10,U1=32,QZ=12,KZ=9,GZ=13,sK=91,nK=93,oK=40,tK=41,eK=123,ZG=125,XG=59,JG=42,YG=58,QG=64,VZ,HZ,KG,cJ,GG=function(Z,J={}){let Y=Z.css.valueOf(),Q=J.ignoreErrors,K,G,V,H,q,B,W,U,z,F,D=Y.length,j=0,O=[],A=[];function P(){return j}function M(k){throw Z.error("Unclosed "+k,j)}function T(){return A.length===0&&j>=D}function I(k){if(A.length)return A.pop();if(j>=D)return;let l=k?k.ignoreUnclosed:!1;switch(K=Y.charCodeAt(j),K){case YZ:case U1:case KZ:case GZ:case QZ:{G=j;do G+=1,K=Y.charCodeAt(G);while(K===U1||K===YZ||K===KZ||K===GZ||K===QZ);F=["space",Y.slice(j,G)],j=G-1;break}case sK:case nK:case eK:case ZG:case YG:case XG:case tK:{let s=String.fromCharCode(K);F=[s,s,j];break}case oK:{if(U=O.length?O.pop()[1]:"",z=Y.charCodeAt(j+1),U==="url"&&z!==P0&&z!==uJ&&z!==U1&&z!==YZ&&z!==KZ&&z!==QZ&&z!==GZ){G=j;do{if(B=!1,G=Y.indexOf(")",G+1),G===-1)if(Q||l){G=j;break}else M("bracket");W=G;while(Y.charCodeAt(W-1)===JZ)W-=1,B=!B}while(B);F=["brackets",Y.slice(j,G+1),j,G],j=G}else if(G=Y.indexOf(")",j+1),H=Y.slice(j,G+1),G===-1||KG.test(H))F=["(","(",j];else F=["brackets",H,j,G],j=G;break}case P0:case uJ:{V=K===P0?"'":'"',G=j;do{if(B=!1,G=Y.indexOf(V,G+1),G===-1)if(Q||l){G=j+1;break}else M("string");W=G;while(Y.charCodeAt(W-1)===JZ)W-=1,B=!B}while(B);F=["string",Y.slice(j,G+1),j,G],j=G;break}case QG:{if(VZ.lastIndex=j+1,VZ.test(Y),VZ.lastIndex===0)G=Y.length-1;else G=VZ.lastIndex-2;F=["at-word",Y.slice(j,G+1),j,G],j=G;break}case JZ:{G=j,q=!0;while(Y.charCodeAt(G+1)===JZ)G+=1,q=!q;if(K=Y.charCodeAt(G+1),q&&K!==pJ&&K!==U1&&K!==YZ&&K!==KZ&&K!==GZ&&K!==QZ){if(G+=1,cJ.test(Y.charAt(G))){while(cJ.test(Y.charAt(G+1)))G+=1;if(Y.charCodeAt(G+1)===U1)G+=1}}F=["word",Y.slice(j,G+1),j,G],j=G;break}default:{if(K===pJ&&Y.charCodeAt(j+1)===JG){if(G=Y.indexOf("*/",j+2)+1,G===0)if(Q||l)G=Y.length;else M("comment");F=["comment",Y.slice(j,G+1),j,G],j=G}else{if(HZ.lastIndex=j+1,HZ.test(Y),HZ.lastIndex===0)G=Y.length-1;else G=HZ.lastIndex-2;F=["word",Y.slice(j,G+1),j,G],O.push(F),j=G}break}}return j++,F}function i(k){A.push(k)}return{back:i,endOfFile:T,nextToken:I,position:P}},F6,RZ,NX,D6,P6,L6,d9,x1,w1,A6,O6,VG,EZ,RX,HG,qG,BG,WG,UG,lJ,dJ,jG=class{constructor(Z){this.input=Z,this.root=new UG,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:Z,start:{column:1,line:1,offset:0}}}atrule(Z){let J=new WG;if(J.name=Z[1].slice(1),J.name==="")this.unnamedAtrule(J,Z);this.init(J,Z[2]);let Y,Q,K,G=!1,V=!1,H=[],q=[];while(!this.tokenizer.endOfFile()){if(Z=this.tokenizer.nextToken(),Y=Z[0],Y==="("||Y==="[")q.push(Y==="("?")":"]");else if(Y==="{"&&q.length>0)q.push("}");else if(Y===q[q.length-1])q.pop();if(q.length===0)if(Y===";"){J.source.end=this.getPosition(Z[2]),J.source.end.offset++,this.semicolon=!0;break}else if(Y==="{"){V=!0;break}else if(Y==="}"){if(H.length>0){K=H.length-1,Q=H[K];while(Q&&Q[0]==="space")Q=H[--K];if(Q)J.source.end=this.getPosition(Q[3]||Q[2]),J.source.end.offset++}this.end(Z);break}else H.push(Z);else H.push(Z);if(this.tokenizer.endOfFile()){G=!0;break}}if(J.raws.between=this.spacesAndCommentsFromEnd(H),H.length){if(J.raws.afterName=this.spacesAndCommentsFromStart(H),this.raw(J,"params",H),G)Z=H[H.length-1],J.source.end=this.getPosition(Z[3]||Z[2]),J.source.end.offset++,this.spaces=J.raws.between,J.raws.between=""}else J.raws.afterName="",J.params="";if(V)J.nodes=[],this.current=J}checkMissedSemicolon(Z){let J=this.colon(Z);if(J===!1)return;let Y=0,Q;for(let K=J-1;K>=0;K--)if(Q=Z[K],Q[0]!=="space"){if(Y+=1,Y===2)break}throw this.input.error("Missed semicolon",Q[0]==="word"?Q[3]+1:Q[2])}colon(Z){let J=0,Y,Q,K;for(let[G,V]of Z.entries()){if(Y=V,Q=Y[0],Q==="(")J+=1;if(Q===")")J-=1;if(J===0&&Q===":")if(!K)this.doubleColon(Y);else if(K[0]==="word"&&K[1]==="progid")continue;else return G;K=Y}return!1}comment(Z){let J=new BG;this.init(J,Z[2]),J.source.end=this.getPosition(Z[3]||Z[2]),J.source.end.offset++;let Y=Z[1].slice(2,-2);if(/^\s*$/.test(Y))J.text="",J.raws.left=Y,J.raws.right="";else{let Q=Y.match(/^(\s*)([^]*\S)(\s*)$/);J.text=Q[2],J.raws.left=Q[1],J.raws.right=Q[3]}}createTokenizer(){this.tokenizer=qG(this.input)}decl(Z,J){let Y=new HG;this.init(Y,Z[0][2]);let Q=Z[Z.length-1];if(Q[0]===";")this.semicolon=!0,Z.pop();Y.source.end=this.getPosition(Q[3]||Q[2]||zG(Z)),Y.source.end.offset++;while(Z[0][0]!=="word"){if(Z.length===1)this.unknownWord(Z);Y.raws.before+=Z.shift()[1]}Y.source.start=this.getPosition(Z[0][2]),Y.prop="";while(Z.length){let q=Z[0][0];if(q===":"||q==="space"||q==="comment")break;Y.prop+=Z.shift()[1]}Y.raws.between="";let K;while(Z.length)if(K=Z.shift(),K[0]===":"){Y.raws.between+=K[1];break}else{if(K[0]==="word"&&/\w/.test(K[1]))this.unknownWord([K]);Y.raws.between+=K[1]}if(Y.prop[0]==="_"||Y.prop[0]==="*")Y.raws.before+=Y.prop[0],Y.prop=Y.prop.slice(1);let G=[],V;while(Z.length){if(V=Z[0][0],V!=="space"&&V!=="comment")break;G.push(Z.shift())}this.precheckMissedSemicolon(Z);for(let q=Z.length-1;q>=0;q--){if(K=Z[q],K[1].toLowerCase()==="!important"){Y.important=!0;let B=this.stringFrom(Z,q);if(B=this.spacesFromEnd(Z)+B,B!==" !important")Y.raws.important=B;break}else if(K[1].toLowerCase()==="important"){let B=Z.slice(0),W="";for(let U=q;U>0;U--){let z=B[U][0];if(W.trim().indexOf("!")===0&&z!=="space")break;W=B.pop()[1]+W}if(W.trim().indexOf("!")===0)Y.important=!0,Y.raws.important=W,Z=B}if(K[0]!=="space"&&K[0]!=="comment")break}if(Z.some((q)=>q[0]!=="space"&&q[0]!=="comment"))Y.raws.between+=G.map((q)=>q[1]).join(""),G=[];if(this.raw(Y,"value",G.concat(Z),J),Y.value.includes(":")&&!J)this.checkMissedSemicolon(Z)}doubleColon(Z){throw this.input.error("Double colon",{offset:Z[2]},{offset:Z[2]+Z[1].length})}emptyRule(Z){let J=new lJ;this.init(J,Z[2]),J.selector="",J.raws.between="",this.current=J}end(Z){if(this.current.nodes&&this.current.nodes.length)this.current.raws.semicolon=this.semicolon;if(this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent)this.current.source.end=this.getPosition(Z[2]),this.current.source.end.offset++,this.current=this.current.parent;else this.unexpectedClose(Z)}endFile(){if(this.current.parent)this.unclosedBlock();if(this.current.nodes&&this.current.nodes.length)this.current.raws.semicolon=this.semicolon;this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(Z){if(this.spaces+=Z[1],this.current.nodes){let J=this.current.nodes[this.current.nodes.length-1];if(J&&J.type==="rule"&&!J.raws.ownSemicolon)J.raws.ownSemicolon=this.spaces,this.spaces=""}}getPosition(Z){let J=this.input.fromOffset(Z);return{column:J.col,line:J.line,offset:Z}}init(Z,J){if(this.current.push(Z),Z.source={input:this.input,start:this.getPosition(J)},Z.raws.before=this.spaces,this.spaces="",Z.type!=="comment")this.semicolon=!1}other(Z){let J=!1,Y=null,Q=!1,K=null,G=[],V=Z[1].startsWith("--"),H=[],q=Z;while(q){if(Y=q[0],H.push(q),Y==="("||Y==="["){if(!K)K=q;G.push(Y==="("?")":"]")}else if(V&&Q&&Y==="{"){if(!K)K=q;G.push("}")}else if(G.length===0){if(Y===";")if(Q){this.decl(H,V);return}else break;else if(Y==="{"){this.rule(H);return}else if(Y==="}"){this.tokenizer.back(H.pop()),J=!0;break}else if(Y===":")Q=!0}else if(Y===G[G.length-1]){if(G.pop(),G.length===0)K=null}q=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile())J=!0;if(G.length>0)this.unclosedBracket(K);if(J&&Q){if(!V)while(H.length){if(q=H[H.length-1][0],q!=="space"&&q!=="comment")break;this.tokenizer.back(H.pop())}this.decl(H,V)}else this.unknownWord(H)}parse(){let Z;while(!this.tokenizer.endOfFile())switch(Z=this.tokenizer.nextToken(),Z[0]){case"space":this.spaces+=Z[1];break;case";":this.freeSemicolon(Z);break;case"}":this.end(Z);break;case"comment":this.comment(Z);break;case"at-word":this.atrule(Z);break;case"{":this.emptyRule(Z);break;default:this.other(Z);break}this.endFile()}precheckMissedSemicolon(){}raw(Z,J,Y,Q){let K,G,V=Y.length,H="",q=!0,B,W;for(let U=0;U<V;U+=1)if(K=Y[U],G=K[0],G==="space"&&U===V-1&&!Q)q=!1;else if(G==="comment")if(W=Y[U-1]?Y[U-1][0]:"empty",B=Y[U+1]?Y[U+1][0]:"empty",!dJ[W]&&!dJ[B])if(H.slice(-1)===",")q=!1;else H+=K[1];else q=!1;else H+=K[1];if(!q){let U=Y.reduce((z,F)=>z+F[1],"");Z.raws[J]={raw:U,value:H}}Z[J]=H}rule(Z){Z.pop();let J=new lJ;this.init(J,Z[0][2]),J.raws.between=this.spacesAndCommentsFromEnd(Z),this.raw(J,"selector",Z),this.current=J}spacesAndCommentsFromEnd(Z){let J,Y="";while(Z.length){if(J=Z[Z.length-1][0],J!=="space"&&J!=="comment")break;Y=Z.pop()[1]+Y}return Y}spacesAndCommentsFromStart(Z){let J,Y="";while(Z.length){if(J=Z[0][0],J!=="space"&&J!=="comment")break;Y+=Z.shift()[1]}return Y}spacesFromEnd(Z){let J,Y="";while(Z.length){if(J=Z[Z.length-1][0],J!=="space")break;Y=Z.pop()[1]+Y}return Y}stringFrom(Z,J){let Y="";for(let Q=J;Q<Z.length;Q++)Y+=Z[Q][1];return Z.splice(J,Z.length-J),Y}unclosedBlock(){let Z=this.current.source.start;throw this.input.error("Unclosed block",Z.line,Z.column)}unclosedBracket(Z){throw this.input.error("Unclosed bracket",{offset:Z[2]},{offset:Z[2]+1})}unexpectedClose(Z){throw this.input.error("Unexpected }",{offset:Z[2]},{offset:Z[2]+1})}unknownWord(Z){throw this.input.error("Unknown word",{offset:Z[0][2]},{offset:Z[0][2]+Z[0][1].length})}unnamedAtrule(Z,J){throw this.input.error("At-rule without name",{offset:J[2]},{offset:J[2]+J[1].length})}},FG,DG,PG,LG,EX,F9,AG,OG,MG,_G,wG,NG,iJ,RG,EG,CG,TG,$G,i9=0,o0,a9,_6,xG,SG,IG,fG,bG,t0,yG,vG,kG,hG,gG,N1=class{constructor(Z=[]){this.version="8.4.38",this.plugins=this.normalize(Z)}normalize(Z){let J=[];for(let Y of Z){if(Y.postcss===!0)Y=Y();else if(Y.postcss)Y=Y.postcss;if(typeof Y==="object"&&Array.isArray(Y.plugins))J=J.concat(Y.plugins);else if(typeof Y==="object"&&Y.postcssPlugin)J.push(Y);else if(typeof Y==="function")J.push(Y);else if(typeof Y==="object"&&(Y.parse||Y.stringify))throw Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.");else throw Error(Y+" is not a PostCSS plugin")}return J}process(Z,J={}){if(!this.plugins.length&&!J.parser&&!J.stringifier&&!J.syntax)return new vG(this,Z,J);else return new kG(this,Z,J)}use(Z){return this.plugins=this.plugins.concat(this.normalize([Z])),this}},mG,uG,pG,cG,lG,dG,iG,aG,rG,sG,w6,nG,oG,CX,tG,eG,N6,Z5,R6,E6,X5,J5,Y5,Q5,C6,T6,K5,G5,g,rJ,sJ,qZ,V5=()=>{return!!globalThis.Zone},L0,A0,w,v9=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,nJ,TZ,E,N,J9,D9,r9,k9,u6,tJ=(X,Z)=>`${X}@${Z}`,D1,R=(X)=>{if(!D1)return X;return(...J)=>{try{return X(...J)}catch(Y){if(D1&&D1(Y)===!0)return;throw Y}}},C9,x5,XY,u9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m5,h9,u5=function(X){var Z=new Uint8Array(X),J,Y=Z.length,Q="";for(J=0;J<Y;J+=3)Q+=u9[Z[J]>>2],Q+=u9[(Z[J]&3)<<4|Z[J+1]>>4],Q+=u9[(Z[J+1]&15)<<2|Z[J+2]>>6],Q+=u9[Z[J+2]&63];if(Y%3===2)Q=Q.substring(0,Q.length-1)+"=";else if(Y%3===1)Q=Q.substring(0,Q.length-2)+"==";return Q},JY,n6=(X,Z,J)=>{if(!X||!(t6(X,Z)||typeof X==="object"))return;let Y=X.constructor.name,Q=p5(J,Y),K=Q.indexOf(X);if(K===-1)K=Q.length,Q.push(X);return K},o6=(X,Z,J)=>{return X.map((Y)=>DZ(Y,Z,J))},t6=(X,Z)=>{let Y=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((Q)=>typeof Z[Q]==="function");return Boolean(Y.find((Q)=>X instanceof Z[Q]))},e6="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",i5=(X)=>Uint8Array.from(atob(X),(Z)=>Z.charCodeAt(0)),KY,c,PZ,M0,xZ=!1,H9,GY;var Q8=D8(()=>{x8=Object.defineProperty,I8=Object.defineProperty,r=((X)=>{return X[X.Document=0]="Document",X[X.DocumentType=1]="DocumentType",X[X.Element=2]="Element",X[X.Text=3]="Text",X[X.CDATA=4]="CDATA",X[X.Comment=5]="Comment",X})(r||{}),qJ={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},BJ={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},l1={};V0={};H0={};o={childNodes:y8,parentNode:v8,parentElement:k8,textContent:h8,contains:g8,getRootNode:m8,host:u8,styleSheets:p8,shadowRoot:c8,querySelector:l8,querySelectorAll:d8,mutationObserver:i8};X7=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,J7=/^(?:[a-z+]+:)?\/\//i,Y7=/^www\..*/i,Q7=/^(data:)([^,]*),(.*)/i;H7=new RegExp("[^a-z0-9-_:]");B7=/^[^ \t\n\r\u000c]+/,W7=/^[, \t\n\r\u000c]+/;zJ=new WeakMap;HX={exports:{}},y=String;HX.exports=FY();HX.exports.createColors=FY;R7=HX.exports,E7={},C7=Object.freeze(Object.defineProperty({__proto__:null,default:E7},Symbol.toStringTag,{value:"Module"})),q9=N7(C7),jJ=R7,FJ=q9,w0=class X extends Error{constructor(Z,J,Y,Q,K,G){super(Z);if(this.name="CssSyntaxError",this.reason=Z,K)this.file=K;if(Q)this.source=Q;if(G)this.plugin=G;if(typeof J<"u"&&typeof Y<"u")if(typeof J==="number")this.line=J,this.column=Y;else this.line=J.line,this.column=J.column,this.endLine=Y.line,this.endColumn=Y.column;if(this.setMessage(),Error.captureStackTrace)Error.captureStackTrace(this,X)}setMessage(){if(this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u")this.message+=":"+this.line+":"+this.column;this.message+=": "+this.reason}showSourceCode(Z){if(!this.source)return"";let J=this.source;if(Z==null)Z=jJ.isColorSupported;if(FJ){if(Z)J=FJ(J)}let Y=J.split(/\r?\n/),Q=Math.max(this.line-3,0),K=Math.min(this.line+2,Y.length),G=String(K).length,V,H;if(Z){let{bold:q,gray:B,red:W}=jJ.createColors(!0);V=(U)=>q(W(U)),H=(U)=>B(U)}else V=H=(q)=>q;return Y.slice(Q,K).map((q,B)=>{let W=Q+1+B,U=" "+(" "+W).slice(-G)+" | ";if(W===this.line){let z=H(U.replace(/\d/g," "))+q.slice(0,this.column-1).replace(/[^\t]/g," ");return V(">")+H(U)+q+`
 `+z+V("^")}return" "+H(U)+q}).join(`
`)}toString(){let Z=this.showSourceCode();if(Z)Z=`

`+Z+`
`;return this.name+": "+this.message+Z}},qX=w0;w0.default=w0;C1={};C1.isClean=Symbol("isClean");C1.my=Symbol("my");DJ={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};DY=N0;N0.default=N0;$7=DY;SZ=R0;R0.default=R0;({isClean:d1,my:x7}=C1),S7=qX,I7=DY,f7=SZ;IZ=C0;C0.default=C0;b7=IZ,T0=class extends b7{constructor(Z){if(Z&&typeof Z.value<"u"&&typeof Z.value!=="string")Z={...Z,value:String(Z.value)};super(Z);this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}},fZ=T0;T0.default=T0;h7={nanoid:k7,customAlphabet:v7},{SourceMapConsumer:PJ,SourceMapGenerator:LJ}=q9,{existsSync:g7,readFileSync:m7}=q9,{dirname:B0,join:u7}=q9;PY=$0;$0.default=$0;({SourceMapConsumer:c7,SourceMapGenerator:l7}=q9),{fileURLToPath:AJ,pathToFileURL:i1}=q9,{isAbsolute:x0,resolve:S0}=q9,{nanoid:d7}=h7,W0=q9,OJ=qX,i7=PY,U0=Symbol("fromOffsetCache"),a7=Boolean(c7&&l7),MJ=Boolean(S0&&x0),bZ=OZ;OZ.default=OZ;if(W0&&W0.registerInput)W0.registerInput(OZ);({SourceMapConsumer:LY,SourceMapGenerator:UZ}=q9),{dirname:zZ,relative:AY,resolve:OY,sep:MY}=q9,{pathToFileURL:_J}=q9,r7=bZ,s7=Boolean(LY&&UZ),n7=Boolean(zZ&&OY&&AY&&MY),_Y=o7,t7=IZ,I0=class extends t7{constructor(Z){super(Z);this.type="comment"}},yZ=I0;I0.default=I0;({isClean:wY,my:NY}=C1),RY=fZ,EY=yZ,e7=IZ;P9=class X extends e7{append(...Z){for(let J of Z){let Y=this.normalize(J,this.last);for(let Q of Y)this.proxyOf.nodes.push(Q)}return this.markDirty(),this}cleanRaws(Z){if(super.cleanRaws(Z),this.nodes)for(let J of this.nodes)J.cleanRaws(Z)}each(Z){if(!this.proxyOf.nodes)return;let J=this.getIterator(),Y,Q;while(this.indexes[J]<this.proxyOf.nodes.length){if(Y=this.indexes[J],Q=Z(this.proxyOf.nodes[Y],Y),Q===!1)break;this.indexes[J]+=1}return delete this.indexes[J],Q}every(Z){return this.nodes.every(Z)}getIterator(){if(!this.lastEach)this.lastEach=0;if(!this.indexes)this.indexes={};this.lastEach+=1;let Z=this.lastEach;return this.indexes[Z]=0,Z}getProxyProcessor(){return{get(Z,J){if(J==="proxyOf")return Z;else if(!Z[J])return Z[J];else if(J==="each"||typeof J==="string"&&J.startsWith("walk"))return(...Y)=>{return Z[J](...Y.map((Q)=>{if(typeof Q==="function")return(K,G)=>Q(K.toProxy(),G);else return Q}))};else if(J==="every"||J==="some")return(Y)=>{return Z[J]((Q,...K)=>Y(Q.toProxy(),...K))};else if(J==="root")return()=>Z.root().toProxy();else if(J==="nodes")return Z.nodes.map((Y)=>Y.toProxy());else if(J==="first"||J==="last")return Z[J].toProxy();else return Z[J]},set(Z,J,Y){if(Z[J]===Y)return!0;if(Z[J]=Y,J==="name"||J==="params"||J==="selector")Z.markDirty();return!0}}}index(Z){if(typeof Z==="number")return Z;if(Z.proxyOf)Z=Z.proxyOf;return this.proxyOf.nodes.indexOf(Z)}insertAfter(Z,J){let Y=this.index(Z),Q=this.normalize(J,this.proxyOf.nodes[Y]).reverse();Y=this.index(Z);for(let G of Q)this.proxyOf.nodes.splice(Y+1,0,G);let K;for(let G in this.indexes)if(K=this.indexes[G],Y<K)this.indexes[G]=K+Q.length;return this.markDirty(),this}insertBefore(Z,J){let Y=this.index(Z),Q=Y===0?"prepend":!1,K=this.normalize(J,this.proxyOf.nodes[Y],Q).reverse();Y=this.index(Z);for(let V of K)this.proxyOf.nodes.splice(Y,0,V);let G;for(let V in this.indexes)if(G=this.indexes[V],Y<=G)this.indexes[V]=G+K.length;return this.markDirty(),this}normalize(Z,J){if(typeof Z==="string")Z=$Y(CY(Z).nodes);else if(typeof Z>"u")Z=[];else if(Array.isArray(Z)){Z=Z.slice(0);for(let Q of Z)if(Q.parent)Q.parent.removeChild(Q,"ignore")}else if(Z.type==="root"&&this.type!=="document"){Z=Z.nodes.slice(0);for(let Q of Z)if(Q.parent)Q.parent.removeChild(Q,"ignore")}else if(Z.type)Z=[Z];else if(Z.prop){if(typeof Z.value>"u")throw Error("Value field is missed in node creation");else if(typeof Z.value!=="string")Z.value=String(Z.value);Z=[new RY(Z)]}else if(Z.selector)Z=[new BX(Z)];else if(Z.name)Z=[new WX(Z)];else if(Z.text)Z=[new EY(Z)];else throw Error("Unknown node type in node creation");return Z.map((Q)=>{if(!Q[NY])X.rebuild(Q);if(Q=Q.proxyOf,Q.parent)Q.parent.removeChild(Q);if(Q[wY])xY(Q);if(typeof Q.raws.before>"u"){if(J&&typeof J.raws.before<"u")Q.raws.before=J.raws.before.replace(/\S/g,"")}return Q.parent=this.proxyOf,Q})}prepend(...Z){Z=Z.reverse();for(let J of Z){let Y=this.normalize(J,this.first,"prepend").reverse();for(let Q of Y)this.proxyOf.nodes.unshift(Q);for(let Q in this.indexes)this.indexes[Q]=this.indexes[Q]+Y.length}return this.markDirty(),this}push(Z){return Z.parent=this,this.proxyOf.nodes.push(Z),this}removeAll(){for(let Z of this.proxyOf.nodes)Z.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(Z){Z=this.index(Z),this.proxyOf.nodes[Z].parent=void 0,this.proxyOf.nodes.splice(Z,1);let J;for(let Y in this.indexes)if(J=this.indexes[Y],J>=Z)this.indexes[Y]=J-1;return this.markDirty(),this}replaceValues(Z,J,Y){if(!Y)Y=J,J={};return this.walkDecls((Q)=>{if(J.props&&!J.props.includes(Q.prop))return;if(J.fast&&!Q.value.includes(J.fast))return;Q.value=Q.value.replace(Z,Y)}),this.markDirty(),this}some(Z){return this.nodes.some(Z)}walk(Z){return this.each((J,Y)=>{let Q;try{Q=Z(J,Y)}catch(K){throw J.addToError(K)}if(Q!==!1&&J.walk)Q=J.walk(Z);return Q})}walkAtRules(Z,J){if(!J)return J=Z,this.walk((Y,Q)=>{if(Y.type==="atrule")return J(Y,Q)});if(Z instanceof RegExp)return this.walk((Y,Q)=>{if(Y.type==="atrule"&&Z.test(Y.name))return J(Y,Q)});return this.walk((Y,Q)=>{if(Y.type==="atrule"&&Y.name===Z)return J(Y,Q)})}walkComments(Z){return this.walk((J,Y)=>{if(J.type==="comment")return Z(J,Y)})}walkDecls(Z,J){if(!J)return J=Z,this.walk((Y,Q)=>{if(Y.type==="decl")return J(Y,Q)});if(Z instanceof RegExp)return this.walk((Y,Q)=>{if(Y.type==="decl"&&Z.test(Y.prop))return J(Y,Q)});return this.walk((Y,Q)=>{if(Y.type==="decl"&&Y.prop===Z)return J(Y,Q)})}walkRules(Z,J){if(!J)return J=Z,this.walk((Y,Q)=>{if(Y.type==="rule")return J(Y,Q)});if(Z instanceof RegExp)return this.walk((Y,Q)=>{if(Y.type==="rule"&&Z.test(Y.selector))return J(Y,Q)});return this.walk((Y,Q)=>{if(Y.type==="rule"&&Y.selector===Z)return J(Y,Q)})}get first(){if(!this.proxyOf.nodes)return;return this.proxyOf.nodes[0]}get last(){if(!this.proxyOf.nodes)return;return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};P9.registerParse=(X)=>{CY=X};P9.registerRule=(X)=>{BX=X};P9.registerAtRule=(X)=>{WX=X};P9.registerRoot=(X)=>{TY=X};$9=P9;P9.default=P9;P9.rebuild=(X)=>{if(X.type==="atrule")Object.setPrototypeOf(X,WX.prototype);else if(X.type==="rule")Object.setPrototypeOf(X,BX.prototype);else if(X.type==="decl")Object.setPrototypeOf(X,RY.prototype);else if(X.type==="comment")Object.setPrototypeOf(X,EY.prototype);else if(X.type==="root")Object.setPrototypeOf(X,TY.prototype);if(X[NY]=!0,X.nodes)X.nodes.forEach((Z)=>{P9.rebuild(Z)})};ZQ=$9,L1=class extends ZQ{constructor(Z){super({type:"document",...Z});if(!this.nodes)this.nodes=[]}toResult(Z={}){return new SY(new IY,this,Z).stringify()}};L1.registerLazyResult=(X)=>{SY=X};L1.registerProcessor=(X)=>{IY=X};UX=L1;L1.default=L1;wJ={},bY=f0;f0.default=f0;XQ=bY,zX=b0;b0.default=b0;t1=/[\t\n\f\r "#'()/;[\\\]{}]/g,e1=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,UQ=/.[\r\n"'(/\\]/,EJ=/[\da-f]/i,yY=$9,MZ=class extends yY{constructor(Z){super(Z);this.type="atrule"}append(...Z){if(!this.proxyOf.nodes)this.nodes=[];return super.append(...Z)}prepend(...Z){if(!this.proxyOf.nodes)this.nodes=[];return super.prepend(...Z)}},jX=MZ;MZ.default=MZ;yY.registerAtRule(MZ);vY=$9,p9=class extends vY{constructor(Z){super(Z);if(this.type="root",!this.nodes)this.nodes=[]}normalize(Z,J,Y){let Q=super.normalize(Z);if(J){if(Y==="prepend")if(this.nodes.length>1)J.raws.before=this.nodes[1].raws.before;else delete J.raws.before;else if(this.first!==J)for(let K of Q)K.raws.before=J.raws.before}return Q}removeChild(Z,J){let Y=this.index(Z);if(!J&&Y===0&&this.nodes.length>1)this.nodes[1].raws.before=this.nodes[Y].raws.before;return super.removeChild(Z)}toResult(Z={}){return new kY(new hY,this,Z).stringify()}};p9.registerLazyResult=(X)=>{kY=X};p9.registerProcessor=(X)=>{hY=X};T1=p9;p9.default=p9;vY.registerRoot(p9);A1={comma(X){return A1.split(X,[","],!0)},space(X){let Z=[" ",`
`,"\t"];return A1.split(X,Z)},split(X,Z,J){let Y=[],Q="",K=!1,G=0,V=!1,H="",q=!1;for(let B of X){if(q)q=!1;else if(B==="\\")q=!0;else if(V){if(B===H)V=!1}else if(B==='"'||B==="'")V=!0,H=B;else if(B==="(")G+=1;else if(B===")"){if(G>0)G-=1}else if(G===0){if(Z.includes(B))K=!0}if(K){if(Q!=="")Y.push(Q.trim());Q="",K=!1}else Q+=B}if(J||Q!=="")Y.push(Q.trim());return Y}},gY=A1;A1.default=A1;mY=$9,jQ=gY,_Z=class extends mY{constructor(Z){super(Z);if(this.type="rule",!this.nodes)this.nodes=[]}get selectors(){return jQ.comma(this.selector)}set selectors(Z){let J=this.selector?this.selector.match(/,\s*/):null,Y=J?J[0]:","+this.raw("between","beforeOpen");this.selector=Z.join(Y)}},FX=_Z;_Z.default=_Z;mY.registerRule(_Z);FQ=fZ,DQ=zQ,PQ=yZ,LQ=jX,AQ=T1,CJ=FX,TJ={empty:!0,space:!0};_Q=MQ,wQ=$9,NQ=_Q,RQ=bZ;DX=wZ;wZ.default=wZ;wQ.registerParse(wZ);({isClean:j9,my:EQ}=C1),CQ=_Y,TQ=SZ,$Q=$9,xQ=UX,SQ=fY,$J=zX,IQ=DX,fQ=T1,bQ={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},yQ={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},vQ={Once:!0,postcssPlugin:!0,prepare:!0};v0={},l9=class X{constructor(Z,J,Y){this.stringified=!1,this.processed=!1;let Q;if(typeof J==="object"&&J!==null&&(J.type==="root"||J.type==="document"))Q=y0(J);else if(J instanceof X||J instanceof $J){if(Q=y0(J.root),J.map){if(typeof Y.map>"u")Y.map={};if(!Y.map.inline)Y.map.inline=!1;Y.map.prev=J.map}}else{let K=IQ;if(Y.syntax)K=Y.syntax.parse;if(Y.parser)K=Y.parser;if(K.parse)K=K.parse;try{Q=K(J,Y)}catch(G){this.processed=!0,this.error=G}if(Q&&!Q[EQ])$Q.rebuild(Q)}this.result=new $J(Z,Q,Y),this.helpers={...v0,postcss:v0,result:this.result},this.plugins=this.processor.plugins.map((K)=>{if(typeof K==="object"&&K.prepare)return{...K,...K.prepare(this.result)};else return K})}async(){if(this.error)return Promise.reject(this.error);if(this.processed)return Promise.resolve(this.result);if(!this.processing)this.processing=this.runAsync();return this.processing}catch(Z){return this.async().catch(Z)}finally(Z){return this.async().then(Z,Z)}getAsyncError(){throw Error("Use process(css).then(cb) to work with async plugins")}handleError(Z,J){let Y=this.result.lastPlugin;try{if(J)J.addToError(Z);if(this.error=Z,Z.name==="CssSyntaxError"&&!Z.plugin)Z.plugin=Y.postcssPlugin,Z.setMessage();else if(Y.postcssVersion){let{postcssPlugin:Q,postcssVersion:K}=Y,G=this.result.processor.version,V=K.split("."),H=G.split(".");if(V[0]!==H[0]||parseInt(V[1])>parseInt(H[1]))console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+G+", but "+Q+" uses "+K+". Perhaps this is the source of the error below.")}}catch(Q){if(console&&console.error)console.error(Q)}return Z}prepareVisitors(){this.listeners={};let Z=(J,Y,Q)=>{if(!this.listeners[Y])this.listeners[Y]=[];this.listeners[Y].push([J,Q])};for(let J of this.plugins)if(typeof J==="object")for(let Y in J){if(!yQ[Y]&&/^[A-Z]/.test(Y))throw Error(`Unknown event ${Y} in ${J.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!vQ[Y]){if(typeof J[Y]==="object")for(let Q in J[Y])if(Q==="*")Z(J,Y,J[Y][Q]);else Z(J,Y+"-"+Q.toLowerCase(),J[Y][Q]);else if(typeof J[Y]==="function")Z(J,Y,J[Y])}}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let Z=0;Z<this.plugins.length;Z++){let J=this.plugins[Z],Y=this.runOnRoot(J);if(W1(Y))try{await Y}catch(Q){throw this.handleError(Q)}}if(this.prepareVisitors(),this.hasListener){let Z=this.result.root;while(!Z[j9]){Z[j9]=!0;let J=[xJ(Z)];while(J.length>0){let Y=this.visitTick(J);if(W1(Y))try{await Y}catch(Q){let K=J[J.length-1].node;throw this.handleError(Q,K)}}}if(this.listeners.OnceExit)for(let[J,Y]of this.listeners.OnceExit){this.result.lastPlugin=J;try{if(Z.type==="document"){let Q=Z.nodes.map((K)=>Y(K,this.helpers));await Promise.all(Q)}else await Y(Z,this.helpers)}catch(Q){throw this.handleError(Q)}}}return this.processed=!0,this.stringify()}runOnRoot(Z){this.result.lastPlugin=Z;try{if(typeof Z==="object"&&Z.Once){if(this.result.root.type==="document"){let J=this.result.root.nodes.map((Y)=>Z.Once(Y,this.helpers));if(W1(J[0]))return Promise.all(J);return J}return Z.Once(this.result.root,this.helpers)}else if(typeof Z==="function")return Z(this.result.root,this.result)}catch(J){throw this.handleError(J)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let Z=this.result.opts,J=TQ;if(Z.syntax)J=Z.syntax.stringify;if(Z.stringifier)J=Z.stringifier;if(J.stringify)J=J.stringify;let Q=new CQ(J,this.result.root,this.result.opts).generate();return this.result.css=Q[0],this.result.map=Q[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let Z of this.plugins){let J=this.runOnRoot(Z);if(W1(J))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let Z=this.result.root;while(!Z[j9])Z[j9]=!0,this.walkSync(Z);if(this.listeners.OnceExit)if(Z.type==="document")for(let J of Z.nodes)this.visitSync(this.listeners.OnceExit,J);else this.visitSync(this.listeners.OnceExit,Z)}return this.result}then(Z,J){if(!("from"in this.opts))SQ("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");return this.async().then(Z,J)}toString(){return this.css}visitSync(Z,J){for(let[Y,Q]of Z){this.result.lastPlugin=Y;let K;try{K=Q(J,this.helpers)}catch(G){throw this.handleError(G,J.proxyOf)}if(J.type!=="root"&&J.type!=="document"&&!J.parent)return!0;if(W1(K))throw this.getAsyncError()}}visitTick(Z){let J=Z[Z.length-1],{node:Y,visitors:Q}=J;if(Y.type!=="root"&&Y.type!=="document"&&!Y.parent){Z.pop();return}if(Q.length>0&&J.visitorIndex<Q.length){let[G,V]=Q[J.visitorIndex];if(J.visitorIndex+=1,J.visitorIndex===Q.length)J.visitors=[],J.visitorIndex=0;this.result.lastPlugin=G;try{return V(Y.toProxy(),this.helpers)}catch(H){throw this.handleError(H,Y)}}if(J.iterator!==0){let G=J.iterator,V;while(V=Y.nodes[Y.indexes[G]])if(Y.indexes[G]+=1,!V[j9]){V[j9]=!0,Z.push(xJ(V));return}J.iterator=0,delete Y.indexes[G]}let K=J.events;while(J.eventIndex<K.length){let G=K[J.eventIndex];if(J.eventIndex+=1,G===c9){if(Y.nodes&&Y.nodes.length)Y[j9]=!0,J.iterator=Y.getIterator();return}else if(this.listeners[G]){J.visitors=this.listeners[G];return}}Z.pop()}walkSync(Z){Z[j9]=!0;let J=uY(Z);for(let Y of J)if(Y===c9){if(Z.nodes)Z.each((Q)=>{if(!Q[j9])this.walkSync(Q)})}else{let Q=this.listeners[Y];if(Q){if(this.visitSync(Q,Z.toProxy()))return}}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};l9.registerPostcss=(X)=>{v0=X};pY=l9;l9.default=l9;fQ.registerLazyResult(l9);xQ.registerLazyResult(l9);kQ=_Y,hQ=SZ,gQ=fY,mQ=DX,uQ=zX,k0=class{constructor(Z,J,Y){J=J.toString(),this.stringified=!1,this._processor=Z,this._css=J,this._opts=Y,this._map=void 0;let Q,K=hQ;this.result=new uQ(this._processor,Q,this._opts),this.result.css=J;let G=this;Object.defineProperty(this.result,"root",{get(){return G.root}});let V=new kQ(K,Q,this._opts,J);if(V.isMap()){let[H,q]=V.generate();if(H)this.result.css=H;if(q)this.result.map=q}else V.clearAnnotation(),this.result.css=V.css}async(){if(this.error)return Promise.reject(this.error);return Promise.resolve(this.result)}catch(Z){return this.async().catch(Z)}finally(Z){return this.async().then(Z,Z)}sync(){if(this.error)throw this.error;return this.result}then(Z,J){if(!("from"in this._opts))gQ("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");return this.async().then(Z,J)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let Z,J=mQ;try{Z=J(this._css,this._opts)}catch(Y){this.error=Y}if(this.error)throw this.error;else return this._root=Z,Z}get[Symbol.toStringTag](){return"NoWorkResult"}},pQ=k0;k0.default=k0;cQ=pQ,lQ=pY,dQ=UX,iQ=T1,aQ=O1;O1.default=O1;iQ.registerProcessor(O1);dQ.registerProcessor(O1);rQ=fZ,sQ=PY,nQ=yZ,oQ=jX,tQ=bZ,eQ=T1,ZK=FX;XK=M1;M1.default=M1;JK=qX,cY=fZ,YK=pY,QK=$9,PX=aQ,KK=SZ,GK=XK,lY=UX,VK=bY,dY=yZ,iY=jX,HK=zX,qK=bZ,BK=DX,WK=gY,aY=FX,rY=T1,UK=IZ;x.plugin=function(Z,J){let Y=!1;function Q(...G){if(console&&console.warn&&!Y){if(Y=!0,console.warn(Z+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn"))console.warn(Z+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`)}let V=J(...G);return V.postcssPlugin=Z,V.postcssVersion=new PX().version,V}let K;return Object.defineProperty(Q,"postcss",{get(){if(!K)K=Q();return K}}),Q.process=function(G,V,H){return x([Q(H)]).process(G,V)},Q};x.stringify=KK;x.parse=BK;x.fromJSON=GK;x.list=WK;x.comment=(X)=>new dY(X);x.atRule=(X)=>new iY(X);x.decl=(X)=>new cY(X);x.rule=(X)=>new aY(X);x.root=(X)=>new rY(X);x.document=(X)=>new lY(X);x.CssSyntaxError=JK;x.Declaration=cY;x.Container=QK;x.Processor=PX;x.Document=lY;x.Comment=dY;x.Warning=VK;x.AtRule=iY;x.Result=HK;x.Input=qK;x.Rule=aY;x.Root=rY;x.Node=UK;YK.registerPostcss(x);zK=x;x.default=x;h=w7(zK);h.stringify;h.fromJSON;h.plugin;h.parse;h.list;h.document;h.comment;h.atRule;h.rule;h.decl;h.root;h.CssSyntaxError;h.Declaration;h.Container;h.Processor;h.Document;h.Comment;h.Warning;h.AtRule;h.Result;h.Input;h.Rule;h.Root;h.Node;jK=Object.defineProperty;LX={exports:{}},v=String;LX.exports=sY();LX.exports.createColors=sY;LK=LX.exports,AK={},OK=Object.freeze(Object.defineProperty({__proto__:null,default:AK},Symbol.toStringTag,{value:"Module"})),B9=PK(OK),SJ=LK,IJ=B9,h0=class X extends Error{constructor(Z,J,Y,Q,K,G){super(Z);if(this.name="CssSyntaxError",this.reason=Z,K)this.file=K;if(Q)this.source=Q;if(G)this.plugin=G;if(typeof J<"u"&&typeof Y<"u")if(typeof J==="number")this.line=J,this.column=Y;else this.line=J.line,this.column=J.column,this.endLine=Y.line,this.endColumn=Y.column;if(this.setMessage(),Error.captureStackTrace)Error.captureStackTrace(this,X)}setMessage(){if(this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u")this.message+=":"+this.line+":"+this.column;this.message+=": "+this.reason}showSourceCode(Z){if(!this.source)return"";let J=this.source;if(Z==null)Z=SJ.isColorSupported;if(IJ){if(Z)J=IJ(J)}let Y=J.split(/\r?\n/),Q=Math.max(this.line-3,0),K=Math.min(this.line+2,Y.length),G=String(K).length,V,H;if(Z){let{bold:q,gray:B,red:W}=SJ.createColors(!0);V=(U)=>q(W(U)),H=(U)=>B(U)}else V=H=(q)=>q;return Y.slice(Q,K).map((q,B)=>{let W=Q+1+B,U=" "+(" "+W).slice(-G)+" | ";if(W===this.line){let z=H(U.replace(/\d/g," "))+q.slice(0,this.column-1).replace(/[^\t]/g," ");return V(">")+H(U)+q+`
 `+z+V("^")}return" "+H(U)+q}).join(`
`)}toString(){let Z=this.showSourceCode();if(Z)Z=`

`+Z+`
`;return this.name+": "+this.message+Z}},AX=h0;h0.default=h0;$1={};$1.isClean=Symbol("isClean");$1.my=Symbol("my");fJ={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};nY=g0;g0.default=g0;_K=nY;vZ=m0;m0.default=m0;({isClean:ZZ,my:wK}=$1),NK=AX,RK=nY,EK=vZ;kZ=p0;p0.default=p0;CK=kZ,c0=class extends CK{constructor(Z){if(Z&&typeof Z.value<"u"&&typeof Z.value!=="string")Z={...Z,value:String(Z.value)};super(Z);this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}},hZ=c0;c0.default=c0;SK={nanoid:xK,customAlphabet:$K},{SourceMapConsumer:bJ,SourceMapGenerator:yJ}=B9,{existsSync:IK,readFileSync:fK}=B9,{dirname:j0,join:bK}=B9;oY=l0;l0.default=l0;({SourceMapConsumer:vK,SourceMapGenerator:kK}=B9),{fileURLToPath:vJ,pathToFileURL:XZ}=B9,{isAbsolute:d0,resolve:i0}=B9,{nanoid:hK}=SK,F0=B9,kJ=AX,gK=oY,D0=Symbol("fromOffsetCache"),mK=Boolean(vK&&kK),hJ=Boolean(i0&&d0),gZ=NZ;NZ.default=NZ;if(F0&&F0.registerInput)F0.registerInput(NZ);({SourceMapConsumer:tY,SourceMapGenerator:jZ}=B9),{dirname:FZ,relative:eY,resolve:Z6,sep:X6}=B9,{pathToFileURL:gJ}=B9,uK=gZ,pK=Boolean(tY&&jZ),cK=Boolean(FZ&&Z6&&eY&&X6),J6=lK,dK=kZ,a0=class extends dK{constructor(Z){super(Z);this.type="comment"}},mZ=a0;a0.default=a0;({isClean:Y6,my:Q6}=$1),K6=hZ,G6=mZ,iK=kZ;L9=class X extends iK{append(...Z){for(let J of Z){let Y=this.normalize(J,this.last);for(let Q of Y)this.proxyOf.nodes.push(Q)}return this.markDirty(),this}cleanRaws(Z){if(super.cleanRaws(Z),this.nodes)for(let J of this.nodes)J.cleanRaws(Z)}each(Z){if(!this.proxyOf.nodes)return;let J=this.getIterator(),Y,Q;while(this.indexes[J]<this.proxyOf.nodes.length){if(Y=this.indexes[J],Q=Z(this.proxyOf.nodes[Y],Y),Q===!1)break;this.indexes[J]+=1}return delete this.indexes[J],Q}every(Z){return this.nodes.every(Z)}getIterator(){if(!this.lastEach)this.lastEach=0;if(!this.indexes)this.indexes={};this.lastEach+=1;let Z=this.lastEach;return this.indexes[Z]=0,Z}getProxyProcessor(){return{get(Z,J){if(J==="proxyOf")return Z;else if(!Z[J])return Z[J];else if(J==="each"||typeof J==="string"&&J.startsWith("walk"))return(...Y)=>{return Z[J](...Y.map((Q)=>{if(typeof Q==="function")return(K,G)=>Q(K.toProxy(),G);else return Q}))};else if(J==="every"||J==="some")return(Y)=>{return Z[J]((Q,...K)=>Y(Q.toProxy(),...K))};else if(J==="root")return()=>Z.root().toProxy();else if(J==="nodes")return Z.nodes.map((Y)=>Y.toProxy());else if(J==="first"||J==="last")return Z[J].toProxy();else return Z[J]},set(Z,J,Y){if(Z[J]===Y)return!0;if(Z[J]=Y,J==="name"||J==="params"||J==="selector")Z.markDirty();return!0}}}index(Z){if(typeof Z==="number")return Z;if(Z.proxyOf)Z=Z.proxyOf;return this.proxyOf.nodes.indexOf(Z)}insertAfter(Z,J){let Y=this.index(Z),Q=this.normalize(J,this.proxyOf.nodes[Y]).reverse();Y=this.index(Z);for(let G of Q)this.proxyOf.nodes.splice(Y+1,0,G);let K;for(let G in this.indexes)if(K=this.indexes[G],Y<K)this.indexes[G]=K+Q.length;return this.markDirty(),this}insertBefore(Z,J){let Y=this.index(Z),Q=Y===0?"prepend":!1,K=this.normalize(J,this.proxyOf.nodes[Y],Q).reverse();Y=this.index(Z);for(let V of K)this.proxyOf.nodes.splice(Y,0,V);let G;for(let V in this.indexes)if(G=this.indexes[V],Y<=G)this.indexes[V]=G+K.length;return this.markDirty(),this}normalize(Z,J){if(typeof Z==="string")Z=q6(V6(Z).nodes);else if(typeof Z>"u")Z=[];else if(Array.isArray(Z)){Z=Z.slice(0);for(let Q of Z)if(Q.parent)Q.parent.removeChild(Q,"ignore")}else if(Z.type==="root"&&this.type!=="document"){Z=Z.nodes.slice(0);for(let Q of Z)if(Q.parent)Q.parent.removeChild(Q,"ignore")}else if(Z.type)Z=[Z];else if(Z.prop){if(typeof Z.value>"u")throw Error("Value field is missed in node creation");else if(typeof Z.value!=="string")Z.value=String(Z.value);Z=[new K6(Z)]}else if(Z.selector)Z=[new OX(Z)];else if(Z.name)Z=[new MX(Z)];else if(Z.text)Z=[new G6(Z)];else throw Error("Unknown node type in node creation");return Z.map((Q)=>{if(!Q[Q6])X.rebuild(Q);if(Q=Q.proxyOf,Q.parent)Q.parent.removeChild(Q);if(Q[Y6])B6(Q);if(typeof Q.raws.before>"u"){if(J&&typeof J.raws.before<"u")Q.raws.before=J.raws.before.replace(/\S/g,"")}return Q.parent=this.proxyOf,Q})}prepend(...Z){Z=Z.reverse();for(let J of Z){let Y=this.normalize(J,this.first,"prepend").reverse();for(let Q of Y)this.proxyOf.nodes.unshift(Q);for(let Q in this.indexes)this.indexes[Q]=this.indexes[Q]+Y.length}return this.markDirty(),this}push(Z){return Z.parent=this,this.proxyOf.nodes.push(Z),this}removeAll(){for(let Z of this.proxyOf.nodes)Z.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(Z){Z=this.index(Z),this.proxyOf.nodes[Z].parent=void 0,this.proxyOf.nodes.splice(Z,1);let J;for(let Y in this.indexes)if(J=this.indexes[Y],J>=Z)this.indexes[Y]=J-1;return this.markDirty(),this}replaceValues(Z,J,Y){if(!Y)Y=J,J={};return this.walkDecls((Q)=>{if(J.props&&!J.props.includes(Q.prop))return;if(J.fast&&!Q.value.includes(J.fast))return;Q.value=Q.value.replace(Z,Y)}),this.markDirty(),this}some(Z){return this.nodes.some(Z)}walk(Z){return this.each((J,Y)=>{let Q;try{Q=Z(J,Y)}catch(K){throw J.addToError(K)}if(Q!==!1&&J.walk)Q=J.walk(Z);return Q})}walkAtRules(Z,J){if(!J)return J=Z,this.walk((Y,Q)=>{if(Y.type==="atrule")return J(Y,Q)});if(Z instanceof RegExp)return this.walk((Y,Q)=>{if(Y.type==="atrule"&&Z.test(Y.name))return J(Y,Q)});return this.walk((Y,Q)=>{if(Y.type==="atrule"&&Y.name===Z)return J(Y,Q)})}walkComments(Z){return this.walk((J,Y)=>{if(J.type==="comment")return Z(J,Y)})}walkDecls(Z,J){if(!J)return J=Z,this.walk((Y,Q)=>{if(Y.type==="decl")return J(Y,Q)});if(Z instanceof RegExp)return this.walk((Y,Q)=>{if(Y.type==="decl"&&Z.test(Y.prop))return J(Y,Q)});return this.walk((Y,Q)=>{if(Y.type==="decl"&&Y.prop===Z)return J(Y,Q)})}walkRules(Z,J){if(!J)return J=Z,this.walk((Y,Q)=>{if(Y.type==="rule")return J(Y,Q)});if(Z instanceof RegExp)return this.walk((Y,Q)=>{if(Y.type==="rule"&&Z.test(Y.selector))return J(Y,Q)});return this.walk((Y,Q)=>{if(Y.type==="rule"&&Y.selector===Z)return J(Y,Q)})}get first(){if(!this.proxyOf.nodes)return;return this.proxyOf.nodes[0]}get last(){if(!this.proxyOf.nodes)return;return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};L9.registerParse=(X)=>{V6=X};L9.registerRule=(X)=>{OX=X};L9.registerAtRule=(X)=>{MX=X};L9.registerRoot=(X)=>{H6=X};x9=L9;L9.default=L9;L9.rebuild=(X)=>{if(X.type==="atrule")Object.setPrototypeOf(X,MX.prototype);else if(X.type==="rule")Object.setPrototypeOf(X,OX.prototype);else if(X.type==="decl")Object.setPrototypeOf(X,K6.prototype);else if(X.type==="comment")Object.setPrototypeOf(X,G6.prototype);else if(X.type==="root")Object.setPrototypeOf(X,H6.prototype);if(X[Q6]=!0,X.nodes)X.nodes.forEach((Z)=>{L9.rebuild(Z)})};aK=x9,_1=class extends aK{constructor(Z){super({type:"document",...Z});if(!this.nodes)this.nodes=[]}toResult(Z={}){return new W6(new U6,this,Z).stringify()}};_1.registerLazyResult=(X)=>{W6=X};_1.registerProcessor=(X)=>{U6=X};_X=_1;_1.default=_1;mJ={},j6=r0;r0.default=r0;rK=j6,wX=s0;s0.default=s0;VZ=/[\t\n\f\r "#'()/;[\\\]{}]/g,HZ=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,KG=/.[\r\n"'(/\\]/,cJ=/[\da-f]/i,F6=x9,RZ=class extends F6{constructor(Z){super(Z);this.type="atrule"}append(...Z){if(!this.proxyOf.nodes)this.nodes=[];return super.append(...Z)}prepend(...Z){if(!this.proxyOf.nodes)this.nodes=[];return super.prepend(...Z)}},NX=RZ;RZ.default=RZ;F6.registerAtRule(RZ);D6=x9,d9=class extends D6{constructor(Z){super(Z);if(this.type="root",!this.nodes)this.nodes=[]}normalize(Z,J,Y){let Q=super.normalize(Z);if(J){if(Y==="prepend")if(this.nodes.length>1)J.raws.before=this.nodes[1].raws.before;else delete J.raws.before;else if(this.first!==J)for(let K of Q)K.raws.before=J.raws.before}return Q}removeChild(Z,J){let Y=this.index(Z);if(!J&&Y===0&&this.nodes.length>1)this.nodes[1].raws.before=this.nodes[Y].raws.before;return super.removeChild(Z)}toResult(Z={}){return new P6(new L6,this,Z).stringify()}};d9.registerLazyResult=(X)=>{P6=X};d9.registerProcessor=(X)=>{L6=X};x1=d9;d9.default=d9;D6.registerRoot(d9);w1={comma(X){return w1.split(X,[","],!0)},space(X){let Z=[" ",`
`,"\t"];return w1.split(X,Z)},split(X,Z,J){let Y=[],Q="",K=!1,G=0,V=!1,H="",q=!1;for(let B of X){if(q)q=!1;else if(B==="\\")q=!0;else if(V){if(B===H)V=!1}else if(B==='"'||B==="'")V=!0,H=B;else if(B==="(")G+=1;else if(B===")"){if(G>0)G-=1}else if(G===0){if(Z.includes(B))K=!0}if(K){if(Q!=="")Y.push(Q.trim());Q="",K=!1}else Q+=B}if(J||Q!=="")Y.push(Q.trim());return Y}},A6=w1;w1.default=w1;O6=x9,VG=A6,EZ=class extends O6{constructor(Z){super(Z);if(this.type="rule",!this.nodes)this.nodes=[]}get selectors(){return VG.comma(this.selector)}set selectors(Z){let J=this.selector?this.selector.match(/,\s*/):null,Y=J?J[0]:","+this.raw("between","beforeOpen");this.selector=Z.join(Y)}},RX=EZ;EZ.default=EZ;O6.registerRule(EZ);HG=hZ,qG=GG,BG=mZ,WG=NX,UG=x1,lJ=RX,dJ={empty:!0,space:!0};FG=jG,DG=x9,PG=FG,LG=gZ;EX=CZ;CZ.default=CZ;DG.registerParse(CZ);({isClean:F9,my:AG}=$1),OG=J6,MG=vZ,_G=x9,wG=_X,NG=z6,iJ=wX,RG=EX,EG=x1,CG={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},TG={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},$G={Once:!0,postcssPlugin:!0,prepare:!0};o0={},a9=class X{constructor(Z,J,Y){this.stringified=!1,this.processed=!1;let Q;if(typeof J==="object"&&J!==null&&(J.type==="root"||J.type==="document"))Q=n0(J);else if(J instanceof X||J instanceof iJ){if(Q=n0(J.root),J.map){if(typeof Y.map>"u")Y.map={};if(!Y.map.inline)Y.map.inline=!1;Y.map.prev=J.map}}else{let K=RG;if(Y.syntax)K=Y.syntax.parse;if(Y.parser)K=Y.parser;if(K.parse)K=K.parse;try{Q=K(J,Y)}catch(G){this.processed=!0,this.error=G}if(Q&&!Q[AG])_G.rebuild(Q)}this.result=new iJ(Z,Q,Y),this.helpers={...o0,postcss:o0,result:this.result},this.plugins=this.processor.plugins.map((K)=>{if(typeof K==="object"&&K.prepare)return{...K,...K.prepare(this.result)};else return K})}async(){if(this.error)return Promise.reject(this.error);if(this.processed)return Promise.resolve(this.result);if(!this.processing)this.processing=this.runAsync();return this.processing}catch(Z){return this.async().catch(Z)}finally(Z){return this.async().then(Z,Z)}getAsyncError(){throw Error("Use process(css).then(cb) to work with async plugins")}handleError(Z,J){let Y=this.result.lastPlugin;try{if(J)J.addToError(Z);if(this.error=Z,Z.name==="CssSyntaxError"&&!Z.plugin)Z.plugin=Y.postcssPlugin,Z.setMessage();else if(Y.postcssVersion){let{postcssPlugin:Q,postcssVersion:K}=Y,G=this.result.processor.version,V=K.split("."),H=G.split(".");if(V[0]!==H[0]||parseInt(V[1])>parseInt(H[1]))console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+G+", but "+Q+" uses "+K+". Perhaps this is the source of the error below.")}}catch(Q){if(console&&console.error)console.error(Q)}return Z}prepareVisitors(){this.listeners={};let Z=(J,Y,Q)=>{if(!this.listeners[Y])this.listeners[Y]=[];this.listeners[Y].push([J,Q])};for(let J of this.plugins)if(typeof J==="object")for(let Y in J){if(!TG[Y]&&/^[A-Z]/.test(Y))throw Error(`Unknown event ${Y} in ${J.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!$G[Y]){if(typeof J[Y]==="object")for(let Q in J[Y])if(Q==="*")Z(J,Y,J[Y][Q]);else Z(J,Y+"-"+Q.toLowerCase(),J[Y][Q]);else if(typeof J[Y]==="function")Z(J,Y,J[Y])}}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let Z=0;Z<this.plugins.length;Z++){let J=this.plugins[Z],Y=this.runOnRoot(J);if(z1(Y))try{await Y}catch(Q){throw this.handleError(Q)}}if(this.prepareVisitors(),this.hasListener){let Z=this.result.root;while(!Z[F9]){Z[F9]=!0;let J=[aJ(Z)];while(J.length>0){let Y=this.visitTick(J);if(z1(Y))try{await Y}catch(Q){let K=J[J.length-1].node;throw this.handleError(Q,K)}}}if(this.listeners.OnceExit)for(let[J,Y]of this.listeners.OnceExit){this.result.lastPlugin=J;try{if(Z.type==="document"){let Q=Z.nodes.map((K)=>Y(K,this.helpers));await Promise.all(Q)}else await Y(Z,this.helpers)}catch(Q){throw this.handleError(Q)}}}return this.processed=!0,this.stringify()}runOnRoot(Z){this.result.lastPlugin=Z;try{if(typeof Z==="object"&&Z.Once){if(this.result.root.type==="document"){let J=this.result.root.nodes.map((Y)=>Z.Once(Y,this.helpers));if(z1(J[0]))return Promise.all(J);return J}return Z.Once(this.result.root,this.helpers)}else if(typeof Z==="function")return Z(this.result.root,this.result)}catch(J){throw this.handleError(J)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let Z=this.result.opts,J=MG;if(Z.syntax)J=Z.syntax.stringify;if(Z.stringifier)J=Z.stringifier;if(J.stringify)J=J.stringify;let Q=new OG(J,this.result.root,this.result.opts).generate();return this.result.css=Q[0],this.result.map=Q[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let Z of this.plugins){let J=this.runOnRoot(Z);if(z1(J))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let Z=this.result.root;while(!Z[F9])Z[F9]=!0,this.walkSync(Z);if(this.listeners.OnceExit)if(Z.type==="document")for(let J of Z.nodes)this.visitSync(this.listeners.OnceExit,J);else this.visitSync(this.listeners.OnceExit,Z)}return this.result}then(Z,J){if(!("from"in this.opts))NG("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");return this.async().then(Z,J)}toString(){return this.css}visitSync(Z,J){for(let[Y,Q]of Z){this.result.lastPlugin=Y;let K;try{K=Q(J,this.helpers)}catch(G){throw this.handleError(G,J.proxyOf)}if(J.type!=="root"&&J.type!=="document"&&!J.parent)return!0;if(z1(K))throw this.getAsyncError()}}visitTick(Z){let J=Z[Z.length-1],{node:Y,visitors:Q}=J;if(Y.type!=="root"&&Y.type!=="document"&&!Y.parent){Z.pop();return}if(Q.length>0&&J.visitorIndex<Q.length){let[G,V]=Q[J.visitorIndex];if(J.visitorIndex+=1,J.visitorIndex===Q.length)J.visitors=[],J.visitorIndex=0;this.result.lastPlugin=G;try{return V(Y.toProxy(),this.helpers)}catch(H){throw this.handleError(H,Y)}}if(J.iterator!==0){let G=J.iterator,V;while(V=Y.nodes[Y.indexes[G]])if(Y.indexes[G]+=1,!V[F9]){V[F9]=!0,Z.push(aJ(V));return}J.iterator=0,delete Y.indexes[G]}let K=J.events;while(J.eventIndex<K.length){let G=K[J.eventIndex];if(J.eventIndex+=1,G===i9){if(Y.nodes&&Y.nodes.length)Y[F9]=!0,J.iterator=Y.getIterator();return}else if(this.listeners[G]){J.visitors=this.listeners[G];return}}Z.pop()}walkSync(Z){Z[F9]=!0;let J=M6(Z);for(let Y of J)if(Y===i9){if(Z.nodes)Z.each((Q)=>{if(!Q[F9])this.walkSync(Q)})}else{let Q=this.listeners[Y];if(Q){if(this.visitSync(Q,Z.toProxy()))return}}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};a9.registerPostcss=(X)=>{o0=X};_6=a9;a9.default=a9;EG.registerLazyResult(a9);wG.registerLazyResult(a9);xG=J6,SG=vZ,IG=z6,fG=EX,bG=wX,t0=class{constructor(Z,J,Y){J=J.toString(),this.stringified=!1,this._processor=Z,this._css=J,this._opts=Y,this._map=void 0;let Q,K=SG;this.result=new bG(this._processor,Q,this._opts),this.result.css=J;let G=this;Object.defineProperty(this.result,"root",{get(){return G.root}});let V=new xG(K,Q,this._opts,J);if(V.isMap()){let[H,q]=V.generate();if(H)this.result.css=H;if(q)this.result.map=q}else V.clearAnnotation(),this.result.css=V.css}async(){if(this.error)return Promise.reject(this.error);return Promise.resolve(this.result)}catch(Z){return this.async().catch(Z)}finally(Z){return this.async().then(Z,Z)}sync(){if(this.error)throw this.error;return this.result}then(Z,J){if(!("from"in this._opts))IG("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");return this.async().then(Z,J)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let Z,J=fG;try{Z=J(this._css,this._opts)}catch(Y){this.error=Y}if(this.error)throw this.error;else return this._root=Z,Z}get[Symbol.toStringTag](){return"NoWorkResult"}},yG=t0;t0.default=t0;vG=yG,kG=_6,hG=_X,gG=x1,mG=N1;N1.default=N1;gG.registerProcessor(N1);hG.registerProcessor(N1);uG=hZ,pG=oY,cG=mZ,lG=NX,dG=gZ,iG=x1,aG=RX;rG=R1;R1.default=R1;sG=AX,w6=hZ,nG=_6,oG=x9,CX=mG,tG=vZ,eG=rG,N6=_X,Z5=j6,R6=mZ,E6=NX,X5=wX,J5=gZ,Y5=EX,Q5=A6,C6=RX,T6=x1,K5=kZ;S.plugin=function(Z,J){let Y=!1;function Q(...G){if(console&&console.warn&&!Y){if(Y=!0,console.warn(Z+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn"))console.warn(Z+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`)}let V=J(...G);return V.postcssPlugin=Z,V.postcssVersion=new CX().version,V}let K;return Object.defineProperty(Q,"postcss",{get(){if(!K)K=Q();return K}}),Q.process=function(G,V,H){return S([Q(H)]).process(G,V)},Q};S.stringify=tG;S.parse=Y5;S.fromJSON=eG;S.list=Q5;S.comment=(X)=>new R6(X);S.atRule=(X)=>new E6(X);S.decl=(X)=>new w6(X);S.rule=(X)=>new C6(X);S.root=(X)=>new T6(X);S.document=(X)=>new N6(X);S.CssSyntaxError=sG;S.Declaration=w6;S.Container=oG;S.Processor=CX;S.Document=N6;S.Comment=R6;S.Warning=Z5;S.AtRule=E6;S.Result=X5;S.Input=J5;S.Rule=C6;S.Root=T6;S.Node=K5;nG.registerPostcss(S);G5=S;S.default=S;g=DK(G5);g.stringify;g.fromJSON;g.plugin;g.parse;g.list;g.document;g.comment;g.atRule;g.rule;g.decl;g.root;g.CssSyntaxError;g.Declaration;g.Container;g.Processor;g.Document;g.Comment;g.Warning;g.AtRule;g.Result;g.Input;g.Rule;g.Root;g.Node;rJ={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},sJ={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},qZ={};L0={};A0={};w={childNodes:H5,parentNode:q5,parentElement:B5,textContent:W5,contains:U5,getRootNode:z5,host:j5,styleSheets:F5,shadowRoot:D5,querySelector:P5,querySelectorAll:L5,mutationObserver:x6};nJ={map:{},getId(){return console.error(v9),-1},getNode(){return console.error(v9),null},removeNodeFromMap(){console.error(v9)},has(){return console.error(v9),!1},reset(){console.error(v9)}};if(typeof window<"u"&&window.Proxy&&window.Reflect)nJ=new Proxy(nJ,{get(X,Z,J){if(Z==="map")console.error(v9);return Reflect.get(X,Z,J)}});TZ=Date.now;if(!/[1-9][0-9]{12}/.test(Date.now().toString()))TZ=()=>new Date().getTime();E=((X)=>{return X[X.DomContentLoaded=0]="DomContentLoaded",X[X.Load=1]="Load",X[X.FullSnapshot=2]="FullSnapshot",X[X.IncrementalSnapshot=3]="IncrementalSnapshot",X[X.Meta=4]="Meta",X[X.Custom=5]="Custom",X[X.Plugin=6]="Plugin",X})(E||{}),N=((X)=>{return X[X.Mutation=0]="Mutation",X[X.MouseMove=1]="MouseMove",X[X.MouseInteraction=2]="MouseInteraction",X[X.Scroll=3]="Scroll",X[X.ViewportResize=4]="ViewportResize",X[X.Input=5]="Input",X[X.TouchMove=6]="TouchMove",X[X.MediaInteraction=7]="MediaInteraction",X[X.StyleSheetRule=8]="StyleSheetRule",X[X.CanvasMutation=9]="CanvasMutation",X[X.Font=10]="Font",X[X.Log=11]="Log",X[X.Drag=12]="Drag",X[X.StyleDeclaration=13]="StyleDeclaration",X[X.Selection=14]="Selection",X[X.AdoptedStyleSheet=15]="AdoptedStyleSheet",X[X.CustomElement=16]="CustomElement",X})(N||{}),J9=((X)=>{return X[X.MouseUp=0]="MouseUp",X[X.MouseDown=1]="MouseDown",X[X.Click=2]="Click",X[X.ContextMenu=3]="ContextMenu",X[X.DblClick=4]="DblClick",X[X.Focus=5]="Focus",X[X.Blur=6]="Blur",X[X.TouchStart=7]="TouchStart",X[X.TouchMove_Departed=8]="TouchMove_Departed",X[X.TouchEnd=9]="TouchEnd",X[X.TouchCancel=10]="TouchCancel",X})(J9||{}),D9=((X)=>{return X[X.Mouse=0]="Mouse",X[X.Pen=1]="Pen",X[X.Touch=2]="Touch",X})(D9||{}),r9=((X)=>{return X[X["2D"]=0]="2D",X[X.WebGL=1]="WebGL",X[X.WebGL2=2]="WebGL2",X})(r9||{}),k9=((X)=>{return X[X.Play=0]="Play",X[X.Pause=1]="Pause",X[X.Seeked=2]="Seeked",X[X.VolumeChange=3]="VolumeChange",X[X.RateChange=4]="RateChange",X})(k9||{}),u6=((X)=>{return X[X.Document=0]="Document",X[X.DocumentType=1]="DocumentType",X[X.Element=2]="Element",X[X.Text=3]="Text",X[X.CDATA=4]="CDATA",X[X.Comment=5]="Comment",X})(u6||{});C9=[];x5=["INPUT","TEXTAREA","SELECT"],XY=new WeakMap;m5=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(h9=0;h9<u9.length;h9++)m5[u9.charCodeAt(h9)]=h9;JY=new Map;KY=typeof window<"u"&&window.Blob&&new Blob([i5(e6)],{type:"text/javascript;charset=utf-8"});try{if(Array.from([1],(X)=>X*2)[0]!==2){let X=document.createElement("iframe");document.body.appendChild(X),Array.from=((VJ=X.contentWindow)==null?void 0:VJ.Array.from)||Array.from,document.body.removeChild(X)}}catch(X){console.debug("Unable to override Array.from",X)}H9=t8();I1.addCustomEvent=(X,Z)=>{if(!xZ)throw Error("please add custom event after start recording");c({type:E.Custom,data:{tag:X,payload:Z}})};I1.freezePage=()=>{C9.forEach((X)=>X.freeze())};I1.takeFullSnapshot=(X)=>{if(!xZ)throw Error("please take full snapshot after start recording");PZ(X)};I1.mirror=H9;(function(X){X[X.NotStarted=0]="NotStarted",X[X.Running=1]="Running",X[X.Stopped=2]="Stopped"})(GY||(GY={}))});var s5={};y1(s5,{initCDPClient:()=>q8,init:()=>B8,exportEvents:()=>W8});var iZ=new Map,e9=new Map,aZ=new Map,P8=1,vX=(X,Z)=>{let J=iZ.get(X);if(J)return J;return J=`${P8++}`,e9.set(J,X),iZ.set(X,J),aZ.set(J,Z),J},L8=(X)=>{let J=/\[object\s+(.*)\]/.exec(Object.prototype.toString.call(X));return J?J[1]||"":""},A8=(X)=>{try{if(X&&typeof X==="object"&&"nodeType"in X){let J=X;if([1,8,9].includes(J.nodeType))return"node"}}catch{}let Z=L8(X).toLowerCase();return["array","null","regexp","date","map","set","weakmap","weakset","error","proxy","promise","arraybuffer","iterator","generator"].includes(Z)?Z:""},kX=(X)=>({type:typeof X,subtype:A8(X)}),v1=(X,Z={})=>{let{length:J=5,origin:Y=X}=Z;if(typeof X!=="object"||X===null)return{overflow:!1,properties:[]};let Q=Object.keys(X),K=[];return Q.slice(0,J).forEach((G)=>{let V;try{V=Y[G]}catch{}let{type:H,subtype:q}=kX(V),B;if(H==="object")if(q==="array")B=`Array(${V.length})`;else if(q==="null")B="null";else if(["date","regexp"].includes(q))B=String(V);else if(q==="node")B=`#${V.nodeName}`;else try{B=V.constructor.name}catch{B="Object"}else B=V===void 0?"undefined":String(V);K.push({name:G,type:H,subtype:q,value:B})}),{overflow:Q.length>J,properties:K}};function A9(X,Z={}){let{origin:J=X,preview:Y=!1}=Z,{type:Q,subtype:K}=kX(X);if(Q==="undefined")return{type:Q};if(Q==="number")return{type:Q,value:X,description:String(X)};if(Q==="string"||Q==="boolean")return{type:Q,value:X};if(Q==="symbol")return{type:Q,objectId:vX(X,J),description:String(X)};if(K==="null")return{type:Q,subtype:K,value:X};let G={type:Q,subtype:K,objectId:vX(X,J)};if(Q==="function"){if(G.className="Function",G.description=String(X),Y)G.preview={type:Q,subtype:K,description:String(X),...v1(X,{origin:J})}}else if(K==="array"){G.className="Array";let V=X;if(G.description=`Array(${V.length})`,Y)G.preview={type:Q,subtype:K,description:`Array(${V.length})`,...v1(X,{length:100,origin:J})}}else if(K==="error"){G.className="Error";let V=X;if(G.description=V.stack||V.message,Y)G.preview={type:Q,subtype:K,description:V.stack||V.message,...v1(X,{origin:J})}}else if(K==="node")try{let V=X;G.className=G.description=V.constructor.name}catch{G.className=G.description=""}else{try{let V=X;G.className=G.description=V.constructor.name}catch{G.className=G.description=""}if(Y)G.preview={type:Q,subtype:K,description:G.description,...v1(X,{origin:J})}}return G}function hX(X){let{accessorPropertiesOnly:Z,generatePreview:J,objectId:Y,ownProperties:Q}=X,K=e9.get(Y);if(!K)return[];let G=aZ.get(Y),V=[],H=K.__proto__,q=H&&!Q?H:K,B=Object.getOwnPropertyNames(q);for(let W of B){if(W==="__proto__")continue;let U={name:W,value:void 0},z;try{z=G[W]}catch{}let F=Object.getOwnPropertyDescriptor(q,W);if(!F)continue;if(Z&&!F.get&&!F.set)continue;U.configurable=F.configurable,U.enumerable=F.enumerable,U.writable=F.writable,U.isOwn=Q?!0:H?Object.prototype.hasOwnProperty.call(H,W):!0,U.value=A9(z,{preview:J}),V.push(U)}if(H)V.push({name:"__proto__",configurable:!0,enumerable:!1,isOwn:!!Q,value:A9(H,{origin:G})});return V}function gX({objectId:X}){let Z=e9.get(X);if(Z)e9.delete(X),iZ.delete(Z),aZ.delete(X)}function Z1(X){return e9.get(X)}class d{socket;namespace="";eventStorage;devtoolsWindow=null;eventQueue=[];constructor(X){this.socket=X.socket,this.eventStorage=X.eventStorage}setDevToolsWindow(X){this.devtoolsWindow=X,this.flushEventQueue(),this.sendStoredEventsFromIndexedDB()}flushEventQueue(){if(!this.devtoolsWindow||this.eventQueue.length===0)return;while(this.eventQueue.length>0){let X=this.eventQueue.shift();if(X)try{this.devtoolsWindow.postMessage(X,"*")}catch(Z){console.warn("Failed to send queued postMessage event:",Z)}}}createCDPMessage(X){return{type:"CDP_MESSAGE",message:JSON.stringify(X)}}sendViaPostMessage(X,Z){try{return Z.postMessage(X,"*"),!0}catch(J){return console.warn("Failed to send postMessage event:",J),!1}}getTargetWindow(){if(typeof window>"u")return null;if(this.devtoolsWindow)return this.devtoolsWindow;return window.opener||(window!==window.top?window.parent:null)}queueEvent(X){this.eventQueue.push(X)}saveEventToStorage(X,Z){if(this.eventStorage)this.eventStorage.saveEvent(X,Z)}saveMessageToStorage(X){if(this.eventStorage)this.eventStorage.saveMessage(X)}sendViaWebSocket(X){if(this.socket&&this.socket.readyState===WebSocket.OPEN){let Z=JSON.stringify(X);return this.socket.send(Z),!0}return!1}isCDPEvent(X){return typeof X==="object"&&X!==null&&"method"in X&&typeof X.method==="string"&&X.id===void 0}async sendStoredEventsFromIndexedDB(){if(typeof window<"u"&&window.__CHROME_REMOTE_DEVTOOLS_REPLAY_MODE__)return;if(!this.devtoolsWindow||!this.eventStorage)return;try{let X=await this.eventStorage.getEvents();if(X.length>0){let Z=X.filter((J)=>{try{return!(JSON.parse(J.message).method||"").startsWith("SessionReplay.")}catch{return!0}});if(Z.length>0)for(let Y=0;Y<Z.length;Y+=100){let Q=Z.slice(Y,Y+100);for(let K of Q)this.sendViaPostMessage(K,this.devtoolsWindow);await new Promise((K)=>setTimeout(K,10))}}}catch(X){console.error("Failed to send stored messages to DevTools / 저장된 메시지를 DevTools로 전송 실패:",X)}}enable(){}send(X){if(typeof window<"u"&&window.__CHROME_REMOTE_DEVTOOLS_REPLAY_MODE__)return;if(this.isCDPMessage(X))this.saveMessageToStorage(X);if(this.sendViaWebSocket(X))return;if(this.isCDPMessage(X)){let Z=this.getTargetWindow(),J=this.createCDPMessage(X);if(Z){if(!this.sendViaPostMessage(J,Z))this.queueEvent(J)}else this.queueEvent(J)}}isCDPMessage(X){if(typeof X!=="object"||X===null)return!1;return"method"in X||"id"in X}}var O8={Runtime:["enable","evaluate","getProperties","releaseObject","callFunctionOn"],Page:["enable","startScreencast","stopScreencast","getResourceTree","getResourceContent"],DOM:["enable","getDocument","removeNode","requestChildNodes","requestNode","getOuterHTML","setOuterHTML","setAttributesAsText","setInspectedNode","pushNodesByBackendIdsToFrontend","performSearch","getSearchResults","discardSearchResults","getNodeForLocation","setNodeValue","getBoxModel"],CSS:["enable","getComputedStyleForNode","getMatchedStylesForNode","getInlineStylesForNode","getBackgroundColors","getStyleSheetText","setStyleTexts"],Network:["enable","getCookies","setCookie","deleteCookies","getResponseBody"],Console:["enable","clearMessages"],DOMStorage:["enable","disable","getDOMStorageItems","setDOMStorageItem","removeDOMStorageItem","clear"],Storage:["getStorageKey","replayStoredEvents"],SessionReplay:["enable","disable","sendEvent","replayStoredEvents"]},rZ=O8,_={executionContextCreated:"Runtime.executionContextCreated",consoleAPICalled:"Runtime.consoleAPICalled",exceptionThrown:"Runtime.exceptionThrown",screencastFrame:"Page.screencastFrame",loadEventFired:"Page.loadEventFired",domContentEventFired:"Page.domContentEventFired",setChildNodes:"DOM.setChildNodes",childNodeCountUpdated:"DOM.childNodeCountUpdated",childNodeInserted:"DOM.childNodeInserted",childNodeRemoved:"DOM.childNodeRemoved",attributeModified:"DOM.attributeModified",attributeRemoved:"DOM.attributeRemoved",characterDataModified:"DOM.characterDataModified",documentUpdated:"DOM.documentUpdated",styleSheetAdded:"CSS.styleSheetAdded",styleSheetChanged:"CSS.styleSheetChanged",requestWillBeSent:"Network.requestWillBeSent",responseReceivedExtraInfo:"Network.responseReceivedExtraInfo",responseReceived:"Network.responseReceived",loadingFinished:"Network.loadingFinished",loadingFailed:"Network.loadingFailed",messageAdded:"Console.messageAdded",domStorageItemAdded:"DOMStorage.domStorageItemAdded",domStorageItemRemoved:"DOMStorage.domStorageItemRemoved",domStorageItemUpdated:"DOMStorage.domStorageItemUpdated",domStorageItemsCleared:"DOMStorage.domStorageItemsCleared",sessionReplayEventRecorded:"SessionReplay.eventRecorded"};class Runtime extends d{namespace="Runtime";constructor(X){super(X);this.hookConsole()}enable(){this.send({method:_.executionContextCreated,params:{context:{id:1,name:"top",origin:location.origin}}})}evaluate({expression:X,generatePreview:Z}){try{let J=window.eval(X);return window.$_=J,{result:A9(J,{preview:Z})}}catch(J){return{result:A9(J,{preview:Z})}}}getProperties(X){return{result:hX(X)}}releaseObject(X){gX(X)}callFunctionOn({functionDeclaration,objectId,arguments:args,silent}){try{let fun=eval(`(() => ${functionDeclaration})()`),resolvedArgs=(args||[]).map((X)=>{if("value"in X)return X.value;if("objectId"in X&&X.objectId)return Z1(X.objectId);return}),thisArg=objectId?Z1(objectId):null,result=fun.apply(thisArg,resolvedArgs);if(silent)return;return{result:A9(result)}}catch(X){if(silent)return;return{result:A9(X)}}}socketSend(X,Z){this.send(Z)}hookConsole(){let X=console,Z={log:"log",debug:"debug",info:"info",error:"error",warn:"warning",dir:"dir",dirxml:"dirxml",table:"table",trace:"trace",clear:"clear",group:"startGroup",groupCollapsed:"startGroupCollapsed",groupEnd:"endGroup"};Object.keys(Z).forEach((J)=>{let Y=X[J];console[J]=(...Q)=>{Y?.(...Q);let K={method:_.consoleAPICalled,params:{type:Z[J],args:Q.map((G)=>A9(G,{preview:!0})),executionContextId:1,timestamp:Date.now(),stackTrace:{callFrames:["error","warn","trace"].includes(J)?this.getCallFrames():[]}}};this.socketSend("console",K)}})}getCallFrames(X){if(X&&X.stack)return X.stack.split(`
`).slice(1).map((J)=>{let Y=J.match(/at\s+(.+?)\s+\((.+?):(\d+):(\d+)\)/);if(Y&&Y[2]&&Y[3]&&Y[4])return{functionName:Y[1],url:Y[2],lineNumber:parseInt(Y[3],10),columnNumber:parseInt(Y[4],10)};return{}});return[]}}class X1 extends d{namespace="Page";frame=new Map;intervalTimer=null;enable(){let X=new XMLHttpRequest;X.$$requestType="Document",X.onload=()=>{this.frame.set(location.href,X.responseText)},X.onerror=()=>{this.frame.set(location.href,"Cannot get script source code")},X.open("GET",location.href),X.send()}getResourceTree(){return{frameTree:{frame:{id:"1",mimeType:"text/html",securityOrigin:location.origin,url:location.href},resources:[]}}}getResourceContent({url:X}){return{content:this.frame.get(X)}}startScreencast(){let X=()=>{if(document.hidden)return;try{let Z=document.createElement("canvas");Z.width=window.innerWidth,Z.height=window.innerHeight;let J=Z.getContext("2d");if(J){J.fillStyle="#ffffff",J.fillRect(0,0,Z.width,Z.height);let Y=Z.toDataURL("image/jpeg",0.8);this.send({method:_.screencastFrame,params:{data:Y.replace(/^data:image\/jpeg;base64,/,""),metadata:{deviceHeight:window.innerHeight,deviceWidth:window.innerWidth,pageScaleFactor:1,offsetTop:0,scrollOffsetX:window.scrollX,scrollOffsetY:window.scrollY,timestamp:Date.now()}}})}}catch(Z){}};X(),this.intervalTimer=setInterval(X,1000)}stopScreencast(){if(this.intervalTimer)clearInterval(this.intervalTimer),this.intervalTimer=null}}var mX=new WeakMap,uX=new Map,M8=1;function n(X){let Z=mX.get(X);if(!Z)Z=M8++,mX.set(X,Z),uX.set(Z,X);return Z}function Z9(X){let Z=uX.get(X);if(!Z)return null;return Z}function pX(X){let Z=X.previousSibling;while(Z&&!k1(Z))Z=Z.previousSibling;return Z}function k1(X){if(X.nodeType===Node.TEXT_NODE)return(X.nodeValue||"").trim()!=="";return!0}function sZ(X){return Array.from(X).filter((Z)=>k1(Z))}function S9(X,Z=0){let J=n(X),Q={nodeId:J,backendNodeId:J,nodeType:X.nodeType,nodeName:X.nodeName};if(X.nodeType===Node.ELEMENT_NODE){let K=X;Q.localName=K.localName;let G=[];Array.from(K.attributes).forEach((H)=>{G.push(H.name,H.value)}),Q.attributes=G;let V=sZ(K.childNodes);if(Q.childNodeCount=V.length,(Z===-1||Z>0)&&V.length>0){let H=Z===-1?-1:Z-1;Q.children=V.map((q)=>S9(q,H))}}else if(X.nodeType===Node.TEXT_NODE||X.nodeType===Node.COMMENT_NODE)Q.nodeValue=X.nodeValue||"";else if(X.nodeType===Node.DOCUMENT_TYPE_NODE){let K=X;Q.nodeValue=K.name||"",Q.publicId=K.publicId||"",Q.systemId=K.systemId||""}else if(X.nodeType===Node.DOCUMENT_NODE){let K=sZ(X.childNodes);if(Q.childNodeCount=K.length,(Z===-1||Z>0)&&K.length>0){let G=Z===-1?-1:Z-1;Q.children=K.map((V)=>S9(V,G))}}return Q}class I9 extends d{namespace="DOM";searchId=0;searchRet=new Map;currentSearchKey="";registeredNodes=new WeakSet;enable(){let X=(Z)=>{if(this.registeredNodes.add(Z),Z.nodeType===Node.ELEMENT_NODE)Z.childNodes.forEach((J)=>{if(J.nodeType===Node.ELEMENT_NODE||J.nodeType===Node.TEXT_NODE||J.nodeType===Node.COMMENT_NODE)X(J)})};X(document),this.nodeObserver(),I9.set$Function()}getDocument(X){let Z=X?.depth??-1,J=(Q)=>{if(this.registeredNodes.add(Q),Q.nodeType===Node.ELEMENT_NODE||Q.nodeType===Node.DOCUMENT_NODE)Q.childNodes.forEach((K)=>{if(K.nodeType===Node.ELEMENT_NODE||K.nodeType===Node.TEXT_NODE||K.nodeType===Node.COMMENT_NODE||K.nodeType===Node.DOCUMENT_TYPE_NODE)J(K)})};J(document);let Y=S9(document,Z);if(Y.nodeType===Node.DOCUMENT_NODE)Y.documentURL=document.URL||location.href,Y.baseURL=document.baseURI||location.href;return{root:Y}}requestChildNodes({nodeId:X}){let Z=Z9(X);if(!Z){console.warn(`[CDP DOM] requestChildNodes: Node not found for nodeId: ${X}`);return}if(Z.nodeType!==Node.ELEMENT_NODE){console.warn(`[CDP DOM] requestChildNodes: Node ${X} is not an element node (nodeType: ${Z.nodeType})`);return}this.registeredNodes.add(Z);let J=Z;J.childNodes.forEach((K)=>{if(K.nodeType===Node.ELEMENT_NODE)this.registeredNodes.add(K)});let Q=sZ(J.childNodes).map((K)=>S9(K,0));this.send({method:_.setChildNodes,params:{parentId:X,nodes:Q}})}getOuterHTML({nodeId:X}){let Z=Z9(X);if(!Z)return console.warn(`[CDP DOM] getOuterHTML: Node not found for nodeId: ${X}`),{outerHTML:""};if(Z.nodeType!==Node.ELEMENT_NODE)return console.warn(`[CDP DOM] getOuterHTML: Node ${X} is not an element node (nodeType: ${Z.nodeType})`),{outerHTML:""};return{outerHTML:Z.outerHTML}}setOuterHTML({nodeId:X,outerHTML:Z}){let J=Z9(X);if(!J){console.warn(`[CDP DOM] setOuterHTML: Node not found for nodeId: ${X}`);return}if(J.nodeType!==Node.ELEMENT_NODE){console.warn(`[CDP DOM] setOuterHTML: Node ${X} is not an element node (nodeType: ${J.nodeType})`);return}J.outerHTML=Z}setAttributesAsText({nodeId:X,text:Z}){let J=Z9(X);if(!J){console.warn(`[CDP DOM] setAttributesAsText: Node not found for nodeId: ${X}`);return}if(J.nodeType!==Node.ELEMENT_NODE){console.warn(`[CDP DOM] setAttributesAsText: Node ${X} is not an element node (nodeType: ${J.nodeType})`);return}let Y=J;if(Z)Z.split(" ").filter((Q)=>Q).forEach((Q)=>{let[K,G]=Q.split("=");if(K&&G)Y.setAttribute(K,G.replace(/["']/g,""))});else Array.from(Y.attributes).forEach((Q)=>Y.removeAttribute(Q.name))}requestNode({objectId:X}){let Z=Z1(X);if(!Z)throw Error(`Node not found for objectId: ${X}`);return{nodeId:n(Z)}}setInspectedNode({nodeId:X}){let Z=Z9(X);if(!Z){console.warn(`[CDP DOM] setInspectedNode: Node not found for nodeId: ${X}`),window.$0=null;return}window.$0=Z}performSearch({query:X}){this.currentSearchKey=X;let Z=++this.searchId,J=[];try{let Y=document.querySelectorAll(X);J.push(...Array.from(Y))}catch{}return this.searchRet.set(Z,J),{searchId:Z,resultCount:J.length}}getSearchResults({searchId:X,fromIndex:Z,toIndex:J}){let Y=this.searchRet.get(X)||[],Q=Z||0,K=J!==void 0?J:Y.length;return{nodeIds:Y.slice(Q,K).map((V)=>n(V))}}discardSearchResults({searchId:X}){this.searchRet.delete(X)}getNodeForLocation({x:X,y:Z}){let J=document.elementFromPoint(X,Z);if(!J)throw Error(`Node not found at location (${X}, ${Z})`);return{nodeId:n(J)}}setNodeValue({nodeId:X,value:Z}){let J=Z9(X);if(!J){console.warn(`[CDP DOM] setNodeValue: Node not found for nodeId: ${X}`);return}J.nodeValue=Z}getBoxModel({nodeId:X}){let Z=Z9(X);if(!Z)throw Error(`Node not found for nodeId: ${X}`);if(Z.nodeType!==Node.ELEMENT_NODE)throw Error(`Node ${X} is not an element node (nodeType: ${Z.nodeType})`);let J=Z,Y=J.getBoundingClientRect(),Q=window.getComputedStyle(J),K=parseFloat(Q.paddingTop)||0,G=parseFloat(Q.paddingRight)||0,V=parseFloat(Q.paddingBottom)||0,H=parseFloat(Q.paddingLeft)||0,q=parseFloat(Q.borderTopWidth)||0,B=parseFloat(Q.borderRightWidth)||0,W=parseFloat(Q.borderBottomWidth)||0,U=parseFloat(Q.borderLeftWidth)||0,z=parseFloat(Q.marginTop)||0,F=parseFloat(Q.marginRight)||0,D=parseFloat(Q.marginBottom)||0,j=parseFloat(Q.marginLeft)||0;return{model:{content:[Y.left,Y.top,Y.right,Y.bottom],padding:[Y.left,Y.top+K,Y.right,Y.top+K+Y.height-V],border:[Y.left-U,Y.top-q,Y.right+B,Y.bottom+W],margin:[Y.left-U-j,Y.top-q-z,Y.right+B+F,Y.bottom+W+D],width:Y.width,height:Y.height}}}removeNode({nodeId:X}){let Z=Z9(X);if(!Z){console.warn(`[CDP DOM] removeNode: Node not found for nodeId: ${X}`);return}if(Z.parentNode)Z.parentNode.removeChild(Z)}pushNodesByBackendIdsToFrontend({backendNodeIds:X}){return{nodeIds:X.map((J)=>{let Y=Z9(J);return Y?n(Y):0}).filter((J)=>J>0)}}nodeObserver(){new MutationObserver((Z)=>{Z.forEach((J)=>{if(J.type==="childList")J.addedNodes.forEach((Y)=>{if(!k1(Y))return;if(Y.nodeType===Node.ELEMENT_NODE){let Q=J.target,K=Q?n(Q):0;if(K>0&&this.registeredNodes.has(Q)){let G=pX(Y),V=G?n(G):0;this.send({method:_.childNodeInserted,params:{parentNodeId:K,previousNodeId:V,node:S9(Y,0)}}),this.registeredNodes.add(Y)}}else if(Y.nodeType===Node.TEXT_NODE||Y.nodeType===Node.COMMENT_NODE){let Q=J.target,K=Q?n(Q):0;if(K>0&&this.registeredNodes.has(Q)){let G=pX(Y),V=G?n(G):0;this.send({method:_.childNodeInserted,params:{parentNodeId:K,previousNodeId:V,node:S9(Y,0)}}),this.registeredNodes.add(Y)}}}),J.removedNodes.forEach((Y)=>{if(!k1(Y))return;if(Y.nodeType===Node.ELEMENT_NODE||Y.nodeType===Node.TEXT_NODE||Y.nodeType===Node.COMMENT_NODE){let Q=J.target,K=Q?n(Q):0,G=n(Y);if(K>0&&G>0&&this.registeredNodes.has(Q))this.send({method:_.childNodeRemoved,params:{parentNodeId:K,nodeId:G}});this.registeredNodes.delete(Y)}});else if(J.type==="attributes"){let Y=J.target;this.send({method:_.attributeModified,params:{nodeId:n(Y),name:J.attributeName||"",value:Y.getAttribute(J.attributeName||"")||""}})}else if(J.type==="characterData")this.send({method:_.characterDataModified,params:{nodeId:n(J.target),characterData:J.target.nodeValue||""}})})}).observe(document,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0})}static set$Function(){if(typeof window.$!=="function")window.$=(X)=>document.querySelector(X);if(typeof window.$$!=="function")window.$$=(X)=>document.querySelectorAll(X);if(typeof window.$x!=="function")window.$x=(X)=>{let Z=document.evaluate(X,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),J=[];for(let Y=0;Y<Z.snapshotLength;Y++){let Q=Z.snapshotItem(Y);if(Q)J.push(Q)}return J}}}function oZ(X,Z){try{return X.matches(Z)}catch{return!1}}var nZ=new WeakMap,cX=new Map,lX=new Map;function dX(X=""){if(X){let Z=0;for(let J=0;J<X.length;J++){let Y=X.charCodeAt(J);Z=(Z<<5)-Z+Y,Z=Z&Z}return`stylesheet-${Math.abs(Z)}`}return`stylesheet-inline-${Date.now()}-${Math.random().toString(36).slice(2,11)}`}function f9(X){let Z=nZ.get(X);if(!Z){let J=X.href||"";Z=dX(J),nZ.set(X,Z)}return Z}function tZ(){return Array.from(document.styleSheets).forEach((X)=>{if(!nZ.has(X))f9(X)}),document.styleSheets}function b9(X){let Z={};for(let J=0,Y=X.length;J<Y;J++){let Q=X[J];if(Q){let K=X[Q]||X.getPropertyValue(Q);if(K)Z[Q]=K.trim()}}return Z}function g1(X,Z,J,Y,Q,K=0){Array.from(X).forEach((G)=>{Q.totalRules++;let V=G.selectorText;if(V){let H=G;Q.styleRules++,Q.allSelectors.push(V);let q=!1;try{q=oZ(Z,V)}catch{return}if(!q)return;Q.matchedRules++;let B=_8(V);Y.push({selectorText:V,style:H.style,styleSheetId:J,priority:B})}else if(G.type===CSSRule.MEDIA_RULE){let H=G;try{if(H.cssRules)g1(H.cssRules,Z,J,Y,Q,K+1)}catch{}}else if(G.type===16||G.name==="layer")try{let H=G.cssRules;if(H)g1(H,Z,J,Y,Q,K+1)}catch{}else if(G.cssRules)try{g1(G.cssRules,Z,J,Y,Q,K+1)}catch{}})}function m1(X){let Z=[],J={totalRules:0,styleRules:0,matchedRules:0,allSelectors:[]};return Array.from(document.styleSheets).forEach((K)=>{let G=f9(K),V=null;try{if(V=K.cssRules,!V)return}catch{return}g1(V,X,G,Z,J,0)}),Z.sort((K,G)=>G.priority-K.priority).map(({priority:K,...G})=>G)}function _8(X){let Z=(X.match(/#/g)||[]).length,J=(X.match(/\./g)||[]).length,Y=X.split(/[#.\s>+~[\]]/).filter((Q)=>Q&&/^[a-zA-Z]/.test(Q)).length;return Z*1000+J*100+Y}function iX(X){let Z=cX.get(X);if(Z)return Z;return Z=dX(),cX.set(X,Z),lX.set(Z,X),Z}function u1(X){return lX.get(X)}var h1=new Map;async function aX(X){if(h1.has(X))return h1.get(X);if(u1(X))return"";for(let J=0;J<document.styleSheets.length;J++){let Y=document.styleSheets[J];if(!Y)continue;if(f9(Y)===X){let Q=Y.href;if(Q)try{let G=await(await fetch(Q)).text();return h1.set(X,G),G}catch{return""}else{let K=Array.from(Y.cssRules).map((G)=>G.cssText).join(`
`);return h1.set(X,K),K}}}return""}function p1(X){let Z=["background","font","border","margin","padding","animation","transition","flex","flex-flow","grid","grid-area","grid-column","grid-row","grid-template","gap","place-content","place-items","place-self","outline","list-style","border-radius","border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-block","border-inline","columns","column-rule"],J=[];return Z.forEach((Y)=>{let Q=X[Y];if(Q)J.push({name:Y,value:Q})}),J}function J1(X){return Object.entries(X).map(([Z,J])=>({name:Z,value:J}))}function w8(X){let Z="",J=!1,Y=null,Q=!1,K=!1;for(let G=0;G<X.length;G++){let V=X[G],H=G+1<X.length?X[G+1]:"";if(J){if(V==="*"&&H==="/")J=!1,G++;continue}if(Y){if(Z+=V,K)K=!1;else if(V==="\\")K=!0;else if(V===Y)Y=null;continue}if(Q){if(Z+=V,!Y&&(V==='"'||V==="'"))Y=V;else if(V===")")Q=!1;continue}if(V==="/"&&H==="*"){J=!0,G++;continue}if(V==='"'||V==="'"){Y=V,Z+=V;continue}if((V==="u"||V==="U")&&X.slice(G,G+4).toLowerCase()==="url("){Q=!0,Z+="url(",G+=3;continue}Z+=V}return Z}function rX(X){let J=w8(X).split(";"),Y={};return J.forEach((Q)=>{let K=Q.trim();if(!K)return;let G=K.indexOf(":");if(G>0){let V=K.slice(0,G).trim(),H=K.slice(G+1).trim();Y[V]=H}}),Y}function sX(X){return X.split(`
`).length}function nX(X){let Z=X.split(`
`);return Z[Z.length-1]||""}function oX(X,Z,J){let Y=X.split(`
`),Q=0,K=0,G=0,V=0,H="",q=J.trim().replace(/\s+/g," "),B=[`${Z}: ${J}`,`${Z}:${J}`,`${Z}: ${q}`,`${Z}:${q}`];for(let W=0;W<Y.length;W++){let U=Y[W];if(!U)continue;for(let D of B){let j=U.indexOf(D);if(j!==-1)return H=D,Q=W,K=j,G=W,V=j+H.length,{startLine:Q,startColumn:K,endLine:G,endColumn:V,text:H}}let z=new RegExp(`${Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\s*:\\s*${J.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\s+/g,"\\s+")}`,"i"),F=U.match(z);if(F&&F.index!==void 0)return H=F[0],Q=W,K=F.index,G=W,V=F.index+H.length,{startLine:Q,startColumn:K,endLine:G,endColumn:V,text:H}}return{startLine:Q,startColumn:K,endLine:G,endColumn:V,text:H}}function c1(X,Z){let{selectorText:J,style:Y,styleSheetId:Q}=Z,K=J.split(",").map((q)=>q.trim()).filter((q)=>q.length>0),G=p1(Y),V=b9(Y),H=[];if(K.forEach((q,B)=>{try{if(oZ(X,q))H.push(B)}catch{}}),H.length===0&&K.length>0)K.forEach((q,B)=>H.push(B));return{matchingSelectors:H,rule:{styleSheetId:Q,origin:"regular",selectorList:{selectors:K.map((q)=>({text:q})),text:J},style:{cssProperties:J1(V),shorthandEntries:G}}}}function tX(X,Z){let J=X.split(`
`),Y=0,Q=0;for(let K=0;K<=Z.endLine;K++){let V=(J[K]||"").length+1;if(K<Z.startLine)Y+=V;else if(K===Z.startLine)Y+=Z.startColumn;if(K<Z.endLine)Q+=V;else if(K===Z.endLine)Q+=Z.endColumn}return{start:Y,end:Q}}class Y1 extends d{namespace="CSS";styleSheetObserver=null;processedStyleSheets=new WeakSet;constructor(X){super(X)}validateElementNode(X){let Z=Z9(X);if(!Z)return null;if(Z.nodeType!==Node.ELEMENT_NODE)return null;if(!document.contains(Z))return null;return Z}sendStyleSheetAdded(X){if(this.processedStyleSheets.has(X))return;this.processedStyleSheets.add(X);let Z=f9(X),J=X.href||"",Y=!J;this.send({method:_.styleSheetAdded,params:{header:{styleSheetId:Z,frameId:"main-frame",isInline:Y,sourceURL:Y?void 0:J,origin:"regular",startColumn:0,startLine:0,endColumn:0,endLine:0}}})}enable(){let X=tZ();if(Array.from(X).forEach((Z)=>{this.sendStyleSheetAdded(Z)}),this.styleSheetObserver=new MutationObserver((Z)=>{Z.forEach((J)=>{J.addedNodes.forEach((Y)=>{if(Y.nodeType===Node.ELEMENT_NODE){let Q=Y;if(Q.tagName==="STYLE"||Q.tagName==="LINK"&&Q.getAttribute("rel")==="stylesheet")setTimeout(()=>{let K=tZ();Array.from(K).forEach((G)=>{if(!this.processedStyleSheets.has(G))this.sendStyleSheetAdded(G)})},0)}})})}),this.styleSheetObserver.observe(document.head,{childList:!0,subtree:!0}),document.body)this.styleSheetObserver.observe(document.body,{childList:!0,subtree:!0})}disable(){if(this.styleSheetObserver)this.styleSheetObserver.disconnect(),this.styleSheetObserver=null}getComputedStyleForNode({nodeId:X}){let Z=this.validateElementNode(X);if(!Z)return{computedStyle:[]};let J=window.getComputedStyle(Z),Y=b9(J);return{computedStyle:J1(Y)}}getInlineStylesForNode({nodeId:X}){let Z=this.validateElementNode(X);if(!Z)return{};let Y=Z.style,Q={cssProperties:[],shorthandEntries:[]};if(Y&&Y.length>0){let K=iX(X);Q.styleSheetId=K;let G=Z.getAttribute("style")||"";if(Q.cssText=G,G)Q.range={startLine:0,startColumn:0,endLine:sX(G)-1,endColumn:nX(G).length};let V=rX(G),H=J1(V).map(({name:U,value:z})=>{let F=oX(G,U,z),D=Y[U],j=D!==void 0&&D!=="";return{name:U,value:z,text:F.text,range:{startLine:F.startLine,endLine:F.endLine,startColumn:F.startColumn,endColumn:F.endColumn},disabled:!1,implicit:!1,parsedOk:j}}),q=b9(Y),B=new Set(H.map((U)=>U.name)),W=J1(Object.fromEntries(Object.entries(q).filter(([U])=>!B.has(U))));Q.shorthandEntries=p1(Y),Q.cssProperties=[...H,...W]}return{inlineStyle:Q}}collectInheritedStyles(X){let Z=[],J=X.parentElement;while(J&&J!==document.documentElement){let Y=n(J);if(Y){let K=m1(J).map((V)=>c1(J,V)),G=this.getInlineStylesForNode({nodeId:Y});if(K.length>0||G.inlineStyle)Z.push({inlineStyle:G.inlineStyle,matchedCSSRules:K})}J=J.parentElement}if(document.documentElement&&document.documentElement!==X){let Y=n(document.documentElement);if(Y){let K=m1(document.documentElement).map((V)=>c1(document.documentElement,V)),G=this.getInlineStylesForNode({nodeId:Y});if(K.length>0||G.inlineStyle)Z.push({inlineStyle:G.inlineStyle,matchedCSSRules:K})}}return Z}getMatchedStylesForNode({nodeId:X}){let Z=this.validateElementNode(X);if(!Z)return{matchedCSSRules:[]};let Y=m1(Z).map((G)=>c1(Z,G)),Q=this.getInlineStylesForNode({nodeId:X}),K=this.collectInheritedStyles(Z);return{matchedCSSRules:Y,...Q,inherited:K.length>0?K:void 0}}getBackgroundColors({nodeId:X}){let Z=this.validateElementNode(X);if(!Z)return{backgroundColors:[]};let J=window.getComputedStyle(Z),Y=b9(J);return{backgroundColors:Y["background-color"]?[Y["background-color"]]:[],computedFontSize:Y["font-size"],computedFontWeight:Y["font-weight"]}}async getStyleSheetText({styleSheetId:X}){let Z=u1(X);if(Z){let Y=Z9(Z);if(Y&&Y.nodeType===Node.ELEMENT_NODE)return{text:Y.getAttribute("style")||""}}for(let Y=0;Y<document.styleSheets.length;Y++){let Q=document.styleSheets[Y];if(!Q)continue;if(f9(Q)===X){if(!Q.href)try{let V=Q.cssRules;if(V)return{text:Array.from(V).map((q)=>q.cssText).join(`
`)}}catch{return{text:""}}}}return{text:await aX(X)}}setStyleTexts({edits:X}){return{styles:X.map((J)=>{let{styleSheetId:Y,text:Q,range:K}=J,G=u1(Y);if(G){let V=Z9(G);if(V&&V.nodeType===Node.ELEMENT_NODE){let H=V,q=H.getAttribute("style")||"";if(K){let{start:W,end:U}=tX(q,K);q=q.slice(0,W)+Q+q.slice(U)}else q=Q;H.setAttribute("style",q);let B=this.getInlineStylesForNode({nodeId:G}).inlineStyle;if(B&&B.styleSheetId)return{styleSheetId:B.styleSheetId,cssText:B.cssText,range:B.range,cssProperties:B.cssProperties,shorthandEntries:B.shorthandEntries};return{styleSheetId:Y}}}return{styleSheetId:Y}})}}}function eX(X){if(!X||typeof X!=="string")return"";let Z=document.createElement("a");return Z.href=X,Z.href}function ZJ(X){return X.replace(/^\S|-[a-z]/g,(Z)=>Z.toUpperCase())}var X9=()=>Date.now()/1000;class Y9 extends d{namespace="Network";requestId=0;responseData=new Map;xhrMetadata=new WeakMap;constructor(X){super(X);this.hookXhr(),this.hookFetch()}enable(){this.reportImageNetwork()}getResponseBody({requestId:X}){let Z=this.responseData.get(X);if(!Z)return{body:"",base64Encoded:!1};if(typeof Z.body==="string")return{body:Z.body,base64Encoded:!1};return{body:"",base64Encoded:!1}}getCookies(){let X=[];if(document.cookie)document.cookie.split(";").forEach((Z)=>{let[J,Y]=Z.split("=").map((Q)=>Q.trim());if(J&&Y)X.push({name:J,value:Y,domain:location.hostname,path:"/"})});return{cookies:X}}setCookie({name:X,value:Z,domain:J,path:Y,httpOnly:Q,secure:K,sameSite:G}){try{let V=`${X}=${Z}`;if(J)V+=`; domain=${J}`;if(Y)V+=`; path=${Y}`;if(Q)V+="; httpOnly";if(K)V+="; secure";if(G)V+=`; sameSite=${G}`;return document.cookie=V,{success:!0}}catch{return{success:!1}}}deleteCookies({name:X,domain:Z,path:J}){if(X)document.cookie=`${X}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${J||"/"}; domain=${Z||location.hostname}`;else document.cookie.split(";").forEach((Y)=>{let Q=Y.split("=")[0]?.trim();if(Q)document.cookie=`${Q}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`})}hookXhr(){let X=this,Z=XMLHttpRequest.prototype.open,J=XMLHttpRequest.prototype.send,Y=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.open=function(Q,K,...G){return X.xhrMetadata.set(this,{method:Q,url:typeof K==="string"?K:K.toString(),headers:{}}),Z.apply(this,[Q,K,...G])},XMLHttpRequest.prototype.setRequestHeader=function(Q,K){let G=X.xhrMetadata.get(this);if(G)G.headers=G.headers||{},G.headers[Q]=K;return Y.apply(this,[Q,K])},XMLHttpRequest.prototype.send=function(Q){let K=X.xhrMetadata.get(this);if(!K)return J.apply(this,[Q]);let{method:G,url:V,headers:H={}}=K,q=`${X.requestId++}`,B={...Y9.getDefaultHeaders(),...H},W={requestId:q,url:V,method:G,headers:B};if(Q)W.postData=typeof Q==="string"?Q:JSON.stringify(Q);return X.socketSend({method:_.requestWillBeSent,params:{requestId:q,loaderId:q,documentURL:location.href,request:{url:V,method:G,headers:W.headers,postData:W.postData},timestamp:X9(),type:"XHR"}}),this.addEventListener("load",()=>{let U={requestId:q,url:V,status:this.status,statusText:this.statusText,headers:Y9.formatResponseHeader(this.getAllResponseHeaders()),mimeType:this.getResponseHeader("content-type")||"text/plain",body:this.responseText};X.responseData.set(q,U),X.socketSend({method:_.responseReceived,params:{requestId:q,loaderId:q,timestamp:X9(),type:"XHR",response:{url:V,status:this.status,statusText:this.statusText,headers:U.headers,mimeType:U.mimeType,body:U.body}}});let z=this.getResponseHeader("content-length"),F=Y9.calculateEncodedDataLength(z,this.responseText);X.socketSend({method:_.loadingFinished,params:{requestId:q,timestamp:X9(),encodedDataLength:F}})}),this.addEventListener("error",()=>{X.socketSend({method:_.loadingFailed,params:{requestId:q,timestamp:X9(),errorText:"Network error",canceled:!1}})}),J.apply(this,[Q])}}hookFetch(){let X=this,Z=window.fetch;window.fetch=function(J,Y){let Q=typeof J==="string"?J:J instanceof URL?J.toString():J.url,K=Y?.method||"GET",G=`${X.requestId++}`,V=Y9.getDefaultHeaders();if(Y?.headers)if(Y.headers instanceof Headers)Y.headers.forEach((q,B)=>{V[B]=q});else if(Array.isArray(Y.headers))Y.headers.forEach(([q,B])=>{V[q]=B});else V={...V,...Y.headers};if(J instanceof Request&&J.headers)J.headers.forEach((q,B)=>{V[B]=q});let H={requestId:G,url:Q,method:K,headers:V};if(Y?.body)H.postData=typeof Y.body==="string"?Y.body:JSON.stringify(Y.body);return X.socketSend({method:_.requestWillBeSent,params:{requestId:G,loaderId:G,documentURL:location.href,request:{url:Q,method:K,headers:H.headers,postData:H.postData},timestamp:X9(),type:"Fetch"}}),Z(J,Y).then((q)=>{let B=q.clone(),W="";return q.headers.forEach((U,z)=>{W+=`${z}: ${U}\r
`}),B.text().then((U)=>{let z={requestId:G,url:Q,status:q.status,statusText:q.statusText,headers:Y9.formatResponseHeader(W),mimeType:q.headers.get("content-type")||"text/plain",body:U};X.responseData.set(G,z),X.socketSend({method:_.responseReceived,params:{requestId:G,loaderId:G,timestamp:X9(),type:"Fetch",response:{url:Q,status:q.status,statusText:q.statusText,headers:z.headers,mimeType:z.mimeType,body:z.body}}});let F=q.headers.get("content-length"),D=Y9.calculateEncodedDataLength(F,U);X.socketSend({method:_.loadingFinished,params:{requestId:G,timestamp:X9(),encodedDataLength:D}})}).catch((U)=>{console.warn("Failed to read response body / 응답 본문 읽기 실패:",U);let z={requestId:G,url:Q,status:q.status,statusText:q.statusText,headers:Y9.formatResponseHeader(W),mimeType:q.headers.get("content-type")||"text/plain",body:""};X.responseData.set(G,z),X.socketSend({method:_.responseReceived,params:{requestId:G,loaderId:G,timestamp:X9(),type:"Fetch",response:{url:Q,status:q.status,statusText:q.statusText,headers:z.headers,mimeType:z.mimeType,body:""}}}),X.socketSend({method:_.loadingFinished,params:{requestId:G,timestamp:X9(),encodedDataLength:0}})}),q}).catch((q)=>{throw X.socketSend({method:_.loadingFailed,params:{requestId:G,timestamp:X9(),errorText:q.message,canceled:!1}}),q})}}reportImageNetwork(){document.querySelectorAll("img").forEach((Z)=>{if(Z.src&&!Z.complete){let J=`${this.requestId++}`;this.socketSend({method:_.requestWillBeSent,params:{requestId:J,loaderId:J,documentURL:location.href,request:{url:Z.src,method:"GET",headers:Y9.getDefaultHeaders()},timestamp:X9(),type:"Image"}}),Z.addEventListener("load",()=>{this.socketSend({method:_.responseReceived,params:{requestId:J,loaderId:J,timestamp:X9(),type:"Image",response:{url:Z.src,status:200,statusText:"OK",headers:{},mimeType:"image/*",body:void 0}}}),this.socketSend({method:_.loadingFinished,params:{requestId:J,timestamp:X9(),encodedDataLength:0}})}),Z.addEventListener("error",()=>{this.socketSend({method:_.loadingFailed,params:{requestId:J,timestamp:X9(),errorText:"Failed to load image",canceled:!1}})})}})}socketSend(X){this.send(X)}static formatResponseHeader(X){let Z={},J=X.split(`
`);for(let Y of J){let Q=Y.trim();if(Q==="")continue;let[K,G]=Q.split(":",2);if(K)Z[ZJ(K.trim())]=G?G.trim():""}return Z}static getDefaultHeaders(){let X={"User-Agent":navigator.userAgent};if(document.cookie)X.Cookie=document.cookie;return X}static calculateEncodedDataLength(X,Z){if(X){let J=parseInt(X,10);if(!isNaN(J)&&J>=0)return J}return new Blob([Z]).size}}class Q1 extends d{namespace="Console";isEnable=!1;enable(){this.isEnable=!0}clearMessages(){}}class JJ{listeners=new Map;originalMethods=new WeakMap;subscribe(X,Z){if(!this.listeners.has(X))this.listeners.set(X,new Set),this.hookStorage(X);return this.listeners.get(X).add(Z),()=>{let J=this.listeners.get(X);if(J){if(J.delete(Z),J.size===0)this.unhookStorage(X),this.listeners.delete(X)}}}hookStorage(X){if(this.originalMethods.has(X))return;let Z=X.setItem.bind(X),J=X.removeItem.bind(X),Y=X.clear.bind(X);this.originalMethods.set(X,{setItem:Z,removeItem:J,clear:Y}),X.setItem=(Q,K)=>{let G=this.originalMethods.get(X);if(!G)return;let V=X.getItem(Q),H=V!==null;G.setItem(Q,K),this.notify(X,{type:H?"updated":"added",key:Q,oldValue:V,newValue:K})},X.removeItem=(Q)=>{let K=this.originalMethods.get(X);if(!K)return;let G=X.getItem(Q);if(G!==null)K.removeItem(Q),this.notify(X,{type:"removed",key:Q,oldValue:G,newValue:null})},X.clear=()=>{let Q=this.originalMethods.get(X);if(!Q)return;Q.clear(),this.notify(X,{type:"cleared",key:null,oldValue:null,newValue:null})}}unhookStorage(X){let Z=this.originalMethods.get(X);if(Z)X.setItem=Z.setItem,X.removeItem=Z.removeItem,X.clear=Z.clear,this.originalMethods.delete(X)}notify(X,Z){let J=this.listeners.get(X);if(J)J.forEach((Y)=>{try{Y(Z)}catch{}})}}var XJ=new JJ;class K1 extends d{namespace="DOMStorage";isEnable=!1;unsubscribeFunctions=[];enable(){if(this.isEnable)return;this.isEnable=!0,this.setupStorageListeners();let X=location.origin,Z={isLocalStorage:!0,storageKey:X,securityOrigin:X},J={isLocalStorage:!1,storageKey:X,securityOrigin:X};this.getDOMStorageItems({storageId:Z}).entries.forEach(([K,G])=>{this.send({method:_.domStorageItemAdded,params:{storageId:Z,key:K,newValue:G}})}),this.getDOMStorageItems({storageId:J}).entries.forEach(([K,G])=>{this.send({method:_.domStorageItemAdded,params:{storageId:J,key:K,newValue:G}})})}disable(){if(!this.isEnable)return;this.isEnable=!1,this.removeStorageListeners()}getDOMStorageItems({storageId:X}){let Z=X.isLocalStorage?localStorage:sessionStorage,J=[];for(let Y=0;Y<Z.length;Y++){let Q=Z.key(Y);if(Q!==null){let K=Z.getItem(Q);if(K!==null)J.push([Q,K])}}return{entries:J}}setDOMStorageItem({storageId:X,key:Z,value:J}){(X.isLocalStorage?localStorage:sessionStorage).setItem(Z,J)}removeDOMStorageItem({storageId:X,key:Z}){(X.isLocalStorage?localStorage:sessionStorage).removeItem(Z)}clear({storageId:X}){(X.isLocalStorage?localStorage:sessionStorage).clear()}setupStorageListeners(){let X=XJ.subscribe(localStorage,(J)=>{if(!this.isEnable)return;let Y={isLocalStorage:!0,storageKey:location.origin,securityOrigin:location.origin};this.handleStorageChange(Y,J)}),Z=XJ.subscribe(sessionStorage,(J)=>{if(!this.isEnable)return;let Y={isLocalStorage:!1,storageKey:location.origin,securityOrigin:location.origin};this.handleStorageChange(Y,J)});this.unsubscribeFunctions.push(X,Z)}handleStorageChange(X,Z){if(!this.isEnable)return;let J=null;switch(Z.type){case"added":if(Z.key===null||Z.newValue===null)return;J={method:_.domStorageItemAdded,params:{storageId:X,key:Z.key,newValue:Z.newValue}};break;case"updated":if(Z.key===null||Z.oldValue===null||Z.newValue===null)return;J={method:_.domStorageItemUpdated,params:{storageId:X,key:Z.key,oldValue:Z.oldValue,newValue:Z.newValue}};break;case"removed":if(Z.key===null)return;J={method:_.domStorageItemRemoved,params:{storageId:X,key:Z.key}};break;case"cleared":J={method:_.domStorageItemsCleared,params:{storageId:X}};break;default:return}if(J)this.send(J)}removeStorageListeners(){this.unsubscribeFunctions.forEach((X)=>X()),this.unsubscribeFunctions=[]}}class G1 extends d{namespace="Storage";getStorageKey(X){return{storageKey:location.origin}}async replayStoredEvents(){if(!this.eventStorage||!this.socket)return console.warn("Cannot replay stored messages: eventStorage or socket not available / 저장된 메시지 재생 불가: eventStorage 또는 socket이 사용 불가"),{success:!1};try{let X=await this.eventStorage.getEvents();if(X.length===0)return{success:!0,count:0};let Z=X.filter((Q)=>{try{return!(JSON.parse(Q.message).method||"").startsWith("SessionReplay.")}catch{return!0}});if(Z.length===0)return{success:!0,count:0};let J=100,Y=0;for(let Q=0;Q<Z.length;Q+=J){let K=Z.slice(Q,Q+J);for(let G of K)if(this.socket.readyState===WebSocket.OPEN)try{let V=JSON.parse(G.message);this.socket.send(JSON.stringify(V)),Y++}catch(V){console.warn("Failed to parse stored message / 저장된 메시지 파싱 실패:",V)}else console.warn("WebSocket not open, cannot send message / WebSocket이 열려있지 않아 메시지 전송 불가");await new Promise((G)=>setTimeout(G,10))}return{success:!0,count:Y}}catch(X){return console.error("Failed to replay stored messages / 저장된 메시지 재생 실패:",X),{success:!1}}}}class V1 extends d{namespace="SessionReplay";isEnabled=!1;constructor(X){super(X)}enable(){this.isEnabled=!0,this.replayStoredEvents().catch((X)=>{console.error("Failed to replay stored SessionReplay events / 저장된 SessionReplay 이벤트 재생 실패:",X)})}setDevToolsWindow(X){if(this.devtoolsWindow=X,this.isEnabled)this.replayStoredEvents().then(()=>{super.setDevToolsWindow(X)}).catch((Z)=>{console.error("Failed to replay stored SessionReplay events after DevTools ready / DevTools 준비 후 저장된 SessionReplay 이벤트 재생 실패:",Z),super.setDevToolsWindow(X)});else super.setDevToolsWindow(X)}disable(){this.isEnabled=!1}sendEvent(X){if(!this.isEnabled)return{success:!1};let Z=X?.events||[];if(Z.length===0)return{success:!1};return this.send({method:_.sessionReplayEventRecorded,params:{events:Z}}),{success:!0}}async replayStoredEvents(){if(!this.eventStorage)return{success:!1};try{let Z=(await this.eventStorage.getEvents()).filter((Y)=>{try{return JSON.parse(Y.message).method==="SessionReplay.eventRecorded"}catch{return!1}});if(Z.length===0)return{success:!0,count:0};let J=0;for(let Y of Z)try{let Q=JSON.parse(Y.message),K=Q.params;if(K&&Array.isArray(K.events)&&K.events.length>0){if(this.socket&&this.socket.readyState===WebSocket.OPEN)this.socket.send(JSON.stringify(Q)),J++;else if(!this.socket)if(this.devtoolsWindow)try{this.devtoolsWindow.postMessage(Y,"*"),J++}catch(G){console.warn("[SessionReplay] Failed to send event via postMessage / [SessionReplay] postMessage로 이벤트 전송 실패:",G)}else return{success:!1};await new Promise((G)=>setTimeout(G,10))}else console.warn("[SessionReplay] Event params invalid or empty events array / [SessionReplay] 이벤트 params가 유효하지 않거나 events 배열이 비어있음:",K)}catch(Q){console.warn("[SessionReplay] Failed to parse stored message / [SessionReplay] 저장된 메시지 파싱 실패:",Q)}return{success:!0,count:J}}catch(X){return console.error("Failed to replay stored events / 저장된 이벤트 재생 실패:",X),{success:!1}}}}class H1{protocol={};domains=[];eventStorage;constructor(X){this.eventStorage=X.eventStorage,this.registerProtocol(X)}setDevToolsWindow(X){this.domains.forEach((Z)=>{Z.setDevToolsWindow(X)})}execute(X={}){let{id:Z,method:J,params:Y}=X;if(!J)return{id:Z};if(this.eventStorage)this.eventStorage.saveMessage({id:Z,method:J,params:Y});let Q=this.protocol[J];if(typeof Q!=="function")return{id:Z};try{let K=Q(Y);if(K instanceof Promise)return K.then((G)=>({id:Z,result:G})).catch((G)=>({id:Z,error:{code:-32000,message:G instanceof Error?G.message:String(G)}}));return{id:Z,result:K}}catch(K){return{id:Z,error:{code:-32000,message:K instanceof Error?K.message:String(K)}}}}registerProtocol(X){let Z=[new Runtime(X),new X1(X),new I9(X),new Y1(X),new Y9(X),new Q1(X),new K1(X),new G1(X),new V1(X)];this.domains=Z,Z.forEach((J)=>{let{namespace:Y}=J,Q=rZ[Y];if(Q)Q.forEach((K)=>{let G=`${Y}.${K}`,V=J[K];if(typeof V==="function")this.protocol[G]=V.bind(J)})})}getEventStorage(){return this.eventStorage}}var E8="CDPEventStorage",C8=1,m="events",O9="clientActivity",Y0=86400000;class Q0{db=null;config;clientId;maxSize=52428800;maxEvents=1e4;constructor(X){if(!X.clientId)throw Error("clientId is required / clientId는 필수입니다");if(this.config=X,this.clientId=X.clientId,this.maxEvents=X.maxStoredEvents||1e4,X.maxStorageSize)this.maxSize=X.maxStorageSize;else this.calculateMaxSize()}async init(){return new Promise((X,Z)=>{let J=indexedDB.open(E8,C8);J.onerror=()=>{console.error("Failed to open IndexedDB / IndexedDB 열기 실패:",J.error),Z(J.error)},J.onsuccess=()=>{this.db=J.result,X()},J.onupgradeneeded=(Y)=>{let Q=Y.target.result,K=Y.target.transaction;if(!K)return;let G;if(!Q.objectStoreNames.contains(m))G=Q.createObjectStore(m,{keyPath:"id",autoIncrement:!0}),G.createIndex("timestamp","timestamp",{unique:!1});else G=K.objectStore(m);if(!G.indexNames.contains("clientId"))G.createIndex("clientId","clientId",{unique:!1});if(!G.indexNames.contains("clientId_timestamp"))G.createIndex("clientId_timestamp",["clientId","timestamp"],{unique:!1});if(!Q.objectStoreNames.contains(O9))Q.createObjectStore(O9,{keyPath:"clientId"}).createIndex("lastActiveTime","lastActiveTime",{unique:!1})}})}async calculateMaxSize(){if(typeof navigator>"u"||!navigator.storage||!navigator.storage.estimate)return;try{let X=await navigator.storage.estimate(),Z=(X.quota||0)-(X.usage||0);this.maxSize=Math.min(Z*0.5,52428800)}catch(X){console.warn("Failed to estimate storage quota / 저장 용량 확인 실패:",X)}}shouldStore(X){if(typeof X!=="object"||X===null)return!1;return"method"in X||"id"in X}async getCurrentSize(){if(!this.db)return 0;return new Promise((X,Z)=>{let K=this.db.transaction([m],"readonly").objectStore(m).index("clientId").getAll(this.clientId);K.onsuccess=()=>{let V=K.result.reduce((H,q)=>H+(q.size||0),0);X(V)},K.onerror=()=>{Z(K.error)}})}async getEventCount(){if(!this.db)return 0;return new Promise((X,Z)=>{let K=this.db.transaction([m],"readonly").objectStore(m).index("clientId").count(this.clientId);K.onsuccess=()=>{X(K.result)},K.onerror=()=>{Z(K.error)}})}async deleteOldEvents(X){if(!this.db)return;return new Promise((Z,J)=>{let K=this.db.transaction([m],"readwrite").objectStore(m).index("clientId_timestamp"),G=IDBKeyRange.bound([this.clientId,0],[this.clientId,1/0]),V=K.openCursor(G,"next"),H=0;V.onsuccess=(q)=>{let B=q.target.result;if(B&&H<X){let W=B.value;H+=W.size||0,B.delete(),B.continue()}else Z()},V.onerror=()=>{J(V.error)}})}async deleteOldEventsByCount(X){if(!this.db)return;return new Promise((Z,J)=>{let K=this.db.transaction([m],"readwrite").objectStore(m).index("clientId_timestamp"),G=IDBKeyRange.bound([this.clientId,0],[this.clientId,1/0]),V=K.openCursor(G,"next"),H=0;V.onsuccess=(q)=>{let B=q.target.result;if(B&&H<X)B.delete(),H++,B.continue();else Z()},V.onerror=()=>{J(V.error)}})}async ensureStorageSpace(X){let Z=await this.getCurrentSize(),J=await this.getEventCount();if(Z+X>this.maxSize||J>=this.maxEvents){let Y=Math.max(0,Z+X-this.maxSize),Q=J>=this.maxEvents?J-this.maxEvents+1:0;if(Q>0)await this.deleteOldEventsByCount(Q);else if(Y>0)await this.deleteOldEvents(Y)}}async saveMessage(X,Z=0){if(!this.shouldStore(X))return;if(!this.db)await this.init();if(!this.db){console.warn("IndexedDB not available / IndexedDB 사용 불가");return}try{let J=Date.now(),Y,Q=!1,K,G=JSON.stringify(X);if(K=new Blob([G]).size,this.config.enableCompression){let V=await X0(G);if(V)Y=JSON.stringify({compressed:!0,data:Array.from(new Uint8Array(V))}),Q=!0,K=V.byteLength;else Y=G}else Y=G;return await this.ensureStorageSpace(K),new Promise((V)=>{let q=this.db.transaction([m],"readwrite").objectStore(m),B={clientId:this.clientId,type:"CDP_MESSAGE",message:Y,timestamp:J,compressed:Q,size:K},W=q.add(B);W.onsuccess=()=>{V()},W.onerror=()=>{if(W.error?.name==="QuotaExceededError"&&Z<1)this.deleteOldEvents(K).then(()=>{this.saveMessage(X,Z+1).then(V).catch(()=>{V()})});else console.error("Failed to save message / 메시지 저장 실패:",W.error),V()}})}catch(J){console.error("Error saving message / 메시지 저장 오류:",J)}}async saveEvent(X,Z,J=0){return this.saveMessage({method:X,params:Z},J)}async getEvents(){if(!this.db)await this.init();if(!this.db)return[];return new Promise((X,Z)=>{let Q=this.db.transaction([m],"readonly").objectStore(m).index("clientId_timestamp"),K=IDBKeyRange.bound([this.clientId,0],[this.clientId,1/0]),G=Q.getAll(K);G.onsuccess=async()=>{let V=G.result,H=await Promise.all(V.map(async(q)=>{let B;if(q.compressed){let{decompress:W}=await Promise.resolve().then(() => J0),U=new Uint8Array(JSON.parse(q.message).data).buffer,z=await W(U);if(z)try{let F=JSON.parse(z);if(F&&typeof F==="object"&&"message"in F&&F.type==="CDP_MESSAGE")B=F.message;else B=z}catch{B=z}else B=q.message}else try{let W=JSON.parse(q.message);if(W&&typeof W==="object"&&"message"in W&&W.type==="CDP_MESSAGE")B=W.message;else B=q.message}catch{B=q.message}return{type:"CDP_MESSAGE",message:B}}));X(H)},G.onerror=()=>{Z(G.error)}})}async getEventsAfter(X){if(!this.db)await this.init();if(!this.db)return[];return new Promise((Z,J)=>{let K=this.db.transaction([m],"readonly").objectStore(m).index("clientId_timestamp"),G=IDBKeyRange.bound([this.clientId,X],[this.clientId,1/0],!0,!1),V=K.getAll(G);V.onsuccess=async()=>{let H=V.result,q=await Promise.all(H.map(async(B)=>{let W;if(B.compressed){let{decompress:U}=await Promise.resolve().then(() => J0),z=new Uint8Array(JSON.parse(B.message).data).buffer,F=await U(z);if(F)try{let D=JSON.parse(F);if(D&&typeof D==="object"&&"message"in D&&D.type==="CDP_MESSAGE")W=D.message;else W=F}catch{W=F}else W=B.message}else try{let U=JSON.parse(B.message);if(U&&typeof U==="object"&&"message"in U&&U.type==="CDP_MESSAGE")W=U.message;else W=B.message}catch{W=B.message}return{type:"CDP_MESSAGE",message:W}}));Z(q)},V.onerror=()=>{J(V.error)}})}async clearEvents(X){if(!this.db)return;return new Promise((Z,J)=>{let G=this.db.transaction([m],"readwrite").objectStore(m).index("clientId").openCursor(IDBKeyRange.only(this.clientId));G.onsuccess=(V)=>{let H=V.target.result;if(H){let q=H.value;if(X)try{let W=JSON.parse(q.message).method||"";if(X.some((U)=>W.startsWith(U))){H.continue();return}}catch{}H.delete(),H.continue()}else Z()},G.onerror=()=>{J(G.error)}})}async clearEventsBefore(X){if(!this.db)return;return new Promise((Z,J)=>{let K=this.db.transaction([m],"readwrite").objectStore(m).index("clientId_timestamp"),G=IDBKeyRange.bound([this.clientId,0],[this.clientId,X],!1,!0),V=K.openCursor(G);V.onsuccess=(H)=>{let q=H.target.result;if(q)q.delete(),q.continue();else Z()},V.onerror=()=>{J(V.error)}})}async updateLastActiveTime(){if(!this.db)await this.init();if(!this.db)return;return new Promise((X,Z)=>{let Y=this.db.transaction([O9],"readwrite").objectStore(O9),Q={clientId:this.clientId,lastActiveTime:Date.now()},K=Y.put(Q);K.onsuccess=()=>{X()},K.onerror=()=>{Z(K.error)}})}async getActiveClientIds(){if(!this.db)await this.init();if(!this.db)return new Set;return new Promise((X,Z)=>{let Q=this.db.transaction([O9],"readonly").objectStore(O9).index("lastActiveTime"),K=Date.now()-Y0,G=IDBKeyRange.lowerBound(K),V=Q.getAll(G);V.onsuccess=()=>{let H=V.result,q=new Set(H.map((B)=>B.clientId));X(q)},V.onerror=()=>{Z(V.error)}})}async cleanupOrphanedEvents(){if(!this.db)await this.init();if(!this.db)return 0;try{let X=await this.getActiveClientIds(),Z=Date.now()-Y0;return new Promise((J,Y)=>{let G=this.db.transaction([m],"readwrite").objectStore(m).index("timestamp"),V=IDBKeyRange.upperBound(Z),H=G.openCursor(V),q=0;H.onsuccess=(B)=>{let W=B.target.result;if(W){let U=W.value;if(!X.has(U.clientId))W.delete(),q++;W.continue()}else this.cleanupOldActivityRecords().then(()=>{J(q)})},H.onerror=()=>{Y(H.error)}})}catch(X){return console.error("Failed to cleanup orphaned events / orphaned 이벤트 정리 실패:",X),0}}async cleanupOldActivityRecords(){if(!this.db)return;return new Promise((X,Z)=>{let Q=this.db.transaction([O9],"readwrite").objectStore(O9).index("lastActiveTime"),K=Date.now()-Y0,G=IDBKeyRange.upperBound(K),V=Q.openCursor(G);V.onsuccess=(H)=>{let q=H.target.result;if(q)q.delete(),q.continue();else X()},V.onerror=()=>{Z(V.error)}})}async exportToFile(){if(!this.db)await this.init();if(!this.db)throw Error("IndexedDB not available / IndexedDB 사용 불가");try{let X=await this.getEvents(),Z=[];if(document.cookie)document.cookie.split(";").forEach((W)=>{let U=W.indexOf("=");if(U>0){let z=W.substring(0,U).trim(),F=W.substring(U+1).trim();if(z&&F)Z.push({name:z,value:F,domain:location.hostname,path:"/"})}});let J=[],Y=[];for(let W=0;W<window.localStorage.length;W++){let U=window.localStorage.key(W);if(U){let z=window.localStorage.getItem(U);if(z!==null)J.push([U,z])}}for(let W=0;W<window.sessionStorage.length;W++){let U=window.sessionStorage.key(W);if(U){let z=window.sessionStorage.getItem(U);if(z!==null)Y.push([U,z])}}let Q=document.documentElement.outerHTML,K={documentURL:document.URL||location.href,baseURL:document.baseURI||location.href,html:Q},G={version:"1.0.0",exportDate:new Date().toISOString(),clientId:this.clientId,events:X,cookies:Z,localStorage:J,sessionStorage:Y,domTree:K},V=JSON.stringify(G,null,2),H=new Blob([V],{type:"application/json"}),q=URL.createObjectURL(H),B=document.createElement("a");B.href=q,B.download=`cdp-events-${this.clientId}-${Date.now()}.json`,B.click(),URL.revokeObjectURL(q)}catch(X){throw console.error("Failed to export messages / 메시지 내보내기 실패:",X),X}}}function q1(){let X=sessionStorage.getItem("debug_id");if(!X){if(typeof crypto<"u"&&crypto.randomUUID)X=crypto.randomUUID();else{let Z=`${Date.now()}-${performance.now()}`,J=Math.random().toString(36).substring(2,11),Y=Math.random().toString(36).substring(2,11),Q=Math.random().toString(36).substring(2,11);X=`${Z}-${J}-${Y}-${Q}`}sessionStorage.setItem("debug_id",X)}return X}function T8(){let X=document.head.querySelectorAll("link"),Z=Array.from(X).find((Y)=>{let Q=Y.getAttribute("rel");return Q?.includes("icon")||Q?.includes("shortcut")}),J="";if(Z)J=eX(Z.getAttribute("href")||"");return J}function YJ(){let X=new URLSearchParams;return X.append("url",location.href),X.append("title",document.title),X.append("favicon",T8()),X.append("time",Date.now().toString()),X.append("ua",navigator.userAgent),X.toString()}class K0{serverUrl;rrwebConfig;skipWebSocket;onDomainCreated;onRrwebInit;socket=null;domain=null;eventStorage=void 0;updateInterval=null;cleanupInterval=null;constructor(X,Z,J,Y,Q){this.serverUrl=X;this.rrwebConfig=Z;this.skipWebSocket=J;this.onDomainCreated=Y;this.onRrwebInit=Q}async initialize(){if(await this.initializeEventStorage(),this.skipWebSocket){await this.initializePostMessageMode();return}await this.initializeWebSocket()}async initializePostMessageMode(){let X=new H1({socket:null,eventStorage:this.eventStorage});if(this.domain=X,this.onDomainCreated?.(X),X.execute({method:"Runtime.enable"}),X.execute({method:"Network.enable"}),X.execute({method:"Console.enable"}),this.onRrwebInit)await this.onRrwebInit(null,X)}async initializeWebSocket(){let X="ws:";if(this.serverUrl.startsWith("wss://")||this.serverUrl.startsWith("https://"))X="wss:";else if(this.serverUrl.startsWith("ws://")||this.serverUrl.startsWith("http://"))X="ws:";else if(typeof location<"u"&&location.protocol==="https:")X="wss:";let Z=this.serverUrl.replace(/^(http|https|ws|wss):\/\//i,""),J=new WebSocket(`${X}//${Z}/remote/debug/client/${q1()}?${YJ()}`);this.socket=J;let Y=new H1({socket:J,eventStorage:this.eventStorage});if(this.domain=Y,this.onDomainCreated?.(Y),this.setupSocketHandlers(J,Y),this.setupPeriodicTasks(J),this.onRrwebInit)await this.onRrwebInit(J,Y)}async initializeEventStorage(){let X=q1(),Z=this.rrwebConfig.enableEventStorage!==!1,J=this.rrwebConfig.enableCompression!==!1;if(!Z)return;this.eventStorage=new Q0({clientId:X,enableCompression:J,maxStoredEvents:this.rrwebConfig.maxStoredEvents,maxStorageSize:this.rrwebConfig.maxStorageSize}),await this.eventStorage.init().then(async()=>{if(performance.getEntriesByType("navigation")[0]?.type==="reload")await this.eventStorage?.clearEvents();if(await this.eventStorage?.updateLastActiveTime(),await this.eventStorage?.cleanupOrphanedEvents(),this.rrwebConfig.enableExportButton===!0&&this.eventStorage){let{injectExportButton:K}=await Promise.resolve().then(() => QJ);K(this.eventStorage)}})}setupSocketHandlers(X,Z){X.addEventListener("message",async({data:J})=>{await this.handleSocketMessage(J,Z,X)})}async sendStoredEvents(X){if(!this.eventStorage||this.rrwebConfig.enableEventStorage===!1)return;try{let Z=await this.eventStorage.getEvents();if(Z.length>0)for(let Y=0;Y<Z.length;Y+=100){let Q=Z.slice(Y,Y+100);for(let K of Q)if(X.readyState===WebSocket.OPEN)try{let G=JSON.parse(K.message);X.send(JSON.stringify(G))}catch(G){console.warn("Failed to parse stored message / 저장된 메시지 파싱 실패:",G)}await new Promise((K)=>setTimeout(K,10))}}catch(Z){console.error("Failed to send stored messages / 저장된 메시지 전송 실패:",Z)}}async handleSocketMessage(X,Z,J){try{let Y;if(X instanceof Blob)Y=await X.text();else if(typeof X==="string")Y=X;else if(X instanceof ArrayBuffer)Y=new TextDecoder().decode(X);else Y=String(X);let Q=JSON.parse(Y),K=Z.execute(Q);if(K instanceof Promise){let G=await K;if(G.id!==void 0)J.send(JSON.stringify(G))}else if(K.id!==void 0)J.send(JSON.stringify(K))}catch(Y){console.error("CDP message error:",Y)}}setupPeriodicTasks(X){if(this.rrwebConfig.enableEventStorage!==!1&&this.eventStorage)this.updateInterval=setInterval(async()=>{await this.eventStorage?.updateLastActiveTime()},300000),this.cleanupInterval=setInterval(async()=>{await this.eventStorage?.cleanupOrphanedEvents()},3600000),X.addEventListener("close",()=>{this.cleanup()})}getDomain(){return this.domain}getSocket(){return this.socket}cleanup(){if(this.updateInterval)clearInterval(this.updateInterval),this.updateInterval=null;if(this.cleanupInterval)clearInterval(this.cleanupInterval),this.cleanupInterval=null;if(this.socket&&this.socket.readyState!==WebSocket.CLOSED)this.socket.close();this.socket=null,this.domain=null}}class G0{domain;handler=null;devtoolsWindow=null;constructor(X){this.domain=X;this.setup()}setDomain(X){if(this.domain=X,this.devtoolsWindow&&X)X.setDevToolsWindow(this.devtoolsWindow)}setup(){this.handler=this.handleMessage.bind(this),window.addEventListener("message",this.handler)}isWindow(X){return X!==null&&typeof X==="object"&&"postMessage"in X&&typeof X.postMessage==="function"}handleMessage(X){if(!X.data||typeof X.data!=="object")return;if(typeof window<"u"&&window.__CHROME_REMOTE_DEVTOOLS_REPLAY_MODE__)return;if(X.data.type==="DEVTOOLS_READY"){if(this.isWindow(X.source)){if(this.devtoolsWindow=X.source,this.domain)this.domain.setDevToolsWindow(this.devtoolsWindow)}window.dispatchEvent(new CustomEvent("devtools-ready",{detail:{ready:!0}}));return}if(X.data.type==="CDP_MESSAGE"&&X.data.message){if(!this.devtoolsWindow&&this.isWindow(X.source)){if(this.devtoolsWindow=X.source,this.domain)this.domain.setDevToolsWindow(this.devtoolsWindow)}this.handleCDPMessage(X,!0);return}}handleCDPMessage(X,Z,J=!1){if(!this.domain)return;try{let Y=Z?JSON.parse(X.data.message):X.data,Q=this.domain.execute(Y);this.sendResponse(X.source,Y.id,Q,J)}catch(Y){console.warn("Failed to parse CDP message:",Y)}}sendResponse(X,Z,J,Y=!1){let Q=(K)=>{if(K.id!==void 0&&this.isWindow(X))try{if(Y)X.postMessage(K,"*");else{let G={type:"CDP_MESSAGE",message:JSON.stringify(K)};X.postMessage(G,"*")}}catch(G){console.warn("Failed to send postMessage response:",G)}};if(J instanceof Promise)J.then(Q).catch((K)=>{Q({id:Z,error:{code:-32000,message:K instanceof Error?K.message:String(K)}})});else Q(J)}destroy(){if(this.handler)window.removeEventListener("message",this.handler),this.handler=null}}function KJ(X){let Z=[];return{push(J){return Z.push(J),Z.length>=X},drain(){return Z.splice(0,Z.length)},clear(){Z.length=0},size(){return Z.length}}}function GJ(X){let{executeCDP:Z}=X;return{async send(J){let Y=Z("SessionReplay.sendEvent",{events:J.events});if(Y.error)throw Error(`Failed to send rrweb events: ${JSON.stringify(Y.error)}`)}}}async function r5(){let Z=(await Promise.resolve().then(() => (Q8(),Y8))).record;if(!Z)throw Error("rrweb record not available / rrweb record를 찾을 수 없음");return Z}function K8(X){let{transport:Z,recordOptions:J,flushIntervalMs:Y=2000,maxBatchSize:Q=50,onError:K,sessionId:G=`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,kind:V="rrweb"}=X,H=null,q=KJ(Q),B=null,W=!1,U=!1,z={sessionId:G,kind:V},F=async()=>{if(U||q.size()===0)return;U=!0;let P=q.drain();try{await Z.send({...z,events:P})}catch(M){K?.(M)}finally{U=!1}},D=async()=>{if(W)return;let P=await r5(),M={...J,emit(I){if(q.push(I))F()}};H=P(M),W=!0;let T=()=>{B=setTimeout(()=>{F().finally(()=>{if(W)T()})},Y)};T()};return{start:D,stop:()=>{if(!W)return;if(H?.(),H=null,W=!1,B)clearTimeout(B),B=null;q.clear(),U=!1},pause:()=>{if(!W)return;if(H?.(),H=null,W=!1,B)clearTimeout(B),B=null;F()},resume:async()=>{if(W)return;await D()},flush:F,isRecording(){return W},getSessionId(){return G}}}function G8(X){return GJ(X)}async function V8(X,Z,J){if(!Z.enable)return null;try{J.execute({method:"SessionReplay.enable"});let Y=Z.recordOptions??{},Q=G8({executeCDP:(G,V)=>{let H=J.execute({method:G,params:V});if(H instanceof Promise)return{error:{message:"Async method not supported in executeCDP"}};return{result:H.result,error:H.error}}}),K=K8({transport:Q,flushIntervalMs:Z.flushIntervalMs,maxBatchSize:Z.maxBatchSize,recordOptions:{checkoutEveryNth:200,checkoutEveryNms:5000,recordCanvas:!1,inlineStylesheet:!1,blockClass:"rr-block",blockSelector:'script, meta[http-equiv="refresh"], iframe',ignoreClass:"rr-ignore",maskAllInputs:!0,...Y},kind:"rrweb",onError:(G)=>{console.warn("rrweb recorder error / rrweb 레코더 오류:",G)}});if(await K.start(),X)X.addEventListener("close",()=>{K.stop()});return K}catch(Y){return console.error("Failed to start rrweb recorder / rrweb 레코더 시작 실패:",Y),null}}function H8(){let X=navigator;if(!X.wakeLock)return;X.wakeLock.request("screen").catch(()=>{}),document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible")X.wakeLock?.request("screen").catch(()=>{})})}class xX{domain=null;rrwebRecorder=null;websocketClient=null;postMessageHandler=null;async initialize(X,Z={enable:!1},J=!1){this.websocketClient=new K0(X,Z,J,(Y)=>{if(this.domain=Y,this.postMessageHandler)this.postMessageHandler.setDomain(Y)},async(Y,Q)=>{this.rrwebRecorder=await V8(Y,Z,Q)}),await this.websocketClient.initialize(),this.domain=this.websocketClient.getDomain(),this.postMessageHandler=new G0(this.domain),H8()}getDomain(){return this.domain}getRrwebRecorder(){return this.rrwebRecorder}getWebSocketClient(){return this.websocketClient}getPostMessageHandler(){return this.postMessageHandler}destroy(){if(this.websocketClient)this.websocketClient.cleanup(),this.websocketClient=null;if(this.postMessageHandler)this.postMessageHandler.destroy(),this.postMessageHandler=null;if(this.rrwebRecorder)this.rrwebRecorder.stop(),this.rrwebRecorder=null;this.domain=null}}var n9=null;async function q8(X,Z={enable:!1},J=!1){if(n9)n9.destroy();n9=new xX,await n9.initialize(X,Z,J)}async function B8(X={}){let{serverUrl:Z,rrweb:J={enable:!1},skipWebSocket:Y=!1}=X,Q=Z||"",K=Y||!Z;if(typeof window<"u"){let G=q1();if(K&&window.parent!==window){try{window.parent.postMessage({type:"SET_DEBUG_ID",debugId:G},"*")}catch{}try{localStorage.setItem("debug_id",G)}catch{}}}await q8(Q,J,K)}async function W8(){if(!n9)throw Error("CDP client not initialized / CDP 클라이언트가 초기화되지 않았습니다");let X=n9.getDomain();if(!X)throw Error("CDP domain not available / CDP 도메인을 사용할 수 없습니다");let Z=X.getEventStorage();if(!Z)throw Error("Event storage not available / 이벤트 저장소를 사용할 수 없습니다");await Z.exportToFile()}if(typeof window<"u")window.ChromeRemoteDevTools={init:B8,exportEvents:W8};})();
